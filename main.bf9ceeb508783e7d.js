"use strict";(self.webpackChunkcrudapp=self.webpackChunkcrudapp||[]).push([[179],{2011:(ht,be,N)=>{N.d(be,{Dh:()=>xe,GT:()=>fe,cc:()=>ke,on:()=>Re,pX:()=>ce,xv:()=>Te});var h=N(4650),O=N(9260);ht=N.hmd(ht);const X=["ngOnDestroy"],ce=(Z,Ae,_e,Pe={})=>new Proxy(Z,{get:(pe,de)=>_e.runOutsideAngular(()=>{var ye;if(Z[de])return!(null===(ye=Pe?.spy)||void 0===ye)&&ye.get&&Pe.spy.get(de,Z[de]),Z[de];if(X.indexOf(de)>-1)return()=>{};const Oe=Ae.toPromise().then(Ne=>{const K=Ne&&Ne[de];return"function"==typeof K?K.bind(Ne):K&&K.then?K.then(ze=>_e.run(()=>ze)):_e.run(()=>K)});return new Proxy(()=>{},{get:(Ne,K)=>Oe[K],apply:(Ne,K,ze)=>Oe.then(pt=>{var Ge;const Ft=pt&&pt(...ze);return!(null===(Ge=Pe?.spy)||void 0===Ge)&&Ge.apply&&Pe.spy.apply(de,ze,Ft),Ft})})})}),fe=(Z,Ae)=>{Ae.forEach(_e=>{Object.getOwnPropertyNames(_e.prototype||_e).forEach(Pe=>{Object.defineProperty(Z.prototype,Pe,Object.getOwnPropertyDescriptor(_e.prototype||_e,Pe))})})};class ue{constructor(Ae){return Ae}}const xe=new h.OlP("angularfire2.app.options"),Te=new h.OlP("angularfire2.app.name");function Re(Z,Ae,_e){const pe="object"==typeof _e&&_e||{};pe.name=pe.name||"string"==typeof _e&&_e||"[DEFAULT]";const ye=O.Z.apps.filter(Oe=>Oe&&Oe.name===pe.name)[0]||Ae.runOutsideAngular(()=>O.Z.initializeApp(Z,pe));try{JSON.stringify(Z)!==JSON.stringify(ye.options)&&V("error",`${ye.name} Firebase App already initialized with different options${ht.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ue(ye)}const V=(Z,...Ae)=>{(0,h.X6Q)()&&typeof console<"u"&&console[Z](...Ae)};function ke(Z,Ae,_e,Pe,pe){const[,de,ye]=globalThis.\u0275AngularfireInstanceCache.find(Oe=>Oe[0]===Z)||[];if(de)return function Se(Z,Ae){try{return Z.toString()===Ae.toString()}catch{return Z===Ae}}(pe,ye)||(Ze("error",`${Ae} was already initialized on the ${_e} Firebase App with different settings.${He?" You may need to reload as Firebase is not HMR aware.":""}`),Ze("warn",{is:pe,was:ye})),de;{const Oe=Pe();return globalThis.\u0275AngularfireInstanceCache.push([Z,Oe,pe]),Oe}}const He=!!ht.hot,Ze=(Z,...Ae)=>{(0,h.X6Q)()&&typeof console<"u"&&console[Z](...Ae)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},1389:(ht,be,N)=>{N.d(be,{$:()=>mt,A:()=>F,B:()=>zg,D:()=>Se,I:()=>cn,J:()=>Kr,L:()=>Ii,N:()=>Ei,P:()=>ci,Q:()=>ph,R:()=>Ou,U:()=>T0,V:()=>gh,W:()=>mh,X:()=>Di,Y:()=>yu,Z:()=>Fg,_:()=>_h,a:()=>Tr,a0:()=>S0,a1:()=>wh,a2:()=>Vg,a3:()=>Ug,a4:()=>Ci,a5:()=>bh,a6:()=>Sh,a7:()=>gr,a8:()=>go,a9:()=>as,aA:()=>K,aB:()=>Kh,aC:()=>Hn,aD:()=>oi,aE:()=>zs,aF:()=>Ao,aG:()=>So,aH:()=>zt,aL:()=>cs,aO:()=>Ps,aa:()=>Ah,ab:()=>A0,ac:()=>M0,ad:()=>Mh,ae:()=>Bg,af:()=>$g,ai:()=>Rh,aj:()=>x0,ak:()=>mr,an:()=>Lg,ao:()=>cl,aq:()=>dl,ar:()=>Da,as:()=>pt,at:()=>en,au:()=>ft,av:()=>pe,aw:()=>Po,ax:()=>qn,ay:()=>on,az:()=>de,b:()=>Au,c:()=>Dl,d:()=>To,e:()=>ku,f:()=>Lu,g:()=>Uu,h:()=>Vu,i:()=>_l,j:()=>im,k:()=>fs,l:()=>El,m:()=>Pl,o:()=>zu,p:()=>Te,r:()=>V0,s:()=>Do,u:()=>Yr});var h=N(5861),O=N(2090),X=N(6881),ce=N(7582),fe=N(1877),ue=N(4859);const Te={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},F={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Se=function j(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},He=function ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ze=new O.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ae=new fe.Yd("@firebase/auth");function Pe(v,...f){Ae.logLevel<=fe.in.ERROR&&Ae.error(`Auth (${X.SDK_VERSION}): ${v}`,...f)}function pe(v,...f){throw Ne(v,...f)}function de(v,...f){return Ne(v,...f)}function ye(v,f,m){const w=Object.assign(Object.assign({},He()),{[f]:m});return new O.LL("auth","Firebase",w).create(f,{appName:v.name})}function Oe(v,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&pe(v,"argument-error"),ye(v,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ne(v,...f){if("string"!=typeof v){const m=f[0],w=[...f.slice(1)];return w[0]&&(w[0].appName=v.name),v._errorFactory.create(m,...w)}return Ze.create(v,...f)}function K(v,f,...m){if(!v)throw Ne(f,...m)}function ze(v){const f="INTERNAL ASSERTION FAILED: "+v;throw Pe(f),new Error(f)}function pt(v,f){v||ze(f)}function Ge(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function Ft(){return"http:"===tt()||"https:"===tt()}function tt(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class wi{constructor(f,m){this.shortDelay=f,this.longDelay=m,pt(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return function ro(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ft()||(0,O.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function io(v,f){pt(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class Q{static initialize(f,m,w){this.fetchImpl=f,m&&(this.headersImpl=m),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ze("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ze("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ze("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ne={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},re=new wi(3e4,6e4);function H(v,f){return v.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:v.tenantId}):f}function he(v,f,m,w){return De.apply(this,arguments)}function De(){return(De=(0,h.Z)(function*(v,f,m,w,T={}){return at(v,T,(0,h.Z)(function*(){let M={},B={};w&&("GET"===f?B=w:M={body:JSON.stringify(w)});const Y=(0,O.xO)(Object.assign({key:v.config.apiKey},B)).slice(1),Ie=yield v._getAdditionalHeaders();return Ie["Content-Type"]="application/json",v.languageCode&&(Ie["X-Firebase-Locale"]=v.languageCode),Q.fetch()(Vt(v,v.config.apiHost,m,Y),Object.assign({method:f,headers:Ie,referrerPolicy:"no-referrer"},M))}))})).apply(this,arguments)}function at(v,f,m){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,h.Z)(function*(v,f,m){v._canInitEmulator=!1;const w=Object.assign(Object.assign({},ne),f);try{const T=new In(v),M=yield Promise.race([m(),T.promise]);T.clearNetworkTimeout();const B=yield M.json();if("needConfirmation"in B)throw Kt(v,"account-exists-with-different-credential",B);if(M.ok&&!("errorMessage"in B))return B;{const Y=M.ok?B.errorMessage:B.error.message,[Ie,Fe]=Y.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ie)throw Kt(v,"credential-already-in-use",B);if("EMAIL_EXISTS"===Ie)throw Kt(v,"email-already-in-use",B);if("USER_DISABLED"===Ie)throw Kt(v,"user-disabled",B);const Xe=w[Ie]||Ie.toLowerCase().replace(/[_\s]+/g,"-");if(Fe)throw ye(v,Xe,Fe);pe(v,Xe)}}catch(T){if(T instanceof O.ZR)throw T;pe(v,"network-request-failed",{message:String(T)})}})).apply(this,arguments)}function Jt(v,f,m,w){return dt.apply(this,arguments)}function dt(){return(dt=(0,h.Z)(function*(v,f,m,w,T={}){const M=yield he(v,f,m,w,T);return"mfaPendingCredential"in M&&pe(v,"multi-factor-auth-required",{_serverResponse:M}),M})).apply(this,arguments)}function Vt(v,f,m,w){const T=`${f}${m}?${w}`;return v.config.emulator?io(v.config,T):`${v.config.apiScheme}://${T}`}class In{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,w)=>{this.timer=setTimeout(()=>w(de(this.auth,"network-request-failed")),re.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Kt(v,f,m){const w={appName:v.name};m.email&&(w.email=m.email),m.phoneNumber&&(w.phoneNumber=m.phoneNumber);const T=de(v,f,w);return T.customData._tokenResponse=m,T}function Un(){return(Un=(0,h.Z)(function*(v,f){return he(v,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function ir(){return(ir=(0,h.Z)(function*(v,f){return he(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function $n(){return($n=(0,h.Z)(function*(v,f){return he(v,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function nt(v){if(v)try{const f=new Date(Number(v));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function On(){return(On=(0,h.Z)(function*(v,f=!1){const m=(0,O.m9)(v),w=yield m.getIdToken(f),T=si(w);K(T&&T.exp&&T.auth_time&&T.iat,m.auth,"internal-error");const M="object"==typeof T.firebase?T.firebase:void 0,B=M?.sign_in_provider;return{claims:T,token:w,authTime:nt(Hr(T.auth_time)),issuedAtTime:nt(Hr(T.iat)),expirationTime:nt(Hr(T.exp)),signInProvider:B||null,signInSecondFactor:M?.sign_in_second_factor||null}})).apply(this,arguments)}function Hr(v){return 1e3*Number(v)}function si(v){const[f,m,w]=v.split(".");if(void 0===f||void 0===m||void 0===w)return Pe("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,O.tV)(m);return T?JSON.parse(T):(Pe("Failed to decode base64 JWT payload"),null)}catch(T){return Pe("Caught error parsing JWT payload as JSON",T?.toString()),null}}function Lt(v,f){return st.apply(this,arguments)}function st(){return(st=(0,h.Z)(function*(v,f,m=!1){if(m)return f;try{return yield f}catch(w){throw w instanceof O.ZR&&function It({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}(w)&&v.auth.currentUser===v&&(yield v.auth.signOut()),w}})).apply(this,arguments)}class zr{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const T=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const w=this.getInterval(f);this.timerId=setTimeout((0,h.Z)(function*(){yield m.iteration()}),w)}iteration(){var f=this;return(0,h.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&f.schedule(!0))}f.schedule()})()}}class Dr{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=nt(this.lastLoginAt),this.creationTime=nt(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Tn(v){return Gr.apply(this,arguments)}function Gr(){return Gr=(0,h.Z)(function*(v){var f;const m=v.auth,w=yield v.getIdToken(),T=yield Lt(v,function ii(v,f){return $n.apply(this,arguments)}(m,{idToken:w}));K(T?.users.length,m,"internal-error");const M=T.users[0];v._notifyReloadListener(M);const B=null!==(f=M.providerUserInfo)&&void 0!==f&&f.length?function is(v){return v.map(f=>{var{providerId:m}=f,w=(0,ce._T)(f,["providerId"]);return{providerId:m,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}(M.providerUserInfo):[],Y=function sn(v,f){return[...v.filter(w=>!f.some(T=>T.providerId===w.providerId)),...f]}(v.providerData,B),Xe=!!v.isAnonymous&&!(v.email&&M.passwordHash||Y?.length),wt={uid:M.localId,displayName:M.displayName||null,photoURL:M.photoUrl||null,email:M.email||null,emailVerified:M.emailVerified||!1,phoneNumber:M.phoneNumber||null,tenantId:M.tenantId||null,providerData:Y,metadata:new Dr(M.createdAt,M.lastLoginAt),isAnonymous:Xe};Object.assign(v,wt)}),Gr.apply(this,arguments)}function br(){return(br=(0,h.Z)(function*(v){const f=(0,O.m9)(v);yield Tn(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function so(){return(so=(0,h.Z)(function*(v,f){const m=yield at(v,{},(0,h.Z)(function*(){const w=(0,O.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:T,apiKey:M}=v.config,B=Vt(v,T,"/v1/token",`key=${M}`),Y=yield v._getAdditionalHeaders();return Y["Content-Type"]="application/x-www-form-urlencoded",Q.fetch()(B,{method:"POST",headers:Y,body:w})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class jt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){K(f.idToken,"internal-error"),K(typeof f.idToken<"u","internal-error"),K(typeof f.refreshToken<"u","internal-error");const m="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function Zt(v){const f=si(v);return K(f,"internal-error"),K(typeof f.exp<"u","internal-error"),K(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var w=this;return(0,h.Z)(function*(){return K(!w.accessToken||w.refreshToken,f,"user-token-expired"),m||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(f,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var w=this;return(0,h.Z)(function*(){const{accessToken:T,refreshToken:M,expiresIn:B}=yield function kt(v,f){return so.apply(this,arguments)}(f,m);w.updateTokensAndExpiration(T,M,Number(B))})()}updateTokensAndExpiration(f,m,w){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(f,m){const{refreshToken:w,accessToken:T,expirationTime:M}=m,B=new jt;return w&&(K("string"==typeof w,"internal-error",{appName:f}),B.refreshToken=w),T&&(K("string"==typeof T,"internal-error",{appName:f}),B.accessToken=T),M&&(K("number"==typeof M,"internal-error",{appName:f}),B.expirationTime=M),B}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new jt,this.toJSON())}_performRefresh(){return ze("not implemented")}}function Or(v,f){K("string"==typeof v||typeof v>"u","internal-error",{appName:f})}class jn{constructor(f){var{uid:m,auth:w,stsTokenManager:T}=f,M=(0,ce._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=w,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=M.displayName||null,this.email=M.email||null,this.emailVerified=M.emailVerified||!1,this.phoneNumber=M.phoneNumber||null,this.photoURL=M.photoURL||null,this.isAnonymous=M.isAnonymous||!1,this.tenantId=M.tenantId||null,this.providerData=M.providerData?[...M.providerData]:[],this.metadata=new Dr(M.createdAt||void 0,M.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,h.Z)(function*(){const w=yield Lt(m,m.stsTokenManager.getToken(m.auth,f));return K(w,m.auth,"internal-error"),m.accessToken!==w&&(m.accessToken=w,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),w})()}getIdTokenResult(f){return function hu(v){return On.apply(this,arguments)}(this,f)}reload(){return function Cr(v){return br.apply(this,arguments)}(this)}_assign(f){this!==f&&(K(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const m=new jn(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(f){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var w=this;return(0,h.Z)(function*(){let T=!1;f.idToken&&f.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(f),T=!0),m&&(yield Tn(w)),yield w.auth._persistUserIfCurrent(w),T&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var f=this;return(0,h.Z)(function*(){const m=yield f.getIdToken();return yield Lt(f,function hr(v,f){return Un.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var w,T,M,B,Y,Ie,Fe,Xe;const wt=null!==(w=m.displayName)&&void 0!==w?w:void 0,cr=null!==(T=m.email)&&void 0!==T?T:void 0,qi=null!==(M=m.phoneNumber)&&void 0!==M?M:void 0,gs=null!==(B=m.photoURL)&&void 0!==B?B:void 0,Fa=null!==(Y=m.tenantId)&&void 0!==Y?Y:void 0,fi=null!==(Ie=m._redirectEventId)&&void 0!==Ie?Ie:void 0,Vl=null!==(Fe=m.createdAt)&&void 0!==Fe?Fe:void 0,Gu=null!==(Xe=m.lastLoginAt)&&void 0!==Xe?Xe:void 0,{uid:La,emailVerified:ms,isAnonymous:Wu,providerData:qu,stsTokenManager:Vo}=m;K(La&&Vo,f,"internal-error");const Ku=jt.fromJSON(this.name,Vo);K("string"==typeof La,f,"internal-error"),Or(wt,f.name),Or(cr,f.name),K("boolean"==typeof ms,f,"internal-error"),K("boolean"==typeof Wu,f,"internal-error"),Or(qi,f.name),Or(gs,f.name),Or(Fa,f.name),Or(fi,f.name),Or(Vl,f.name),Or(Gu,f.name);const Uo=new jn({uid:La,auth:f,email:cr,emailVerified:ms,displayName:wt,isAnonymous:Wu,photoURL:gs,phoneNumber:qi,tenantId:Fa,stsTokenManager:Ku,createdAt:Vl,lastLoginAt:Gu});return qu&&Array.isArray(qu)&&(Uo.providerData=qu.map(ys=>Object.assign({},ys))),fi&&(Uo._redirectEventId=fi),Uo}static _fromIdTokenResponse(f,m,w=!1){return(0,h.Z)(function*(){const T=new jt;T.updateFromServerResponse(m);const M=new jn({uid:m.localId,auth:f,stsTokenManager:T,isAnonymous:w});return yield Tn(M),M})()}}const Wr=new Map;function Hn(v){pt(v instanceof Function,"Expected a class definition");let f=Wr.get(v);return f?(pt(f instanceof v,"Instance stored in cache mismatched with class"),f):(f=new v,Wr.set(v,f),f)}const Ei=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(m,w){var T=this;return(0,h.Z)(function*(){T.storage[m]=w})()}_get(m){var w=this;return(0,h.Z)(function*(){const T=w.storage[m];return void 0===T?null:T})()}_remove(m){var w=this;return(0,h.Z)(function*(){delete w.storage[m]})()}_addListener(m,w){}_removeListener(m,w){}}return v.type="NONE",v})();function oi(v,f,m){return`firebase:${v}:${f}:${m}`}class P{constructor(f,m,w){this.persistence=f,this.auth=m,this.userKey=w;const{config:T,name:M}=this.auth;this.fullUserKey=oi(this.userKey,T.apiKey,M),this.fullPersistenceKey=oi("persistence",T.apiKey,M),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,h.Z)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?jn._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,h.Z)(function*(){if(m.persistence===f)return;const w=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,w?m.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,w="authUser"){return(0,h.Z)(function*(){if(!m.length)return new P(Hn(Ei),f,w);const T=(yield Promise.all(m.map(function(){var Fe=(0,h.Z)(function*(Xe){if(yield Xe._isAvailable())return Xe});return function(Xe){return Fe.apply(this,arguments)}}()))).filter(Fe=>Fe);let M=T[0]||Hn(Ei);const B=oi(w,f.config.apiKey,f.name);let Y=null;for(const Fe of m)try{const Xe=yield Fe._get(B);if(Xe){const wt=jn._fromJSON(f,Xe);Fe!==M&&(Y=wt),M=Fe;break}}catch{}const Ie=T.filter(Fe=>Fe._shouldAllowMigration);return M._shouldAllowMigration&&Ie.length?(M=Ie[0],Y&&(yield M._set(B,Y.toJSON())),yield Promise.all(m.map(function(){var Fe=(0,h.Z)(function*(Xe){if(Xe!==M)try{yield Xe._remove(B)}catch{}});return function(Xe){return Fe.apply(this,arguments)}}())),new P(M,f,w)):new P(M,f,w)})()}}function R(v){const f=v.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Ce(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(U(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Yt(f))return"Blackberry";if(Sn(f))return"Webos";if(oe(f))return"Safari";if((f.includes("chrome/")||G(f))&&!f.includes("edge/"))return"Chrome";if(ft(f))return"Android";{const w=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function U(v=(0,O.z$)()){return/firefox\//i.test(v)}function oe(v=(0,O.z$)()){const f=v.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function G(v=(0,O.z$)()){return/crios\//i.test(v)}function Ce(v=(0,O.z$)()){return/iemobile/i.test(v)}function ft(v=(0,O.z$)()){return/android/i.test(v)}function Yt(v=(0,O.z$)()){return/blackberry/i.test(v)}function Sn(v=(0,O.z$)()){return/webos/i.test(v)}function en(v=(0,O.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function on(v=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function qr(v=(0,O.z$)()){return en(v)||ft(v)||Sn(v)||Yt(v)||/windows phone/i.test(v)||Ce(v)}function fu(v,f=[]){let m;switch(v){case"Browser":m=R((0,O.z$)());break;case"Worker":m=`${R((0,O.z$)())}-${v}`;break;default:m=v}const w=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${X.SDK_VERSION}/${w}`}function W(){return(W=(0,h.Z)(function*(v){return(yield he(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function we(v,f){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,h.Z)(function*(v,f){return he(v,"GET","/v2/recaptchaConfig",H(v,f))})).apply(this,arguments)}function gt(v){return void 0!==v&&void 0!==v.getResponse}function St(v){return void 0!==v&&void 0!==v.enterprise}class rt{constructor(f){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.emailPasswordEnabled=f.recaptchaEnforcementState.some(m=>"EMAIL_PASSWORD_PROVIDER"===m.provider&&"OFF"!==m.enforcementState)}}function Pt(v){return new Promise((f,m)=>{const w=document.createElement("script");w.setAttribute("src",v),w.onload=f,w.onerror=T=>{const M=de("internal-error");M.customData=T,m(M)},w.type="text/javascript",w.charset="UTF-8",function Ht(){var v,f;return null!==(f=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==f?f:document}().appendChild(w)})}function sr(v){return`__${v}${Math.floor(1e6*Math.random())}`}const Mg="NO_RECAPTCHA";class oa{constructor(f){this.type="recaptcha-enterprise",this.auth=zt(f)}verify(f="verify",m=!1){var w=this;return(0,h.Z)(function*(){function M(){return M=(0,h.Z)(function*(Y){if(!m){if(null==Y.tenantId&&null!=Y._agentRecaptchaConfig)return Y._agentRecaptchaConfig.siteKey;if(null!=Y.tenantId&&void 0!==Y._tenantRecaptchaConfigs[Y.tenantId])return Y._tenantRecaptchaConfigs[Y.tenantId].siteKey}return new Promise(function(){var Ie=(0,h.Z)(function*(Fe,Xe){we(Y,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(wt=>{if(void 0!==wt.recaptchaKey){const cr=new rt(wt);return null==Y.tenantId?Y._agentRecaptchaConfig=cr:Y._tenantRecaptchaConfigs[Y.tenantId]=cr,Fe(cr.siteKey)}Xe(new Error("recaptcha Enterprise site key undefined"))}).catch(wt=>{Xe(wt)})});return function(Fe,Xe){return Ie.apply(this,arguments)}}())}),M.apply(this,arguments)}function B(Y,Ie,Fe){const Xe=window.grecaptcha;St(Xe)?Xe.enterprise.ready(()=>{Xe.enterprise.execute(Y,{action:f}).then(wt=>{Ie(wt)}).catch(()=>{Ie(Mg)})}):Fe(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Y,Ie)=>{(function T(Y){return M.apply(this,arguments)})(w.auth).then(Fe=>{if(!m&&St(window.grecaptcha))B(Fe,Y,Ie);else{if(typeof window>"u")return void Ie(new Error("RecaptchaVerifier is only supported in browser"));Pt("https://www.google.com/recaptcha/enterprise.js?render="+Fe).then(()=>{B(Fe,Y,Ie)}).catch(Xe=>{Ie(Xe)})}}).catch(Fe=>{Ie(Fe)})})})()}}function kn(v,f,m){return $e.apply(this,arguments)}function $e(){return($e=(0,h.Z)(function*(v,f,m,w=!1){const T=new oa(v);let M;try{M=yield T.verify(m)}catch{M=yield T.verify(m,!0)}const B=Object.assign({},f);return Object.assign(B,w?{captchaResp:M}:{captchaResponse:M}),Object.assign(B,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(B,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),B})).apply(this,arguments)}class bt{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,m){const w=M=>new Promise((B,Y)=>{try{B(f(M))}catch(Ie){Y(Ie)}});w.onAbort=m,this.queue.push(w);const T=this.queue.length-1;return()=>{this.queue[T]=()=>Promise.resolve()}}runMiddleware(f){var m=this;return(0,h.Z)(function*(){if(m.auth.currentUser===f)return;const w=[];try{for(const T of m.queue)yield T(f),T.onAbort&&w.push(T.onAbort)}catch(T){w.reverse();for(const M of w)try{M()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:T?.message})}})()}}class dn{constructor(f,m,w,T){this.app=f,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=w,this.config=T,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bi(this),this.idTokenSubscription=new Bi(this),this.beforeStateQueue=new bt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ze,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=T.sdkClientVersion}_initializeWithPersistence(f,m){var w=this;return m&&(this._popupRedirectResolver=Hn(m)),this._initializationPromise=this.queue((0,h.Z)(function*(){var T,M;if(!w._deleted&&(w.persistenceManager=yield P.create(w,f),!w._deleted)){if(null!==(T=w._popupRedirectResolver)&&void 0!==T&&T._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(m),w.lastNotifiedUid=(null===(M=w.currentUser)||void 0===M?void 0:M.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,h.Z)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m,!0)}})()}initializeCurrentUser(f){var m=this;return(0,h.Z)(function*(){var w;const T=yield m.assertedPersistence.getCurrentUser();let M=T,B=!1;if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const Y=null===(w=m.redirectUser)||void 0===w?void 0:w._redirectEventId,Ie=M?._redirectEventId,Fe=yield m.tryRedirectSignIn(f);(!Y||Y===Ie)&&Fe?.user&&(M=Fe.user,B=!0)}if(!M)return m.directlySetCurrentUser(null);if(!M._redirectEventId){if(B)try{yield m.beforeStateQueue.runMiddleware(M)}catch(Y){M=T,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(Y))}return M?m.reloadAndSetCurrentUserOrClear(M):m.directlySetCurrentUser(null)}return K(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===M._redirectEventId?m.directlySetCurrentUser(M):m.reloadAndSetCurrentUserOrClear(M)})()}tryRedirectSignIn(f){var m=this;return(0,h.Z)(function*(){let w=null;try{w=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch{yield m._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,h.Z)(function*(){try{yield Tn(f)}catch(w){if("auth/network-request-failed"!==w?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function ri(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var f=this;return(0,h.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,h.Z)(function*(){const w=f?(0,O.m9)(f):null;return w&&K(w.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(w&&w._clone(m))})()}_updateCurrentUser(f,m=!1){var w=this;return(0,h.Z)(function*(){if(!w._deleted)return f&&K(w.tenantId===f.tenantId,w,"tenant-id-mismatch"),m||(yield w.beforeStateQueue.runMiddleware(f)),w.queue((0,h.Z)(function*(){yield w.directlySetCurrentUser(f),w.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,h.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var m=this;return this.queue((0,h.Z)(function*(){yield m.assertedPersistence.setPersistence(Hn(f))}))}initializeRecaptchaConfig(){var f=this;return(0,h.Z)(function*(){const m=yield we(f,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),w=new rt(m);null==f.tenantId?f._agentRecaptchaConfig=w:f._tenantRecaptchaConfigs[f.tenantId]=w,w.emailPasswordEnabled&&new oa(f).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new O.LL("auth","Firebase",f())}onAuthStateChanged(f,m,w){return this.registerStateListener(this.authStateSubscription,f,m,w)}beforeAuthStateChanged(f,m){return this.beforeStateQueue.pushCallback(f,m)}onIdTokenChanged(f,m,w){return this.registerStateListener(this.idTokenSubscription,f,m,w)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var w=this;return(0,h.Z)(function*(){const T=yield w.getOrInitRedirectPersistenceManager(m);return null===f?T.removeCurrentUser():T.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,h.Z)(function*(){if(!m.redirectPersistenceManager){const w=f&&Hn(f)||m._popupRedirectResolver;K(w,m,"argument-error"),m.redirectPersistenceManager=yield P.create(m,[Hn(w._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,h.Z)(function*(){var w,T;return m._isInitialized&&(yield m.queue((0,h.Z)(function*(){}))),(null===(w=m._currentUser)||void 0===w?void 0:w._redirectEventId)===f?m._currentUser:(null===(T=m.redirectUser)||void 0===T?void 0:T._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,h.Z)(function*(){if(f===m.currentUser)return m.queue((0,h.Z)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,w,T){if(this._deleted)return()=>{};const M="function"==typeof m?m:m.next.bind(m),B=this._isInitialized?Promise.resolve():this._initializationPromise;return K(B,this,"internal-error"),B.then(()=>M(this.currentUser)),"function"==typeof m?f.addObserver(m,w,T):f.addObserver(m)}directlySetCurrentUser(f){var m=this;return(0,h.Z)(function*(){m.currentUser&&m.currentUser!==f&&m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh(),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=fu(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,h.Z)(function*(){var m;const w={"X-Client-Version":f.clientVersion};f.app.options.appId&&(w["X-Firebase-gmpid"]=f.app.options.appId);const T=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();T&&(w["X-Firebase-Client"]=T);const M=yield f._getAppCheckToken();return M&&(w["X-Firebase-AppCheck"]=M),w})()}_getAppCheckToken(){var f=this;return(0,h.Z)(function*(){var m;const w=yield null===(m=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return w?.error&&function _e(v,...f){Ae.logLevel<=fe.in.WARN&&Ae.warn(`Auth (${X.SDK_VERSION}): ${v}`,...f)}(`Error while retrieving App Check token: ${w.error}`),w?.token})()}}function zt(v){return(0,O.m9)(v)}class Bi{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,O.ne)(m=>this.observer=m)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function cn(v,f,m){const w=zt(v);K(w._canInitEmulator,w,"emulator-config-failed"),K(/^https?:\/\//.test(f),w,"invalid-emulator-scheme");const T=!!m?.disableWarnings,M=aa(f),{host:B,port:Y}=function pu(v){const f=aa(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(f.length));if(!m)return{host:"",port:null};const w=m[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(w);if(T){const M=T[1];return{host:M,port:Tt(w.substr(M.length+1))}}{const[M,B]=w.split(":");return{host:M,port:Tt(B)}}}(f);w.config.emulator={url:`${M}//${B}${null===Y?"":`:${Y}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:B,port:Y,protocol:M.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function gu(){function v(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function aa(v){const f=v.indexOf(":");return f<0?"":v.substr(0,f+1)}function Tt(v){if(!v)return null;const f=Number(v);return isNaN(f)?null:f}class Kr{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return ze("not implemented")}_getIdTokenResponse(f){return ze("not implemented")}_linkToIdToken(f,m){return ze("not implemented")}_getReauthenticationResolver(f){return ze("not implemented")}}function ua(v,f){return ss.apply(this,arguments)}function ss(){return(ss=(0,h.Z)(function*(v,f){return he(v,"POST","/v1/accounts:resetPassword",H(v,f))})).apply(this,arguments)}function zn(v,f){return oo.apply(this,arguments)}function oo(){return(oo=(0,h.Z)(function*(v,f){return he(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ai(){return(ai=(0,h.Z)(function*(v,f){return he(v,"POST","/v1/accounts:update",H(v,f))})).apply(this,arguments)}function ao(v,f){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,h.Z)(function*(v,f){return Jt(v,"POST","/v1/accounts:signInWithPassword",H(v,f))})).apply(this,arguments)}function Xt(v,f){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,h.Z)(function*(v,f){return he(v,"POST","/v1/accounts:sendOobCode",H(v,f))})).apply(this,arguments)}function mu(){return(mu=(0,h.Z)(function*(v,f){return Xt(v,f)})).apply(this,arguments)}function uo(v,f){return co.apply(this,arguments)}function co(){return(co=(0,h.Z)(function*(v,f){return Xt(v,f)})).apply(this,arguments)}function os(v,f){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,h.Z)(function*(v,f){return Xt(v,f)})).apply(this,arguments)}function fr(){return(fr=(0,h.Z)(function*(v,f){return Xt(v,f)})).apply(this,arguments)}function ca(){return(ca=(0,h.Z)(function*(v,f){return Jt(v,"POST","/v1/accounts:signInWithEmailLink",H(v,f))})).apply(this,arguments)}function lo(){return(lo=(0,h.Z)(function*(v,f){return Jt(v,"POST","/v1/accounts:signInWithEmailLink",H(v,f))})).apply(this,arguments)}class pr extends Kr{constructor(f,m,w,T=null){super("password",w),this._email=f,this._password=m,this._tenantId=T}static _fromEmailAndPassword(f,m){return new pr(f,m,"password")}static _fromEmailAndCode(f,m,w=null){return new pr(f,m,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,h.Z)(function*(){var w;switch(m.signInMethod){case"password":const T={returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=f._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const M=yield kn(f,T,"signInWithPassword");return ao(f,M)}return ao(f,T).catch(function(){var M=(0,h.Z)(function*(B){if("auth/missing-recaptcha-token"===B.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Y=yield kn(f,T,"signInWithPassword");return ao(f,Y)}return Promise.reject(B)});return function(B){return M.apply(this,arguments)}}());case"emailLink":return function ui(v,f){return ca.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:pe(f,"internal-error")}})()}_linkToIdToken(f,m){var w=this;return(0,h.Z)(function*(){switch(w.signInMethod){case"password":return zn(f,{idToken:m,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function la(v,f){return lo.apply(this,arguments)}(f,{idToken:m,email:w._email,oobCode:w._password});default:pe(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function $i(v,f){return uh.apply(this,arguments)}function uh(){return(uh=(0,h.Z)(function*(v,f){return Jt(v,"POST","/v1/accounts:signInWithIdp",H(v,f))})).apply(this,arguments)}class Ii extends Kr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new Ii(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):pe("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:T}=m,M=(0,ce._T)(m,["providerId","signInMethod"]);if(!w||!T)return null;const B=new Ii(w,T);return B.idToken=M.idToken||void 0,B.accessToken=M.accessToken||void 0,B.secret=M.secret,B.nonce=M.nonce,B.pendingToken=M.pendingToken||null,B}_getIdTokenResponse(f){return $i(f,this.buildRequest())}_linkToIdToken(f,m){const w=this.buildRequest();return w.idToken=m,$i(f,w)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,$i(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,O.xO)(m)}return f}}function ch(){return(ch=(0,h.Z)(function*(v,f){return he(v,"POST","/v1/accounts:sendVerificationCode",H(v,f))})).apply(this,arguments)}function lh(){return(lh=(0,h.Z)(function*(v,f){return Jt(v,"POST","/v1/accounts:signInWithPhoneNumber",H(v,f))})).apply(this,arguments)}function dh(){return(dh=(0,h.Z)(function*(v,f){const m=yield Jt(v,"POST","/v1/accounts:signInWithPhoneNumber",H(v,f));if(m.temporaryProof)throw Kt(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const hh={USER_NOT_FOUND:"user-not-found"};function Ng(){return(Ng=(0,h.Z)(function*(v,f){return Jt(v,"POST","/v1/accounts:signInWithPhoneNumber",H(v,Object.assign(Object.assign({},f),{operation:"REAUTH"})),hh)})).apply(this,arguments)}class da extends Kr{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new da({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new da({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function Rg(v,f){return lh.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function C0(v,f){return dh.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function fh(v,f){return Ng.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:w,verificationCode:T}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:w,code:T}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:w,phoneNumber:T,temporaryProof:M}=f;return w||m||T||M?new da({verificationId:m,verificationCode:w,phoneNumber:T,temporaryProof:M}):null}}class ho{constructor(f){var m,w,T,M,B,Y;const Ie=(0,O.zd)((0,O.pd)(f)),Fe=null!==(m=Ie.apiKey)&&void 0!==m?m:null,Xe=null!==(w=Ie.oobCode)&&void 0!==w?w:null,wt=function b0(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=Ie.mode)&&void 0!==T?T:null);K(Fe&&Xe&&wt,"argument-error"),this.apiKey=Fe,this.operation=wt,this.code=Xe,this.continueUrl=null!==(M=Ie.continueUrl)&&void 0!==M?M:null,this.languageCode=null!==(B=Ie.languageCode)&&void 0!==B?B:null,this.tenantId=null!==(Y=Ie.tenantId)&&void 0!==Y?Y:null}static parseLink(f){const m=function Og(v){const f=(0,O.zd)((0,O.pd)(v)).link,m=f?(0,O.zd)((0,O.pd)(f)).deep_link_id:null,w=(0,O.zd)((0,O.pd)(v)).deep_link_id;return(w?(0,O.zd)((0,O.pd)(w)).link:null)||w||m||f||v}(f);try{return new ho(m)}catch{return null}}}let ph=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,w){return pr._fromEmailAndPassword(m,w)}static credentialWithLink(m,w){const T=ho.parseLink(w);return K(T,"argument-error"),pr._fromEmailAndCode(m,T.code,T.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Os{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class ha extends Os{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Di extends ha{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return K("providerId"in m&&"signInMethod"in m,"argument-error"),Ii._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return K(f.idToken||f.accessToken,"argument-error"),Ii._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Di.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Di.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:w,oauthTokenSecret:T,pendingToken:M,nonce:B,providerId:Y}=f;if(!w&&!T&&!m&&!M||!Y)return null;try{return new Di(Y)._credential({idToken:m,accessToken:w,nonce:B,pendingToken:M})}catch{return null}}}let T0=(()=>{class v extends ha{constructor(){super("facebook.com")}static credential(m){return Ii._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),gh=(()=>{class v extends ha{constructor(){super("google.com"),this.addScope("profile")}static credential(m,w){return Ii._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:w})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:w,oauthAccessToken:T}=m;if(!w&&!T)return null;try{return v.credential(w,T)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),mh=(()=>{class v extends ha{constructor(){super("github.com")}static credential(m){return Ii._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Ps extends Kr{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return $i(f,this.buildRequest())}_linkToIdToken(f,m){const w=this.buildRequest();return w.idToken=m,$i(f,w)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,$i(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:w,signInMethod:T,pendingToken:M}=m;return w&&T&&M&&w===T?new Ps(w,M):null}static _create(f,m){return new Ps(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class yu extends Os{constructor(f){K(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return yu.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return yu.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=Ps.fromJSON(f);return K(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:w}=f;if(!m||!w)return null;try{return Ps._create(w,m)}catch{return null}}}let Fg=(()=>{class v extends ha{constructor(){super("twitter.com")}static credential(m,w){return Ii._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:w})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:w,oauthTokenSecret:T}=m;if(!w||!T)return null;try{return v.credential(w,T)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function fa(v,f){return pa.apply(this,arguments)}function pa(){return(pa=(0,h.Z)(function*(v,f){return Jt(v,"POST","/v1/accounts:signUp",H(v,f))})).apply(this,arguments)}class hn{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,w,T=!1){return(0,h.Z)(function*(){const M=yield jn._fromIdTokenResponse(f,w,T),B=el(w);return new hn({user:M,providerId:B,_tokenResponse:w,operationType:m})})()}static _forOperation(f,m,w){return(0,h.Z)(function*(){yield f._updateTokensIfNecessary(w,!0);const T=el(w);return new hn({user:f,providerId:T,_tokenResponse:w,operationType:m})})()}}function el(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function _h(v){return An.apply(this,arguments)}function An(){return(An=(0,h.Z)(function*(v){var f;const m=zt(v);if(yield m._initializationPromise,null!==(f=m.currentUser)&&void 0!==f&&f.isAnonymous)return new hn({user:m.currentUser,providerId:null,operationType:"signIn"});const w=yield fa(m,{returnSecureToken:!0}),T=yield hn._fromIdTokenResponse(m,"signIn",w,!0);return yield m._updateCurrentUser(T.user),T})).apply(this,arguments)}class ks extends O.ZR{constructor(f,m,w,T){var M;super(m.code,m.message),this.operationType=w,this.user=T,Object.setPrototypeOf(this,ks.prototype),this.customData={appName:f.name,tenantId:null!==(M=f.tenantId)&&void 0!==M?M:void 0,_serverResponse:m.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(f,m,w,T){return new ks(f,m,w,T)}}function ga(v,f,m,w){return("reauthenticate"===f?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(M=>{throw"auth/multi-factor-auth-required"===M.code?ks._fromErrorAndOperation(v,M,f,w):M})}function Wn(v){return new Set(v.map(({providerId:f})=>f).filter(f=>!!f))}function Lg(v,f){return _u.apply(this,arguments)}function _u(){return _u=(0,h.Z)(function*(v,f){const m=(0,O.m9)(v);yield vu(!0,m,f);const{providerUserInfo:w}=yield function Bn(v,f){return ir.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),T=Wn(w||[]);return m.providerData=m.providerData.filter(M=>T.has(M.providerId)),T.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),_u.apply(this,arguments)}function Fs(v,f){return ar.apply(this,arguments)}function ar(){return(ar=(0,h.Z)(function*(v,f,m=!1){const w=yield Lt(v,f._linkToIdToken(v.auth,yield v.getIdToken()),m);return hn._forOperation(v,"link",w)})).apply(this,arguments)}function vu(v,f,m){return fo.apply(this,arguments)}function fo(){return(fo=(0,h.Z)(function*(v,f,m){yield Tn(f);const T=!1===v?"provider-already-linked":"no-such-provider";K(Wn(f.providerData).has(m)===v,f.auth,T)})).apply(this,arguments)}function vh(v,f){return ji.apply(this,arguments)}function ji(){return(ji=(0,h.Z)(function*(v,f,m=!1){const{auth:w}=v,T="reauthenticate";try{const M=yield Lt(v,ga(w,T,f,v),m);K(M.idToken,w,"internal-error");const B=si(M.idToken);K(B,w,"internal-error");const{sub:Y}=B;return K(v.uid===Y,w,"user-mismatch"),hn._forOperation(v,T,M)}catch(M){throw"auth/user-not-found"===M?.code&&pe(w,"user-mismatch"),M}})).apply(this,arguments)}function tl(v,f){return ma.apply(this,arguments)}function ma(){return(ma=(0,h.Z)(function*(v,f,m=!1){const w="signIn",T=yield ga(v,w,f),M=yield hn._fromIdTokenResponse(v,w,T);return m||(yield v._updateCurrentUser(M.user)),M})).apply(this,arguments)}function mt(v,f){return wu.apply(this,arguments)}function wu(){return(wu=(0,h.Z)(function*(v,f){return tl(zt(v),f)})).apply(this,arguments)}function S0(v,f){return nl.apply(this,arguments)}function nl(){return(nl=(0,h.Z)(function*(v,f){const m=(0,O.m9)(v);return yield vu(!1,m,f.providerId),Fs(m,f)})).apply(this,arguments)}function wh(v,f){return rl.apply(this,arguments)}function rl(){return(rl=(0,h.Z)(function*(v,f){return vh((0,O.m9)(v),f)})).apply(this,arguments)}function Ih(){return(Ih=(0,h.Z)(function*(v,f){return Jt(v,"POST","/v1/accounts:signInWithCustomToken",H(v,f))})).apply(this,arguments)}function Vg(v,f){return ie.apply(this,arguments)}function ie(){return ie=(0,h.Z)(function*(v,f){const m=zt(v),w=yield function Eh(v,f){return Ih.apply(this,arguments)}(m,{token:f,returnSecureToken:!0}),T=yield hn._fromIdTokenResponse(m,"signIn",w);return yield m._updateCurrentUser(T.user),T}),ie.apply(this,arguments)}class Ot{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?Dh._fromServerResponse(f,m):"totpInfo"in m?Ch._fromServerResponse(f,m):pe(f,"internal-error")}}class Dh extends Ot{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new Dh(m)}}class Ch extends Ot{constructor(f){super("totp",f)}static _fromServerResponse(f,m){return new Ch(m)}}function gn(v,f,m){var w;K((null===(w=m.url)||void 0===w?void 0:w.length)>0,v,"invalid-continue-uri"),K(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(K(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&(K(m.android.packageName.length>0,v,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function Ug(v,f,m){return po.apply(this,arguments)}function po(){return po=(0,h.Z)(function*(v,f,m){var w;const T=zt(v),M={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=T._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const B=yield kn(T,M,"getOobCode",!0);m&&gn(T,B,m),yield uo(T,B)}else m&&gn(T,M,m),yield uo(T,M).catch(function(){var B=(0,h.Z)(function*(Y){if("auth/missing-recaptcha-token"!==Y.code)return Promise.reject(Y);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Ie=yield kn(T,M,"getOobCode",!0);m&&gn(T,Ie,m),yield uo(T,Ie)}});return function(Y){return B.apply(this,arguments)}}())}),po.apply(this,arguments)}function Ci(v,f,m){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,h.Z)(function*(v,f,m){yield ua((0,O.m9)(v),{oobCode:f,newPassword:m})})).apply(this,arguments)}function bh(v,f){return Th.apply(this,arguments)}function Th(){return Th=(0,h.Z)(function*(v,f){yield function Ns(v,f){return ai.apply(this,arguments)}((0,O.m9)(v),{oobCode:f})}),Th.apply(this,arguments)}function Sh(v,f){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,h.Z)(function*(v,f){const m=(0,O.m9)(v),w=yield ua(m,{oobCode:f}),T=w.requestType;switch(K(T,m,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":K(w.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":K(w.mfaInfo,m,"internal-error");default:K(w.email,m,"internal-error")}let M=null;return w.mfaInfo&&(M=Ot._fromServerResponse(zt(m),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:M},operation:T}})).apply(this,arguments)}function gr(v,f){return kr.apply(this,arguments)}function kr(){return(kr=(0,h.Z)(function*(v,f){const{data:m}=yield Sh((0,O.m9)(v),f);return m.email})).apply(this,arguments)}function go(v,f,m){return Ls.apply(this,arguments)}function Ls(){return Ls=(0,h.Z)(function*(v,f,m){var w;const T=zt(v),M={returnSecureToken:!0,email:f,password:m,clientType:"CLIENT_TYPE_WEB"};let B;if(null!==(w=T._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const Fe=yield kn(T,M,"signUpPassword");B=fa(T,Fe)}else B=fa(T,M).catch(function(){var Fe=(0,h.Z)(function*(Xe){if("auth/missing-recaptcha-token"===Xe.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const wt=yield kn(T,M,"signUpPassword");return fa(T,wt)}return Promise.reject(Xe)});return function(Xe){return Fe.apply(this,arguments)}}());const Y=yield B.catch(Fe=>Promise.reject(Fe)),Ie=yield hn._fromIdTokenResponse(T,"signIn",Y);return yield T._updateCurrentUser(Ie.user),Ie}),Ls.apply(this,arguments)}function as(v,f,m){return mt((0,O.m9)(v),ph.credential(f,m))}function Ah(v,f,m){return ya.apply(this,arguments)}function ya(){return ya=(0,h.Z)(function*(v,f,m){var w;const T=zt(v),M={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};function B(Y,Ie){K(Ie.handleCodeInApp,T,"argument-error"),Ie&&gn(T,Y,Ie)}if(null!==(w=T._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const Y=yield kn(T,M,"getOobCode",!0);B(Y,m),yield os(T,Y)}else B(M,m),yield os(T,M).catch(function(){var Y=(0,h.Z)(function*(Ie){if("auth/missing-recaptcha-token"!==Ie.code)return Promise.reject(Ie);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Fe=yield kn(T,M,"getOobCode",!0);B(Fe,m),yield os(T,Fe)}});return function(Ie){return Y.apply(this,arguments)}}())}),ya.apply(this,arguments)}function A0(v,f){return"EMAIL_SIGNIN"===ho.parseLink(f)?.operation}function M0(v,f,m){return _a.apply(this,arguments)}function _a(){return(_a=(0,h.Z)(function*(v,f,m){const w=(0,O.m9)(v),T=ph.credentialWithLink(f,m||Ge());return K(T._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),mt(w,T)})).apply(this,arguments)}function il(){return(il=(0,h.Z)(function*(v,f){return he(v,"POST","/v1/accounts:createAuthUri",H(v,f))})).apply(this,arguments)}function Mh(v,f){return xh.apply(this,arguments)}function xh(){return xh=(0,h.Z)(function*(v,f){const w={identifier:f,continueUri:Ft()?Ge():"http://localhost"},{signinMethods:T}=yield function Du(v,f){return il.apply(this,arguments)}((0,O.m9)(v),w);return T||[]}),xh.apply(this,arguments)}function Bg(v,f){return Cu.apply(this,arguments)}function Cu(){return Cu=(0,h.Z)(function*(v,f){const m=(0,O.m9)(v),T={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};f&&gn(m.auth,T,f);const{email:M}=yield function Xc(v,f){return mu.apply(this,arguments)}(m.auth,T);M!==v.email&&(yield v.reload())}),Cu.apply(this,arguments)}function $g(v,f,m){return sl.apply(this,arguments)}function sl(){return sl=(0,h.Z)(function*(v,f,m){const w=(0,O.m9)(v),M={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:f};m&&gn(w.auth,M,m);const{email:B}=yield function I0(v,f){return fr.apply(this,arguments)}(w.auth,M);B!==v.email&&(yield v.reload())}),sl.apply(this,arguments)}function ol(){return(ol=(0,h.Z)(function*(v,f){return he(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Rh(v,f){return al.apply(this,arguments)}function al(){return al=(0,h.Z)(function*(v,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const w=(0,O.m9)(v),M={idToken:yield w.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},B=yield Lt(w,function jg(v,f){return ol.apply(this,arguments)}(w.auth,M));w.displayName=B.displayName||null,w.photoURL=B.photoUrl||null;const Y=w.providerData.find(({providerId:Ie})=>"password"===Ie);Y&&(Y.displayName=w.displayName,Y.photoURL=w.photoURL),yield w._updateTokensIfNecessary(B)}),al.apply(this,arguments)}function x0(v,f){return us((0,O.m9)(v),f,null)}function mr(v,f){return us((0,O.m9)(v),null,f)}function us(v,f,m){return an.apply(this,arguments)}function an(){return(an=(0,h.Z)(function*(v,f,m){const{auth:w}=v,M={idToken:yield v.getIdToken(),returnSecureToken:!0};f&&(M.email=f),m&&(M.password=m);const B=yield Lt(v,zn(w,M));yield v._updateTokensIfNecessary(B,!0)})).apply(this,arguments)}class va{constructor(f,m,w={}){this.isNewUser=f,this.providerId=m,this.profile=w}}class Hg extends va{constructor(f,m,w,T){super(f,m,w),this.username=T}}class N0 extends va{constructor(f,m){super(f,"facebook.com",m)}}class O0 extends Hg{constructor(f,m){super(f,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class P0 extends va{constructor(f,m){super(f,"google.com",m)}}class ul extends Hg{constructor(f,m,w){super(f,"twitter.com",m,w)}}function cl(v){const{user:f,_tokenResponse:m}=v;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function R0(v){var f,m;if(!v)return null;const{providerId:w}=v,T=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},M=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!w&&v?.idToken){const B=null===(m=null===(f=si(v.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(B)return new va(M,"anonymous"!==B&&"custom"!==B?B:null)}if(!w)return null;switch(w){case"facebook.com":return new N0(M,T);case"github.com":return new O0(M,T);case"google.com":return new P0(M,T);case"twitter.com":return new ul(M,T,v.screenName||null);case"custom":case"anonymous":return new va(M,null);default:return new va(M,w,T)}}(m)}function zg(v){return(0,O.m9)(v).signOut()}class Us{constructor(f,m,w){this.type=f,this.credential=m,this.auth=w}static _fromIdtoken(f,m){return new Us("enroll",f,m)}static _fromMfaPendingCredential(f){return new Us("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,w;if(f?.multiFactorSession){if(null!==(m=f.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Us._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(w=f.multiFactorSession)&&void 0!==w&&w.idToken)return Us._fromIdtoken(f.multiFactorSession.idToken)}return null}}class ll{constructor(f,m,w){this.session=f,this.hints=m,this.signInResolver=w}static _fromError(f,m){const w=zt(f),T=m.customData._serverResponse,M=(T.mfaInfo||[]).map(Y=>Ot._fromServerResponse(w,Y));K(T.mfaPendingCredential,w,"internal-error");const B=Us._fromMfaPendingCredential(T.mfaPendingCredential);return new ll(B,M,function(){var Y=(0,h.Z)(function*(Ie){const Fe=yield Ie._process(w,B);delete T.mfaInfo,delete T.mfaPendingCredential;const Xe=Object.assign(Object.assign({},T),{idToken:Fe.idToken,refreshToken:Fe.refreshToken});switch(m.operationType){case"signIn":const wt=yield hn._fromIdTokenResponse(w,m.operationType,Xe);return yield w._updateCurrentUser(wt.user),wt;case"reauthenticate":return K(m.user,w,"internal-error"),hn._forOperation(m.user,m.operationType,Xe);default:pe(w,"internal-error")}});return function(Ie){return Y.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,h.Z)(function*(){return m.signInResolver(f)})()}}function dl(v,f){var m;const w=(0,O.m9)(v),T=f;return K(f.customData.operationType,w,"argument-error"),K(null===(m=T.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,w,"argument-error"),ll._fromError(w,T)}class yo{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(w=>Ot._fromServerResponse(f.auth,w)))})}static _fromUser(f){return new yo(f)}getSession(){var f=this;return(0,h.Z)(function*(){return Us._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,m){var w=this;return(0,h.Z)(function*(){const T=f,M=yield w.getSession(),B=yield Lt(w.user,T._process(w.user.auth,M,m));return yield w.user._updateTokensIfNecessary(B),w.user.reload()})()}unenroll(f){var m=this;return(0,h.Z)(function*(){const w="string"==typeof f?f:f.uid,T=yield m.user.getIdToken();try{const M=yield Lt(m.user,function Bs(v,f){return he(v,"POST","/v2/accounts/mfaEnrollment:withdraw",H(v,f))}(m.user.auth,{idToken:T,mfaEnrollmentId:w}));m.enrolledFactors=m.enrolledFactors.filter(({uid:B})=>B!==w),yield m.user._updateTokensIfNecessary(M),yield m.user.reload()}catch(M){throw M}})()}}const Ia=new WeakMap;function Da(v){const f=(0,O.m9)(v);return Ia.has(f)||Ia.set(f,yo._fromUser(f)),Ia.get(f)}const Su="__sak";class Ca{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Su,"1"),this.storage.removeItem(Su),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Au=(()=>{class v extends Ca{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,w)=>this.onStorageEvent(m,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function fl(){const v=(0,O.z$)();return oe(v)||en(v)}()&&function xs(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=qr(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const w of Object.keys(this.listeners)){const T=this.storage.getItem(w),M=this.localCache[w];T!==M&&m(w,M,T)}}onStorageEvent(m,w=!1){if(!m.key)return void this.forAllChangedKeys((Y,Ie,Fe)=>{this.notifyListeners(Y,Fe)});const T=m.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Y=this.storage.getItem(T);if(m.newValue!==Y)null!==m.newValue?this.storage.setItem(T,m.newValue):this.storage.removeItem(T);else if(this.localCache[T]===m.newValue&&!w)return}const M=()=>{const Y=this.storage.getItem(T);!w&&this.localCache[T]===Y||this.notifyListeners(T,Y)},B=this.storage.getItem(T);!function Pr(){return(0,O.w1)()&&10===document.documentMode}()||B===m.newValue||m.newValue===m.oldValue?M():setTimeout(M,10)}notifyListeners(m,w){this.localCache[m]=w;const T=this.listeners[m];if(T)for(const M of Array.from(T))M(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,w,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:w,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,w){var T=()=>super._set,M=this;return(0,h.Z)(function*(){yield T().call(M,m,w),M.localCache[m]=JSON.stringify(w)})()}_get(m){var w=()=>super._get,T=this;return(0,h.Z)(function*(){const M=yield w().call(T,m);return T.localCache[m]=JSON.stringify(M),M})()}_remove(m){var w=()=>super._remove,T=this;return(0,h.Z)(function*(){yield w().call(T,m),delete T.localCache[m]})()}}return v.type="LOCAL",v})(),Tr=(()=>{class v extends Ca{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,w){}_removeListener(m,w){}}return v.type="SESSION",v})();let Mu=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const w=this.receivers.find(M=>M.isListeningto(m));if(w)return w;const T=new v(m);return this.receivers.push(T),T}isListeningto(m){return this.eventTarget===m}handleEvent(m){var w=this;return(0,h.Z)(function*(){const T=m,{eventId:M,eventType:B,data:Y}=T.data,Ie=w.handlersMap[B];if(!Ie?.size)return;T.ports[0].postMessage({status:"ack",eventId:M,eventType:B});const Fe=Array.from(Ie).map(function(){var wt=(0,h.Z)(function*(cr){return cr(T.origin,Y)});return function(cr){return wt.apply(this,arguments)}}()),Xe=yield function pl(v){return Promise.all(v.map(function(){var f=(0,h.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(w){return{fulfilled:!1,reason:w}}});return function(m){return f.apply(this,arguments)}}()))}(Fe);T.ports[0].postMessage({status:"done",eventId:M,eventType:B,response:Xe})})()}_subscribe(m,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(w)}_unsubscribe(m,w){this.handlersMap[m]&&w&&this.handlersMap[m].delete(w),(!w||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function cs(v="",f=10){let m="";for(let w=0;w<f;w++)m+=Math.floor(10*Math.random());return v+m}class gl{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,w=50){var T=this;return(0,h.Z)(function*(){const M=typeof MessageChannel<"u"?new MessageChannel:null;if(!M)throw new Error("connection_unavailable");let B,Y;return new Promise((Ie,Fe)=>{const Xe=cs("",20);M.port1.start();const wt=setTimeout(()=>{Fe(new Error("unsupported_event"))},w);Y={messageChannel:M,onMessage(cr){const qi=cr;if(qi.data.eventId===Xe)switch(qi.data.status){case"ack":clearTimeout(wt),B=setTimeout(()=>{Fe(new Error("timeout"))},3e3);break;case"done":clearTimeout(B),Ie(qi.data.response);break;default:clearTimeout(wt),clearTimeout(B),Fe(new Error("invalid_response"))}}},T.handlers.add(Y),M.port1.addEventListener("message",Y.onMessage),T.target.postMessage({eventType:f,eventId:Xe,data:m},[M.port2])}).finally(()=>{Y&&T.removeMessageHandler(Y)})})()}}function fn(){return window}function xu(){return typeof fn().WorkerGlobalScope<"u"&&"function"==typeof fn().importScripts}function Sa(){return(Sa=(0,h.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Bh="firebaseLocalStorageDb",_o=1,Hi="firebaseLocalStorage",qg="fbase_key";class $s{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Ru(v,f){return v.transaction([Hi],f?"readwrite":"readonly").objectStore(Hi)}function ml(){const v=indexedDB.open(Bh,_o);return new Promise((f,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const w=v.result;try{w.createObjectStore(Hi,{keyPath:qg})}catch(T){m(T)}}),v.addEventListener("success",(0,h.Z)(function*(){const w=v.result;w.objectStoreNames.contains(Hi)?f(w):(w.close(),yield function vo(){const v=indexedDB.deleteDatabase(Bh);return new $s(v).toPromise()}(),f(yield ml()))}))})}function yl(v,f,m){return wo.apply(this,arguments)}function wo(){return(wo=(0,h.Z)(function*(v,f,m){const w=Ru(v,!0).put({[qg]:f,value:m});return new $s(w).toPromise()})).apply(this,arguments)}function Aa(){return(Aa=(0,h.Z)(function*(v,f){const m=Ru(v,!1).get(f),w=yield new $s(m).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Ma(v,f){const m=Ru(v,!0).delete(f);return new $s(m).toPromise()}const _l=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,h.Z)(function*(){return m.db||(m.db=yield ml()),m.db})()}_withRetries(m){var w=this;return(0,h.Z)(function*(){let T=0;for(;;)try{const M=yield w._openDb();return yield m(M)}catch(M){if(T++>3)throw M;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,h.Z)(function*(){return xu()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,h.Z)(function*(){m.receiver=Mu._getInstance(function Uh(){return xu()?self:null}()),m.receiver._subscribe("keyChanged",function(){var w=(0,h.Z)(function*(T,M){return{keyProcessed:(yield m._poll()).includes(M.key)}});return function(T,M){return w.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var w=(0,h.Z)(function*(T,M){return["keyChanged"]});return function(T,M){return w.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,h.Z)(function*(){var w,T;if(m.activeServiceWorker=yield function Lh(){return Sa.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new gl(m.activeServiceWorker);const M=yield m.sender._send("ping",{},800);M&&null!==(w=M[0])&&void 0!==w&&w.fulfilled&&null!==(T=M[0])&&void 0!==T&&T.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var w=this;return(0,h.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Vh(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:m},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const m=yield ml();return yield yl(m,Su,"1"),yield Ma(m,Su),!0}catch{}return!1})()}_withPendingWrite(m){var w=this;return(0,h.Z)(function*(){w.pendingWrites++;try{yield m()}finally{w.pendingWrites--}})()}_set(m,w){var T=this;return(0,h.Z)(function*(){return T._withPendingWrite((0,h.Z)(function*(){return yield T._withRetries(M=>yl(M,m,w)),T.localCache[m]=w,T.notifyServiceWorker(m)}))})()}_get(m){var w=this;return(0,h.Z)(function*(){const T=yield w._withRetries(M=>function Kg(v,f){return Aa.apply(this,arguments)}(M,m));return w.localCache[m]=T,T})()}_remove(m){var w=this;return(0,h.Z)(function*(){return w._withPendingWrite((0,h.Z)(function*(){return yield w._withRetries(T=>Ma(T,m)),delete w.localCache[m],w.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,h.Z)(function*(){const w=yield m._withRetries(B=>{const Y=Ru(B,!1).getAll();return new $s(Y).toPromise()});if(!w)return[];if(0!==m.pendingWrites)return[];const T=[],M=new Set;for(const{fbase_key:B,value:Y}of w)M.add(B),JSON.stringify(m.localCache[B])!==JSON.stringify(Y)&&(m.notifyListeners(B,Y),T.push(B));for(const B of Object.keys(m.localCache))m.localCache[B]&&!M.has(B)&&(m.notifyListeners(B,null),T.push(B));return T})()}notifyListeners(m,w){this.localCache[m]=w;const T=this.listeners[m];if(T)for(const M of Array.from(T))M(w)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})(),vl=1e12;class L0{constructor(f){this.auth=f,this.counter=vl,this._widgets=new Map}render(f,m){const w=this.counter;return this._widgets.set(w,new Hh(f,this.auth.name,m||{})),this.counter++,w}reset(f){var m;const w=f||vl;null===(m=this._widgets.get(w))||void 0===m||m.delete(),this._widgets.delete(w)}getResponse(f){var m;return(null===(m=this._widgets.get(f||vl))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,h.Z)(function*(){var w;return null===(w=m._widgets.get(f||vl))||void 0===w||w.execute(),""})()}}class Hh{constructor(f,m,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof f?document.getElementById(f):f;K(T,"argument-error",{appName:m}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Yg(v){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<v;w++)f.push(m.charAt(Math.floor(Math.random()*m.length)));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Qg=sr("rcb"),bC=new wi(3e4,6e4);class xa{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=fn().grecaptcha)||void 0===f||!f.render)}load(f,m=""){return K(function SC(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(m),f,"argument-error"),this.shouldResolveImmediately(m)&&gt(fn().grecaptcha)?Promise.resolve(fn().grecaptcha):new Promise((w,T)=>{const M=fn().setTimeout(()=>{T(de(f,"network-request-failed"))},bC.get());fn()[Qg]=()=>{fn().clearTimeout(M),delete fn()[Qg];const Y=fn().grecaptcha;if(!Y||!gt(Y))return void T(de(f,"internal-error"));const Ie=Y.render;Y.render=(Fe,Xe)=>{const wt=Ie(Fe,Xe);return this.counter++,wt},this.hostLanguage=m,w(Y)},Pt(`https://www.google.com/recaptcha/api.js??${(0,O.xO)({onload:Qg,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(M),T(de(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var m;return!(null===(m=fn().grecaptcha)||void 0===m||!m.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class AC{load(f){return(0,h.Z)(function*(){return new L0(f)})()}clearedOneInstance(){}}const Mn="recaptcha",zh={theme:"light",type:"image"};class Ou{constructor(f,m=Object.assign({},zh),w){this.parameters=m,this.type=Mn,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=zt(w),this.isInvisible="invisible"===this.parameters.size,K(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof f?document.getElementById(f):f;K(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new AC:new xa,this.validateStartingState()}verify(){var f=this;return(0,h.Z)(function*(){f.assertNotDestroyed();const m=yield f.render(),w=f.getAssertedRecaptcha();return w.getResponse(m)||new Promise(M=>{const B=Y=>{Y&&(f.tokenChangeListeners.delete(B),M(Y))};f.tokenChangeListeners.add(B),f.isInvisible&&w.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){K(!this.parameters.sitekey,this.auth,"argument-error"),K(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),K(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(w=>w(m)),"function"==typeof f)f(m);else if("string"==typeof f){const w=fn()[f];"function"==typeof w&&w(m)}}}assertNotDestroyed(){K(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,h.Z)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const w=document.createElement("div");m.appendChild(w),m=w}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,h.Z)(function*(){K(Ft()&&!xu(),f.auth,"internal-error"),yield function Jg(){let v=null;return new Promise(f=>{"complete"!==document.readyState?(v=()=>f(),window.addEventListener("load",v)):f()}).catch(f=>{throw v&&window.removeEventListener("load",v),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function ee(v){return W.apply(this,arguments)}(f.auth);K(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return K(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Fr{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=da._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function Do(v,f,m){return wl.apply(this,arguments)}function wl(){return(wl=(0,h.Z)(function*(v,f,m){const w=zt(v),T=yield Il(w,f,(0,O.m9)(m));return new Fr(T,M=>mt(w,M))})).apply(this,arguments)}function El(v,f,m){return Co.apply(this,arguments)}function Co(){return(Co=(0,h.Z)(function*(v,f,m){const w=(0,O.m9)(v);yield vu(!1,w,"phone");const T=yield Il(w.auth,f,(0,O.m9)(m));return new Fr(T,M=>S0(w,M))})).apply(this,arguments)}function V0(v,f,m){return Xg.apply(this,arguments)}function Xg(){return(Xg=(0,h.Z)(function*(v,f,m){const w=(0,O.m9)(v),T=yield Il(w.auth,f,(0,O.m9)(m));return new Fr(T,M=>wh(w,M))})).apply(this,arguments)}function Il(v,f,m){return Gh.apply(this,arguments)}function Gh(){return Gh=(0,h.Z)(function*(v,f,m){var w;const T=yield m.verify();try{let M;if(K("string"==typeof T,v,"argument-error"),K(m.type===Mn,v,"argument-error"),M="string"==typeof f?{phoneNumber:f}:f,"session"in M){const B=M.session;if("phoneNumber"in M)return K("enroll"===B.type,v,"internal-error"),(yield function hl(v,f){return he(v,"POST","/v2/accounts/mfaEnrollment:start",H(v,f))}(v,{idToken:B.credential,phoneEnrollmentInfo:{phoneNumber:M.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{K("signin"===B.type,v,"internal-error");const Y=(null===(w=M.multiFactorHint)||void 0===w?void 0:w.uid)||M.multiFactorUid;return K(Y,v,"missing-multi-factor-info"),(yield function $h(v,f){return he(v,"POST","/v2/accounts/mfaSignIn:start",H(v,f))}(v,{mfaPendingCredential:B.credential,mfaEnrollmentId:Y,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:B}=yield function D0(v,f){return ch.apply(this,arguments)}(v,{phoneNumber:M.phoneNumber,recaptchaToken:T});return B}}finally{m._reset()}}),Gh.apply(this,arguments)}function Yr(v,f){return tn.apply(this,arguments)}function tn(){return(tn=(0,h.Z)(function*(v,f){yield Fs((0,O.m9)(v),f)})).apply(this,arguments)}let ci=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=zt(m)}verifyPhoneNumber(m,w){return Il(this.auth,m,(0,O.m9)(w))}static credential(m,w){return da._fromVerification(m,w)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:w,temporaryProof:T}=m;return w&&T?da._fromTokenResponse(w,T):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Je(v,f){return f?Hn(f):(K(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class li extends Kr{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return $i(f,this._buildIdpRequest())}_linkToIdToken(f,m){return $i(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return $i(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function di(v){return tl(v.auth,new li(v),v.bypassAuthState)}function em(v){const{auth:f,user:m}=v;return K(m,f,"internal-error"),vh(m,new li(v),v.bypassAuthState)}function Pu(v){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,h.Z)(function*(v){const{auth:f,user:m}=v;return K(m,f,"internal-error"),Fs(m,new li(v),v.bypassAuthState)})).apply(this,arguments)}class Wh{constructor(f,m,w,T,M=!1){this.auth=f,this.resolver=w,this.user=T,this.bypassAuthState=M,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,h.Z)(function*(w,T){f.pendingPromise={resolve:w,reject:T};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(M){f.reject(M)}});return function(w,T){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,h.Z)(function*(){const{urlResponse:w,sessionId:T,postBody:M,tenantId:B,error:Y,type:Ie}=f;if(Y)return void m.reject(Y);const Fe={auth:m.auth,requestUri:w,sessionId:T,tenantId:B||void 0,postBody:M||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Ie)(Fe))}catch(Xe){m.reject(Xe)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return di;case"linkViaPopup":case"linkViaRedirect":return Pu;case"reauthViaPopup":case"reauthViaRedirect":return em;default:pe(this.auth,"internal-error")}}resolve(f){pt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){pt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const tm=new wi(2e3,1e4);function Dl(v,f,m){return bo.apply(this,arguments)}function bo(){return(bo=(0,h.Z)(function*(v,f,m){const w=zt(v);Oe(v,f,Os);const T=Je(w,m);return new Cl(w,"signInViaPopup",f,T).executeNotNull()})).apply(this,arguments)}function ku(v,f,m){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,h.Z)(function*(v,f,m){const w=(0,O.m9)(v);Oe(w.auth,f,Os);const T=Je(w.auth,m);return new Cl(w.auth,"reauthViaPopup",f,T,w).executeNotNull()})).apply(this,arguments)}function To(v,f,m){return vt.apply(this,arguments)}function vt(){return(vt=(0,h.Z)(function*(v,f,m){const w=(0,O.m9)(v);Oe(w.auth,f,Os);const T=Je(w.auth,m);return new Cl(w.auth,"linkViaPopup",f,T,w).executeNotNull()})).apply(this,arguments)}let Cl=(()=>{class v extends Wh{constructor(m,w,T,M,B){super(m,w,M,B),this.provider=T,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,h.Z)(function*(){const w=yield m.execute();return K(w,m.auth,"internal-error"),w})()}onExecution(){var m=this;return(0,h.Z)(function*(){pt(1===m.filter.length,"Popup operations only handle one event");const w=cs();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],w),m.authWindow.associatedEvent=w,m.resolver._originValidation(m.auth).catch(T=>{m.reject(T)}),m.resolver._isIframeWebStorageSupported(m.auth,T=>{T||m.reject(de(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(de(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var w,T;this.pollId=null!==(T=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==T&&T.closed?window.setTimeout(()=>{this.pollId=null,this.reject(de(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,tm.get())};m()}}return v.currentPopupAction=null,v})();const qh="pendingRedirect",bi=new Map;class Ra extends Wh{constructor(f,m,w=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,w),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,h.Z)(function*(){let w=bi.get(m.auth._key());if(!w){try{const M=(yield function ur(v,f){return bl.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;w=()=>Promise.resolve(M)}catch(T){w=()=>Promise.reject(T)}bi.set(m.auth._key(),w)}return m.bypassAuthState||bi.set(m.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,w=this;return(0,h.Z)(function*(){if("signInViaRedirect"===f.type)return m().call(w,f);if("unknown"!==f.type){if(f.eventId){const T=yield w.auth._redirectUserForId(f.eventId);if(T)return w.user=T,m().call(w,f);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function bl(){return(bl=(0,h.Z)(function*(v,f){const m=Na(f),w=nm(v);if(!(yield w._isAvailable()))return!1;const T="true"===(yield w._get(m));return yield w._remove(m),T})).apply(this,arguments)}function Fu(v,f){return ls.apply(this,arguments)}function ls(){return(ls=(0,h.Z)(function*(v,f){return nm(v)._set(Na(f),"true")})).apply(this,arguments)}function So(){bi.clear()}function Ao(v,f){bi.set(v._key(),f)}function nm(v){return Hn(v._redirectPersistence)}function Na(v){return oi(qh,v.config.apiKey,v.name)}function Lu(v,f,m){return function rm(v,f,m){return Tl.apply(this,arguments)}(v,f,m)}function Tl(){return(Tl=(0,h.Z)(function*(v,f,m){const w=zt(v);Oe(v,f,Os),yield w._initializationPromise;const T=Je(w,m);return yield Fu(T,w),T._openRedirect(w,f,"signInViaRedirect")})).apply(this,arguments)}function Vu(v,f,m){return function Oa(v,f,m){return Lr.apply(this,arguments)}(v,f,m)}function Lr(){return(Lr=(0,h.Z)(function*(v,f,m){const w=(0,O.m9)(v);Oe(w.auth,f,Os),yield w.auth._initializationPromise;const T=Je(w.auth,m);yield Fu(T,w.auth);const M=yield Ti(w);return T._openRedirect(w.auth,f,"reauthViaRedirect",M)})).apply(this,arguments)}function Uu(v,f,m){return function Sr(v,f,m){return Mo.apply(this,arguments)}(v,f,m)}function Mo(){return(Mo=(0,h.Z)(function*(v,f,m){const w=(0,O.m9)(v);Oe(w.auth,f,Os),yield w.auth._initializationPromise;const T=Je(w.auth,m);yield vu(!1,w,f.providerId),yield Fu(T,w.auth);const M=yield Ti(w);return T._openRedirect(w.auth,f,"linkViaRedirect",M)})).apply(this,arguments)}function im(v,f){return mn.apply(this,arguments)}function mn(){return(mn=(0,h.Z)(function*(v,f){return yield zt(v)._initializationPromise,zs(v,f,!1)})).apply(this,arguments)}function zs(v,f){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,h.Z)(function*(v,f,m=!1){const w=zt(v),T=Je(w,f),B=yield new Ra(w,T,m).execute();return B&&!m&&(delete B.user._redirectEventId,yield w._persistUserIfCurrent(B.user),yield w._setRedirectUser(null,f)),B})).apply(this,arguments)}function Ti(v){return xn.apply(this,arguments)}function xn(){return(xn=(0,h.Z)(function*(v){const f=cs(`${v.uid}:::`);return v._redirectEventId=f,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),f})).apply(this,arguments)}class Kh{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(f,w)&&(m=!0,this.sendToConsumer(f,w),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function xo(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zi(v);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var w;if(f.error&&!zi(f)){const T=(null===(w=f.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";m.onError(de(this.auth,T))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const w=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&w}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bu(f))}saveEventToCache(f){this.cachedEventUids.add(Bu(f)),this.lastProcessedEventTime=Date.now()}}function Bu(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(f=>f).join("-")}function zi({type:v,error:f}){return"unknown"===v&&"auth/no-auth-event"===f?.code}function qn(v){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,h.Z)(function*(v,f={}){return he(v,"GET","/v1/projects",f)})).apply(this,arguments)}const U0=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Zh=/^https?/;function Ro(){return(Ro=(0,h.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:f}=yield qn(v);for(const m of f)try{if(Yh(m))return}catch{}pe(v,"unauthorized-domain")})).apply(this,arguments)}function Yh(v){const f=Ge(),{protocol:m,hostname:w}=new URL(f);if(v.startsWith("chrome-extension://")){const B=new URL(v);return""===B.hostname&&""===w?"chrome-extension:"===m&&v.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&B.hostname===w}if(!Zh.test(m))return!1;if(U0.test(v))return w===v;const T=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(w)}const Qh=new wi(3e4,6e4);function Pa(){const v=fn().___jsl;if(v?.H)for(const f of Object.keys(v.H))if(v.H[f].r=v.H[f].r||[],v.H[f].L=v.H[f].L||[],v.H[f].r=[...v.H[f].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let ds=null;const No=new wi(5e3,15e3),Jh="__/auth/iframe",Ml="emulator/auth/iframe",Si={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Xh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ef(v){const f=v.config;K(f.authDomain,v,"auth-domain-config-required");const m=f.emulator?io(f,Ml):`https://${v.config.authDomain}/${Jh}`,w={apiKey:f.apiKey,appName:v.name,v:X.SDK_VERSION},T=Xh.get(v.config.apiHost);T&&(w.eid=T);const M=v._getFrameworks();return M.length&&(w.fw=M.join(",")),`${m}?${(0,O.xO)(w).slice(1)}`}function tf(){return tf=(0,h.Z)(function*(v){const f=yield function sm(v){return ds=ds||function ut(v){return new Promise((f,m)=>{var w,T,M;function B(){Pa(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Pa(),m(de(v,"network-request-failed"))},timeout:Qh.get()})}if(null!==(T=null===(w=fn().gapi)||void 0===w?void 0:w.iframes)&&void 0!==T&&T.Iframe)f(gapi.iframes.getContext());else{if(null===(M=fn().gapi)||void 0===M||!M.load){const Y=sr("iframefcb");return fn()[Y]=()=>{gapi.load?B():m(de(v,"network-request-failed"))},Pt(`https://apis.google.com/js/api.js?onload=${Y}`).catch(Ie=>m(Ie))}B()}}).catch(f=>{throw ds=null,f})}(v),ds}(v),m=fn().gapi;return K(m,v,"internal-error"),f.open({where:document.body,url:ef(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Si,dontclear:!0},w=>new Promise(function(){var T=(0,h.Z)(function*(M,B){yield w.restyle({setHideOnLeave:!1});const Y=de(v,"network-request-failed"),Ie=fn().setTimeout(()=>{B(Y)},No.get());function Fe(){fn().clearTimeout(Ie),M(w)}w.ping(Fe).then(Fe,()=>{B(Y)})});return function(M,B){return T.apply(this,arguments)}}()))}),tf.apply(this,arguments)}const Kn={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yn=500,Oo=600,nf="_blank",ju="http://localhost";class Fn{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const rf="__/auth/handler",sf="emulator/auth/handler",Nl=encodeURIComponent("fac");function Po(v,f,m,w,T,M){return hi.apply(this,arguments)}function hi(){return(hi=(0,h.Z)(function*(v,f,m,w,T,M){K(v.config.authDomain,v,"auth-domain-config-required"),K(v.config.apiKey,v,"invalid-api-key");const B={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:w,v:X.SDK_VERSION,eventId:T};if(f instanceof Os){f.setDefaultLanguage(v.languageCode),B.providerId=f.providerId||"",(0,O.xb)(f.getCustomParameters())||(B.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Xe,wt]of Object.entries(M||{}))B[Xe]=wt}if(f instanceof ha){const Xe=f.getScopes().filter(wt=>""!==wt);Xe.length>0&&(B.scopes=Xe.join(","))}v.tenantId&&(B.tid=v.tenantId);const Y=B;for(const Xe of Object.keys(Y))void 0===Y[Xe]&&delete Y[Xe];const Ie=yield v._getAppCheckToken(),Fe=Ie?`#${Nl}=${encodeURIComponent(Ie)}`:"";return`${function At({config:v}){return v.emulator?io(v,sf):`https://${v.authDomain}/${rf}`}(v)}?${(0,O.xO)(Y).slice(1)}${Fe}`})).apply(this,arguments)}const hs="webStorageSupport",fs=class om{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Tr,this._completeRedirectFn=zs,this._overrideRedirectResult=Ao}_openPopup(f,m,w,T){var M=this;return(0,h.Z)(function*(){var B;pt(null===(B=M.eventManagers[f._key()])||void 0===B?void 0:B.manager,"_initialize() not called before _openPopup()");const Y=yield Po(f,m,w,Ge(),T);return function ka(v,f,m,w=yn,T=Oo){const M=Math.max((window.screen.availHeight-T)/2,0).toString(),B=Math.max((window.screen.availWidth-w)/2,0).toString();let Y="";const Ie=Object.assign(Object.assign({},Kn),{width:w.toString(),height:T.toString(),top:M,left:B}),Fe=(0,O.z$)().toLowerCase();m&&(Y=G(Fe)?nf:m),U(Fe)&&(f=f||ju,Ie.scrollbars="yes");const Xe=Object.entries(Ie).reduce((cr,[qi,gs])=>`${cr}${qi}=${gs},`,"");if(function Nt(v=(0,O.z$)()){var f;return en(v)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(Fe)&&"_self"!==Y)return function Rl(v,f){const m=document.createElement("a");m.href=v,m.target=f;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(w)}(f||"",Y),new Fn(null);const wt=window.open(f||"",Y,Xe);K(wt,v,"popup-blocked");try{wt.focus()}catch{}return new Fn(wt)}(f,Y,cs())})()}_openRedirect(f,m,w,T){var M=this;return(0,h.Z)(function*(){return yield M._originValidation(f),function Ta(v){fn().location.href=v}(yield Po(f,m,w,Ge(),T)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:T,promise:M}=this.eventManagers[m];return T?Promise.resolve(T):(pt(M,"If manager is not set, promise should be"),M)}const w=this.initAndGetManager(f);return this.eventManagers[m]={promise:w},w.catch(()=>{delete this.eventManagers[m]}),w}initAndGetManager(f){var m=this;return(0,h.Z)(function*(){const w=yield function xl(v){return tf.apply(this,arguments)}(f),T=new Kh(f);return w.register("authEvent",M=>(K(M?.authEvent,f,"invalid-auth-event"),{status:T.onEvent(M.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:T},m.iframes[f._key()]=w,T})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(hs,{type:hs},T=>{var M;const B=null===(M=T?.[0])||void 0===M?void 0:M[hs];void 0!==B&&m(!!B),pe(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function $u(v){return Ro.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return qr()||oe()||en()}};class Ol{constructor(f){this.factorId=f}_process(f,m,w){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,w);case"signin":return this._finalizeSignIn(f,m.credential);default:return ze("unexpected MultiFactorSessionType")}}}class Wi extends Ol{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Wi(f)}_finalizeEnroll(f,m,w){return function Tu(v,f){return he(v,"POST","/v2/accounts/mfaEnrollment:finalize",H(v,f))}(f,{idToken:m,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function Io(v,f){return he(v,"POST","/v2/accounts/mfaSignIn:finalize",H(v,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Pl=(()=>{class v{constructor(){}static assertion(m){return Wi._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var Ws="@firebase/auth";class ps{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,h.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(w=>{f(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);m&&(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Ll=(0,O.Pz)("authIdTokenMaxAge")||300;let uf=null;const am=v=>function(){var f=(0,h.Z)(function*(m){const w=m&&(yield m.getIdTokenResult()),T=w&&((new Date).getTime()-Date.parse(w.issuedAtTime))/1e3;if(T&&T>Ll)return;const M=w?.token;uf!==M&&(uf=M,yield fetch(v,{method:M?"POST":"DELETE",headers:M?{Authorization:`Bearer ${M}`}:{}}))});return function(m){return f.apply(this,arguments)}}();function zu(v=(0,X.getApp)()){const f=(0,X._getProvider)(v,"auth");if(f.isInitialized())return f.getImmediate();const m=function or(v,f){const m=(0,X._getProvider)(v,"auth");if(m.isInitialized()){const T=m.getImmediate(),M=m.getOptions();if((0,O.vZ)(M,f??{}))return T;pe(T,"already-initialized")}return m.initialize({options:f})}(v,{popupRedirectResolver:fs,persistence:[_l,Au,Tr]}),w=(0,O.Pz)("authTokenSyncURL");if(w){const M=am(w);(function wa(v,f,m){(0,O.m9)(v).beforeAuthStateChanged(f,m)})(m,M,()=>M(m.currentUser)),function bu(v,f,m,w){(0,O.m9)(v).onIdTokenChanged(f,m,w)}(m,B=>M(B))}const T=(0,O.q4)("auth");return T&&cn(m,`http://${T}`),m}!function Fl(v){(0,X._registerComponent)(new ue.wA("auth",(f,{options:m})=>{const w=f.getProvider("app").getImmediate(),T=f.getProvider("heartbeat"),M=f.getProvider("app-check-internal"),{apiKey:B,authDomain:Y}=w.options;K(B&&!B.includes(":"),"invalid-api-key",{appName:w.name});const Ie={apiKey:B,authDomain:Y,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fu(v)},Fe=new dn(w,T,M,Ie);return function Rs(v,f){const m=f?.persistence||[],w=(Array.isArray(m)?m:[m]).map(Hn);f?.errorMap&&v._updateErrorMap(f.errorMap),v._initializeWithPersistence(w,f?.popupRedirectResolver)}(Fe,m),Fe},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,w)=>{f.getProvider("auth-internal").initialize()})),(0,X._registerComponent)(new ue.wA("auth-internal",f=>{const m=zt(f.getProvider("auth").getImmediate());return new ps(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,X.registerVersion)(Ws,"0.23.2",function Lo(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,X.registerVersion)(Ws,"0.23.2","esm2017")}("Browser")},2090:(ht,be,N)=>{N.d(be,{$s:()=>Hn,BH:()=>ye,L:()=>Re,LL:()=>De,P0:()=>Pe,Pz:()=>de,Sg:()=>Oe,UG:()=>ze,US:()=>ue,ZB:()=>j,ZR:()=>he,aH:()=>pe,b$:()=>Ft,eu:()=>ne,hl:()=>Q,jU:()=>pt,m9:()=>oi,ne:()=>Lt,pd:()=>si,q4:()=>_e,r3:()=>Bn,ru:()=>Ge,tV:()=>V,uI:()=>K,vZ:()=>nt,w1:()=>ro,xO:()=>On,xb:()=>ii,z$:()=>Ne,zI:()=>re,zd:()=>Hr});const ce=function(P){const R=[];let U=0;for(let oe=0;oe<P.length;oe++){let G=P.charCodeAt(oe);G<128?R[U++]=G:G<2048?(R[U++]=G>>6|192,R[U++]=63&G|128):55296==(64512&G)&&oe+1<P.length&&56320==(64512&P.charCodeAt(oe+1))?(G=65536+((1023&G)<<10)+(1023&P.charCodeAt(++oe)),R[U++]=G>>18|240,R[U++]=G>>12&63|128,R[U++]=G>>6&63|128,R[U++]=63&G|128):(R[U++]=G>>12|224,R[U++]=G>>6&63|128,R[U++]=63&G|128)}return R},ue={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(P,R){if(!Array.isArray(P))throw Error("encodeByteArray takes an array as a parameter");this.init_();const U=R?this.byteToCharMapWebSafe_:this.byteToCharMap_,oe=[];for(let G=0;G<P.length;G+=3){const Ce=P[G],ft=G+1<P.length,Yt=ft?P[G+1]:0,Sn=G+2<P.length,en=Sn?P[G+2]:0;let Pr=(15&Yt)<<2|en>>6,qr=63&en;Sn||(qr=64,ft||(Pr=64)),oe.push(U[Ce>>2],U[(3&Ce)<<4|Yt>>4],U[Pr],U[qr])}return oe.join("")},encodeString(P,R){return this.HAS_NATIVE_SUPPORT&&!R?btoa(P):this.encodeByteArray(ce(P),R)},decodeString(P,R){return this.HAS_NATIVE_SUPPORT&&!R?atob(P):function(P){const R=[];let U=0,oe=0;for(;U<P.length;){const G=P[U++];if(G<128)R[oe++]=String.fromCharCode(G);else if(G>191&&G<224){const Ce=P[U++];R[oe++]=String.fromCharCode((31&G)<<6|63&Ce)}else if(G>239&&G<365){const Sn=((7&G)<<18|(63&P[U++])<<12|(63&P[U++])<<6|63&P[U++])-65536;R[oe++]=String.fromCharCode(55296+(Sn>>10)),R[oe++]=String.fromCharCode(56320+(1023&Sn))}else{const Ce=P[U++],ft=P[U++];R[oe++]=String.fromCharCode((15&G)<<12|(63&Ce)<<6|63&ft)}}return R.join("")}(this.decodeStringToByteArray(P,R))},decodeStringToByteArray(P,R){this.init_();const U=R?this.charToByteMapWebSafe_:this.charToByteMap_,oe=[];for(let G=0;G<P.length;){const Ce=U[P.charAt(G++)],Yt=G<P.length?U[P.charAt(G)]:0;++G;const en=G<P.length?U[P.charAt(G)]:64;++G;const Nt=G<P.length?U[P.charAt(G)]:64;if(++G,null==Ce||null==Yt||null==en||null==Nt)throw new xe;oe.push(Ce<<2|Yt>>4),64!==en&&(oe.push(Yt<<4&240|en>>2),64!==Nt&&oe.push(en<<6&192|Nt))}return oe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let P=0;P<this.ENCODED_VALS.length;P++)this.byteToCharMap_[P]=this.ENCODED_VALS.charAt(P),this.charToByteMap_[this.byteToCharMap_[P]]=P,this.byteToCharMapWebSafe_[P]=this.ENCODED_VALS_WEBSAFE.charAt(P),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[P]]=P,P>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(P)]=P,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(P)]=P)}}};class xe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Re=function(P){return function(P){const R=ce(P);return ue.encodeByteArray(R,!0)}(P).replace(/\./g,"")},V=function(P){try{return ue.decodeString(P,!0)}catch(R){console.error("base64Decode failed: ",R)}return null};function j(P,R){if(!(R instanceof Object))return R;switch(R.constructor){case Date:return new Date(R.getTime());case Object:void 0===P&&(P={});break;case Array:P=[];break;default:return R}for(const U in R)!R.hasOwnProperty(U)||!ke(U)||(P[U]=j(P[U],R[U]));return P}function ke(P){return"__proto__"!==P}const Ae=()=>{try{return function Se(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const P=process.env.__FIREBASE_DEFAULTS__;return P?JSON.parse(P):void 0})()||(()=>{if(typeof document>"u")return;let P;try{P=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const R=P&&V(P[1]);return R&&JSON.parse(R)})()}catch(P){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${P}`)}},_e=P=>{var R,U;return null===(U=null===(R=Ae())||void 0===R?void 0:R.emulatorHosts)||void 0===U?void 0:U[P]},Pe=P=>{const R=_e(P);if(!R)return;const U=R.lastIndexOf(":");if(U<=0||U+1===R.length)throw new Error(`Invalid host ${R} with no separate hostname and port!`);const oe=parseInt(R.substring(U+1),10);return"["===R[0]?[R.substring(1,U-1),oe]:[R.substring(0,U),oe]},pe=()=>{var P;return null===(P=Ae())||void 0===P?void 0:P.config},de=P=>{var R;return null===(R=Ae())||void 0===R?void 0:R[`_${P}`]};class ye{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((R,U)=>{this.resolve=R,this.reject=U})}wrapCallback(R){return(U,oe)=>{U?this.reject(U):this.resolve(oe),"function"==typeof R&&(this.promise.catch(()=>{}),1===R.length?R(U):R(U,oe))}}}function Oe(P,R){if(P.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const oe=R||"demo-project",G=P.iat||0,Ce=P.sub||P.user_id;if(!Ce)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ft=Object.assign({iss:`https://securetoken.google.com/${oe}`,aud:oe,iat:G,exp:G+3600,auth_time:G,sub:Ce,user_id:Ce,firebase:{sign_in_provider:"custom",identities:{}}},P);return[Re(JSON.stringify({alg:"none",type:"JWT"})),Re(JSON.stringify(ft)),""].join(".")}function Ne(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function K(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ne())}function ze(){var P;const R=null===(P=Ae())||void 0===P?void 0:P.forceEnvironment;if("node"===R)return!0;if("browser"===R)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function pt(){return"object"==typeof self&&self.self===self}function Ge(){const P="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof P&&void 0!==P.id}function Ft(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ro(){const P=Ne();return P.indexOf("MSIE ")>=0||P.indexOf("Trident/")>=0}function Q(){try{return"object"==typeof indexedDB}catch{return!1}}function ne(){return new Promise((P,R)=>{try{let U=!0;const oe="validate-browser-context-for-indexeddb-analytics-module",G=self.indexedDB.open(oe);G.onsuccess=()=>{G.result.close(),U||self.indexedDB.deleteDatabase(oe),P(!0)},G.onupgradeneeded=()=>{U=!1},G.onerror=()=>{var Ce;R((null===(Ce=G.error)||void 0===Ce?void 0:Ce.message)||"")}}catch(U){R(U)}})}function re(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class he extends Error{constructor(R,U,oe){super(U),this.code=R,this.customData=oe,this.name="FirebaseError",Object.setPrototypeOf(this,he.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,De.prototype.create)}}class De{constructor(R,U,oe){this.service=R,this.serviceName=U,this.errors=oe}create(R,...U){const oe=U[0]||{},G=`${this.service}/${R}`,Ce=this.errors[R],ft=Ce?function at(P,R){return P.replace(Ye,(U,oe)=>{const G=R[oe];return null!=G?String(G):`<${oe}?>`})}(Ce,oe):"Error";return new he(G,`${this.serviceName}: ${ft} (${G}).`,oe)}}const Ye=/\{\$([^}]+)}/g;function Bn(P,R){return Object.prototype.hasOwnProperty.call(P,R)}function ii(P){for(const R in P)if(Object.prototype.hasOwnProperty.call(P,R))return!1;return!0}function nt(P,R){if(P===R)return!0;const U=Object.keys(P),oe=Object.keys(R);for(const G of U){if(!oe.includes(G))return!1;const Ce=P[G],ft=R[G];if(Ms(Ce)&&Ms(ft)){if(!nt(Ce,ft))return!1}else if(Ce!==ft)return!1}for(const G of oe)if(!U.includes(G))return!1;return!0}function Ms(P){return null!==P&&"object"==typeof P}function On(P){const R=[];for(const[U,oe]of Object.entries(P))Array.isArray(oe)?oe.forEach(G=>{R.push(encodeURIComponent(U)+"="+encodeURIComponent(G))}):R.push(encodeURIComponent(U)+"="+encodeURIComponent(oe));return R.length?"&"+R.join("&"):""}function Hr(P){const R={};return P.replace(/^\?/,"").split("&").forEach(oe=>{if(oe){const[G,Ce]=oe.split("=");R[decodeURIComponent(G)]=decodeURIComponent(Ce)}}),R}function si(P){const R=P.indexOf("?");if(!R)return"";const U=P.indexOf("#",R);return P.substring(R,U>0?U:void 0)}function Lt(P,R){const U=new st(P,R);return U.subscribe.bind(U)}class st{constructor(R,U){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=U,this.task.then(()=>{R(this)}).catch(oe=>{this.error(oe)})}next(R){this.forEachObserver(U=>{U.next(R)})}error(R){this.forEachObserver(U=>{U.error(R)}),this.close(R)}complete(){this.forEachObserver(R=>{R.complete()}),this.close()}subscribe(R,U,oe){let G;if(void 0===R&&void 0===U&&void 0===oe)throw new Error("Missing Observer.");G=function zr(P,R){if("object"!=typeof P||null===P)return!1;for(const U of R)if(U in P&&"function"==typeof P[U])return!0;return!1}(R,["next","error","complete"])?R:{next:R,error:U,complete:oe},void 0===G.next&&(G.next=Dr),void 0===G.error&&(G.error=Dr),void 0===G.complete&&(G.complete=Dr);const Ce=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?G.error(this.finalError):G.complete()}catch{}}),this.observers.push(G),Ce}unsubscribeOne(R){void 0===this.observers||void 0===this.observers[R]||(delete this.observers[R],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(R){if(!this.finalized)for(let U=0;U<this.observers.length;U++)this.sendOne(U,R)}sendOne(R,U){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[R])try{U(this.observers[R])}catch(oe){typeof console<"u"&&console.error&&console.error(oe)}})}close(R){this.finalized||(this.finalized=!0,void 0!==R&&(this.finalError=R),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Dr(){}const jt=1e3,Or=2,jn=144e5,Wr=.5;function Hn(P,R=jt,U=Or){const oe=R*Math.pow(U,P),G=Math.round(Wr*oe*(Math.random()-.5)*2);return Math.min(jn,oe+G)}function oi(P){return P&&P._delegate?P._delegate:P}},6679:(ht,be,N)=>{var h=N(4650);let O=null;function X(){return O}class fe{}const ue=new h.OlP("DocumentToken");let xe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return function Te(){return(0,h.LFG)(V)}()},providedIn:"platform"}),n})();const Re=new h.OlP("Location Initialized");let V=(()=>{class n extends xe{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return X().getBaseHref(this._doc)}onPopState(t){const r=X().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=X().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){F()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){F()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ue))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function j(){return new V((0,h.LFG)(ue))}()},providedIn:"platform"}),n})();function F(){return!!window.history.pushState}function ke(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Se(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function He(n){return n&&"?"!==n[0]?"?"+n:n}let Ze=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(Ae)},providedIn:"root"}),n})();const Z=new h.OlP("appBaseHref");let Ae=(()=>{class n extends Ze{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,h.f3M)(ue).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ke(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+He(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,u){const c=this.prepareExternalUrl(i+He(u));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,u){const c=this.prepareExternalUrl(i+He(u));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(xe),h.LFG(Z,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_e=(()=>{class n extends Ze{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=ke(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,u){let c=this.prepareExternalUrl(i+He(u));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,u){let c=this.prepareExternalUrl(i+He(u));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(xe),h.LFG(Z,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Pe=(()=>{class n{constructor(t){this._subject=new h.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function Oe(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Se(ye(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+He(r))}normalize(t){return n.stripTrailingSlash(function de(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,ye(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+He(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+He(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=He,n.joinWithSlash=ke,n.stripTrailingSlash=Se,n.\u0275fac=function(t){return new(t||n)(h.LFG(Ze))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function pe(){return new Pe((0,h.LFG)(Ze))}()},providedIn:"root"}),n})();function ye(n){return n.replace(/\/index.html$/,"")}class or{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Rs=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,u,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new or(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===u?void 0:u);else if(null!==u){const g=r.get(u);r.move(g,c),cn(g,i)}});for(let i=0,u=r.length;i<u;i++){const g=r.get(i).context;g.index=i,g.count=u,g.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{cn(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function cn(n,e){n.context.$implicit=e.item}let b0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();let mh=(()=>{class n{}return n.\u0275prov=(0,h.Yz7)({token:n,providedIn:"root",factory:()=>new kg((0,h.LFG)(ue),window)}),n})();class kg{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function yh(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const u=i.shadowRoot;if(u){const c=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],i-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ps(this.window.history)||Ps(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ps(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Oh extends fe{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class bu extends Oh{static makeCurrent(){!function ce(n){O||(O=n)}(new bu)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Ea(){return wa=wa||document.querySelector("base"),wa?wa.getAttribute("href"):null}();return null==t?null:function k0(n){Vs=Vs||document.createElement("a"),Vs.setAttribute("href",n);const e=Vs.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){wa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function oa(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let Vs,wa=null;const zg=new h.OlP("TRANSITION_ID"),kh=[{provide:h.ip1,useFactory:function Ph(n,e,t){return()=>{t.get(h.CZH).donePromise.then(()=>{const r=X(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<i.length;u++)r.remove(i[u])})}},deps:[zg,ue,h.zs3],multi:!0}];let ll=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const dl=new h.OlP("EventManagerPlugins");let hl=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let u=0;u<i.length;u++){const c=i[u];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(dl),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class Tu{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=X().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Fh=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let u=i.get(t)??0;return u+=r,u>0?i.set(t,u):i.delete(t),u}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),mo=(()=>{class n extends Fh{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(u=>u.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const u=this.styleRef.get(r);u?u.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ue))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Bs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},yo=/%COMP%/g,ba=new h.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Au(n,e){return e.flat(100).map(t=>t.replace(yo,n))}function Wg(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Tr=(()=>{class n{constructor(t,r,i,u){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=u,this.rendererByCompId=new Map,this.defaultRenderer=new pl(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof xu?i.applyToHost(t):i instanceof Ta&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let u=i.get(r.id);if(!u){const c=this.eventManager,g=this.sharedStylesHost,_=this.removeStylesOnCompDestory;switch(r.encapsulation){case h.ifc.Emulated:u=new xu(c,g,r,this.appId,_);break;case h.ifc.ShadowDom:return new fn(c,g,t,r);default:u=new Ta(c,g,r,_)}u.onDestroy=()=>i.delete(r.id),i.set(r.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(hl),h.LFG(mo),h.LFG(h.AFp),h.LFG(ba))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class pl{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Bs[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(gl(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(gl(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const u=Bs[i];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Bs[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(h.JOm.DashCase|h.JOm.Important)?e.style.setProperty(t,r,i&h.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&h.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Wg(r)):this.eventManager.addEventListener(e,t,Wg(r))}}function gl(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class fn extends pl{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=Au(i.id,i.styles);for(const c of u){const g=document.createElement("style");g.textContent=c,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ta extends pl{constructor(e,t,r,i,u=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=Au(u,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class xu extends Ta{constructor(e,t,r,i,u){const c=i+"-"+r.id;super(e,t,r,u,c),this.contentAttr=function F0(n){return"_ngcontent-%COMP%".replace(yo,n)}(c),this.hostAttr=function Gg(n){return"_nghost-%COMP%".replace(yo,n)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let Lh=(()=>{class n extends Tu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ue))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Sa=["alt","control","meta","shift"],Vh={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Uh={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Bh=(()=>{class n extends Tu{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const u=n.parseEventName(r),c=n.eventCallback(u.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>X().onAndCancel(t,u.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const u=n._normalizeKey(r.pop());let c="",g=r.indexOf("code");if(g>-1&&(r.splice(g,1),c="code."),Sa.forEach(I=>{const C=r.indexOf(I);C>-1&&(r.splice(C,1),c+=I+".")}),c+=u,0!=r.length||0===u.length)return null;const _={};return _.domEventName=i,_.fullKey=c,_}static matchEventFullKeyCode(t,r){let i=Vh[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(i=t.code,u="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Sa.forEach(c=>{c!==i&&(0,Uh[c])(t)&&(u+=c+".")}),u+=i,u===r)}static eventCallback(t,r,i){return u=>{n.matchEventFullKeyCode(u,t)&&i.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ue))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Kg=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:"browser"},{provide:h.g9A,useValue:function vo(){bu.makeCurrent()},multi:!0},{provide:ue,useFactory:function yl(){return(0,h.RDi)(document),document},deps:[]}]),Aa=new h.OlP(""),Ma=[{provide:h.rWj,useClass:class Us{addToWindow(e){h.dqk.getAngularTestability=(r,i=!0)=>{const u=e.findTestabilityInTree(r,i);if(null==u)throw new Error("Could not find testability for element.");return u},h.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(r=>{const i=h.dqk.getAllAngularTestabilities();let u=i.length,c=!1;const g=function(_){c=c||_,u--,0==u&&r(c)};i.forEach(function(_){_.whenStable(g)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?X().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:h.lri,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]}],js=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function ml(){return new h.qLn},deps:[]},{provide:dl,useClass:Lh,multi:!0,deps:[ue,h.R0b,h.Lbi]},{provide:dl,useClass:Bh,multi:!0,deps:[ue]},{provide:Tr,useClass:Tr,deps:[hl,mo,h.AFp,ba]},{provide:h.FYo,useExisting:Tr},{provide:Fh,useExisting:mo},{provide:mo,useClass:mo,deps:[ue]},{provide:hl,useClass:hl,deps:[dl,h.R0b]},{provide:class Fg{},useClass:ll,deps:[]},[]];let Eo=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:h.AFp,useValue:t.appId},{provide:zg,useExisting:h.AFp},kh]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Aa,12))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[...js,...Ma],imports:[b0,h.hGG]}),n})(),Zg=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ue))},n.\u0275prov=h.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Io(){return new Zg((0,h.LFG)(ue))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var tn=N(8996),ci=N(7669);function Je(...n){const e=(0,ci.yG)(n);return(0,tn.D)(n,e)}var li=N(7579);class di extends li.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Pu=(0,N(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Qr=N(9751);const{isArray:Wh}=Array,{getPrototypeOf:tm,prototype:Dl,keys:bo}=Object;function ku(n){if(1===n.length){const e=n[0];if(Wh(e))return{args:e,keys:null};if(function Hs(n){return n&&"object"==typeof n&&tm(n)===Dl}(e)){const t=bo(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var To=N(4671),vt=N(4004);const{isArray:Cl}=Array;function bi(n){return(0,vt.U)(e=>function qh(n,e){return Cl(e)?n(...e):n(e)}(n,e))}function Ra(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var ur=N(5403),bl=N(9672);function Fu(...n){const e=(0,ci.yG)(n),t=(0,ci.jO)(n),{args:r,keys:i}=ku(n);if(0===r.length)return(0,tn.D)([],e);const u=new Qr.y(function ls(n,e,t=To.y){return r=>{So(e,()=>{const{length:i}=n,u=new Array(i);let c=i,g=i;for(let _=0;_<i;_++)So(e,()=>{const I=(0,tn.D)(n[_],e);let C=!1;I.subscribe((0,ur.x)(r,S=>{u[_]=S,C||(C=!0,g--),g||r.next(t(u.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>Ra(i,c):To.y));return t?u.pipe(bi(t)):u}function So(n,e,t){n?(0,bl.f)(t,n,e):e()}var Ao=N(8189);function Na(...n){return function nm(){return(0,Ao.J)(1)}()((0,tn.D)(n,(0,ci.yG)(n)))}var Lu=N(8421);function rm(n){return new Qr.y(e=>{(0,Lu.Xf)(n()).subscribe(e)})}var Tl=N(9635),Vu=N(576);function Oa(n,e){const t=(0,Vu.m)(n)?n:()=>n,r=i=>i.error(t());return new Qr.y(e?i=>e.schedule(r,0,i):r)}var Lr=N(515),Uu=N(727),Sr=N(4482);function Mo(){return(0,Sr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,ur.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,u=t;t=null,i&&(!u||i===u)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class im extends Qr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Sr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Uu.w0;const t=this.getSubject();e.add(this.source.subscribe((0,ur.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Uu.w0.EMPTY)}return e}refCount(){return Mo()(this)}}function mn(n,e){return(0,Sr.e)((t,r)=>{let i=null,u=0,c=!1;const g=()=>c&&!i&&r.complete();t.subscribe((0,ur.x)(r,_=>{i?.unsubscribe();let I=0;const C=u++;(0,Lu.Xf)(n(_,C)).subscribe(i=(0,ur.x)(r,S=>r.next(e?e(_,S,C,I++):S),()=>{i=null,g()}))},()=>{c=!0,g()}))})}function zs(n){return n<=0?()=>Lr.E:(0,Sr.e)((e,t)=>{let r=0;e.subscribe((0,ur.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Ti(n,e){return(0,Sr.e)((t,r)=>{let i=0;t.subscribe((0,ur.x)(r,u=>n.call(e,u,i++)&&r.next(u)))})}var xn=N(5577);function Al(n){return(0,Sr.e)((e,t)=>{let r=!1;e.subscribe((0,ur.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Kh(n=Bu){return(0,Sr.e)((e,t)=>{let r=!1;e.subscribe((0,ur.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Bu(){return new Pu}function zi(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ti((i,u)=>n(i,u,r)):To.y,zs(1),t?Al(e):Kh(()=>new Pu))}function xo(n,e){return(0,Vu.m)(e)?(0,xn.z)(n,e,1):(0,xn.z)(n,1)}function qn(n,e,t){const r=(0,Vu.m)(n)||e||t?{next:n,error:e,complete:t}:n;return r?(0,Sr.e)((i,u)=>{var c;null===(c=r.subscribe)||void 0===c||c.call(r);let g=!0;i.subscribe((0,ur.x)(u,_=>{var I;null===(I=r.next)||void 0===I||I.call(r,_),u.next(_)},()=>{var _;g=!1,null===(_=r.complete)||void 0===_||_.call(r),u.complete()},_=>{var I;g=!1,null===(I=r.error)||void 0===I||I.call(r,_),u.error(_)},()=>{var _,I;g&&(null===(_=r.unsubscribe)||void 0===_||_.call(r)),null===(I=r.finalize)||void 0===I||I.call(r)}))}):To.y}function Gi(n){return(0,Sr.e)((e,t)=>{let u,r=null,i=!1;r=e.subscribe((0,ur.x)(t,void 0,void 0,c=>{u=(0,Lu.Xf)(n(c,Gi(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,u.subscribe(t))})}function Zh(n,e){return(0,Sr.e)(function U0(n,e,t,r,i){return(u,c)=>{let g=t,_=e,I=0;u.subscribe((0,ur.x)(c,C=>{const S=I++;_=g?n(_,C,S):(g=!0,C),r&&c.next(_)},i&&(()=>{g&&c.next(_),c.complete()})))}}(n,e,arguments.length>=2,!0))}function $u(n){return n<=0?()=>Lr.E:(0,Sr.e)((e,t)=>{let r=[];e.subscribe((0,ur.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Ro(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ti((i,u)=>n(i,u,r)):To.y,$u(1),t?Al(e):Kh(()=>new Pu))}function Pa(n){return(0,Sr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const ut="primary",ds=Symbol("RouteTitle");class sm{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function No(n){return new sm(n)}function Jh(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let u=0;u<r.length;u++){const c=r[u],g=n[u];if(c.startsWith(":"))i[c.substring(1)]=g;else if(c!==g.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Si(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let u=0;u<t.length;u++)if(i=t[u],!Xh(n[i],e[i]))return!1;return!0}function Xh(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,u)=>r[u]===i)}return n===e}function ef(n){return Array.prototype.concat.apply([],n)}function xl(n){return n.length>0?n[n.length-1]:null}function Kn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function yn(n){return(0,h.CqO)(n)?n:(0,h.QGY)(n)?(0,tn.D)(Promise.resolve(n)):Je(n)}const Oo=!1,nf={exact:function Rl(n,e,t){if(!fs(n.segments,e.segments)||!Po(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Rl(n.children[r],e.children[r],t))return!1;return!0},subset:sf},ju={exact:function ka(n,e){return Si(n,e)},subset:function rf(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Xh(n[t],e[t]))},ignored:()=>!0};function Fn(n,e,t){return nf[t.paths](n.root,e.root,t.matrixParams)&&ju[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function sf(n,e,t){return Nl(n,e,e.segments,t)}function Nl(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!fs(i,t)||e.hasChildren()||!Po(i,t,r))}if(n.segments.length===t.length){if(!fs(n.segments,t)||!Po(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!sf(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(fs(n.segments,i)&&Po(n.segments,i,r)&&n.children[ut])&&Nl(n.children[ut],e,u,r)}}function Po(n,e,t){return e.every((r,i)=>ju[t](n[i].parameters,r.parameters))}class hi{constructor(e=new At([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=No(this.queryParams)),this._queryParamMap}toString(){return Hu.serialize(this)}}class At{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Kn(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ko(this)}}class hs{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=No(this.parameters)),this._parameterMap}toString(){return af(this)}}function fs(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Wi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return new Pl},providedIn:"root"}),n})();class Pl{parse(e){const t=new T(e);return new hi(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Fo(e.root,!0)}`,r=function uf(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Ws(t)}=${Ws(i)}`).join("&"):`${Ws(t)}=${Ws(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function kl(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Hu=new Pl;function ko(n){return n.segments.map(e=>af(e)).join("/")}function Fo(n,e){if(!n.hasChildren())return ko(n);if(e){const t=n.children[ut]?Fo(n.children[ut],!1):"",r=[];return Kn(n.children,(i,u)=>{u!==ut&&r.push(`${u}:${Fo(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Ol(n,e){let t=[];return Kn(n.children,(r,i)=>{i===ut&&(t=t.concat(e(r,i)))}),Kn(n.children,(r,i)=>{i!==ut&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===ut?[Fo(n.children[ut],!1)]:[`${i}:${Fo(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ut]?`${ko(n)}/${t[0]}`:`${ko(n)}/(${t.join("//")})`}}function Gs(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ws(n){return Gs(n).replace(/%3B/gi,";")}function ps(n){return Gs(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Lo(n){return decodeURIComponent(n)}function Fl(n){return Lo(n.replace(/\+/g,"%20"))}function af(n){return`${ps(n.path)}${function Ll(n){return Object.keys(n).map(e=>`;${ps(e)}=${ps(n[e])}`).join("")}(n.parameters)}`}const am=/^[^\/()?;=#]+/;function zu(n){const e=n.match(am);return e?e[0]:""}const v=/^[^=?&#]+/,m=/^[^&#]+/;class T{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new At([],{}):new At([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ut]=new At(e,t)),r}parseSegment(){const e=zu(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new h.vHH(4009,Oo);return this.capture(e),new hs(Lo(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=zu(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=zu(this.remaining);i&&(r=i,this.capture(r))}e[Lo(t)]=Lo(r)}parseQueryParam(e){const t=function f(n){const e=n.match(v);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function w(n){const e=n.match(m);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=Fl(t),u=Fl(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(u)}else e[i]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=zu(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new h.vHH(4010,Oo);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=ut);const c=this.parseChildren();t[u]=1===Object.keys(c).length?c[ut]:new At([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new h.vHH(4011,Oo)}}function M(n){return n.segments.length>0?new At([],{[ut]:n}):n}function B(n){const e={};for(const r of Object.keys(n.children)){const u=B(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function Y(n){if(1===n.numberOfChildren&&n.children[ut]){const e=n.children[ut];return new At(n.segments.concat(e.segments),e.children)}return n}(new At(n.segments,e))}function Ie(n){return n instanceof hi}const Fe=!1;function qi(n,e,t,r,i){if(0===t.length)return fi(e.root,e.root,e.root,r,i);const u=function La(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Gu(!0,0,n);let e=0,t=!1;const r=n.reduce((i,u,c)=>{if("object"==typeof u&&null!=u){if(u.outlets){const g={};return Kn(u.outlets,(_,I)=>{g[I]="string"==typeof _?_.split("/"):_}),[...i,{outlets:g}]}if(u.segmentPath)return[...i,u.segmentPath]}return"string"!=typeof u?[...i,u]:0===c?(u.split("/").forEach((g,_)=>{0==_&&"."===g||(0==_&&""===g?t=!0:".."===g?e++:""!=g&&i.push(g))}),i):[...i,u]},[]);return new Gu(t,e,r)}(t);return u.toRoot()?fi(e.root,e.root,new At([],{}),r,i):function c(_){const I=function qu(n,e,t,r){if(n.isAbsolute)return new ms(e.root,!0,0);if(-1===r)return new ms(t,t===e.root,0);return function Vo(n,e,t){let r=n,i=e,u=t;for(;u>i;){if(u-=i,r=r.parent,!r)throw new h.vHH(4005,Fe&&"Invalid number of '../'");i=r.segments.length}return new ms(r,!1,i-u)}(t,r+(gs(n.commands[0])?0:1),n.numberOfDoubleDots)}(u,e,n.snapshot?._urlSegment,_),C=I.processChildren?ys(I.segmentGroup,I.index,u.commands):Uo(I.segmentGroup,I.index,u.commands);return fi(e.root,I.segmentGroup,C,r,i)}(n.snapshot?._lastPathIndex)}function gs(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Fa(n){return"object"==typeof n&&null!=n&&n.outlets}function fi(n,e,t,r,i){let c,u={};r&&Kn(r,(_,I)=>{u[I]=Array.isArray(_)?_.map(C=>`${C}`):`${_}`}),c=n===e?t:Vl(n,e,t);const g=M(B(c));return new hi(g,u,i)}function Vl(n,e,t){const r={};return Kn(n.children,(i,u)=>{r[u]=i===e?t:Vl(i,e,t)}),new At(n.segments,r)}class Gu{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&gs(r[0]))throw new h.vHH(4003,Fe&&"Root segment cannot have matrix parameters");const i=r.find(Fa);if(i&&i!==xl(r))throw new h.vHH(4004,Fe&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ms{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Uo(n,e,t){if(n||(n=new At([],{})),0===n.segments.length&&n.hasChildren())return ys(n,e,t);const r=function um(n,e,t){let r=0,i=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return u;const c=n.segments[i],g=t[r];if(Fa(g))break;const _=`${g}`,I=r<t.length-1?t[r+1]:null;if(i>0&&void 0===_)break;if(_&&I&&"object"==typeof I&&void 0===I.outlets){if(!cm(_,I,c))return u;r+=2}else{if(!cm(_,{},c))return u;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new At(n.segments.slice(0,r.pathIndex),{});return u.children[ut]=new At(n.segments.slice(r.pathIndex),n.children),ys(u,0,i)}return r.match&&0===i.length?new At(n.segments,{}):r.match&&!n.hasChildren()?Ul(n,e,t):r.match?ys(n,0,i):Ul(n,e,t)}function ys(n,e,t){if(0===t.length)return new At(n.segments,{});{const r=function Ku(n){return Fa(n[0])?n[0].outlets:{[ut]:n}}(t),i={};if(!r[ut]&&n.children[ut]&&1===n.numberOfChildren&&0===n.children[ut].segments.length){const u=ys(n.children[ut],e,t);return new At(n.segments,u.children)}return Kn(r,(u,c)=>{"string"==typeof u&&(u=[u]),null!==u&&(i[c]=Uo(n.children[c],e,u))}),Kn(n.children,(u,c)=>{void 0===r[c]&&(i[c]=u)}),new At(n.segments,i)}}function Ul(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const u=t[i];if(Fa(u)){const _=Bl(u.outlets);return new At(r,_)}if(0===i&&gs(t[0])){r.push(new hs(n.segments[e].path,B0(t[0]))),i++;continue}const c=Fa(u)?u.outlets[ut]:`${u}`,g=i<t.length-1?t[i+1]:null;c&&g&&gs(g)?(r.push(new hs(c,B0(g))),i+=2):(r.push(new hs(c,{})),i++)}return new At(r,{})}function Bl(n){const e={};return Kn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Ul(new At([],{}),0,t))}),e}function B0(n){const e={};return Kn(n,(t,r)=>e[r]=`${t}`),e}function cm(n,e,t){return n==t.path&&Si(e,t.parameters)}const $l="imperative";class _s{constructor(e,t){this.id=e,this.url=t}}class lm extends _s{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Bo extends _s{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class jl extends _s{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Va extends _s{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class Hl extends _s{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Zu extends _s{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class MC extends _s{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xC extends _s{constructor(e,t,r,i,u){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class tR extends _s{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class RC extends _s{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dm{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class NC{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class $0{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cf{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hm{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class j0{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fm{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let OC=(()=>{class n{createUrlTree(t,r,i,u,c,g){return qi(t||r.root,i,u,c,g)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),kC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(e){return OC.\u0275fac(e)},providedIn:"root"}),n})();class G0{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=pm(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=pm(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=vs(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return vs(e,this._root).map(t=>t.value)}}function pm(n,e){if(n===e.value)return e;for(const t of e.children){const r=pm(n,t);if(r)return r}return null}function vs(n,e){if(n===e.value)return[e];for(const t of e.children){const r=vs(n,t);if(r.length)return r.unshift(e),r}return[]}class pi{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Yu(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class FC extends G0{constructor(e,t){super(e),this.snapshot=t,gm(this,e)}toString(){return this.snapshot.toString()}}function LC(n,e){const t=function nR(n,e){const c=new lf([],{},{},"",{},ut,e,null,n.root,-1,{});return new q0("",new pi(c,[]))}(n,e),r=new di([new hs("",{})]),i=new di({}),u=new di({}),c=new di({}),g=new di(""),_=new Ua(r,i,c,g,u,ut,e,t.root);return _.snapshot=t.root,new FC(new pi(_,[]),t)}class Ua{constructor(e,t,r,i,u,c,g,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=c,this.component=g,this.title=this.data?.pipe((0,vt.U)(I=>I[ds]))??Je(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,vt.U)(e=>No(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,vt.U)(e=>No(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function VC(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],u=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(u.component)break;r--}}return function W0(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class lf{get title(){return this.data?.[ds]}constructor(e,t,r,i,u,c,g,_,I,C,S){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=c,this.component=g,this.routeConfig=_,this._urlSegment=I,this._lastPathIndex=C,this._resolve=S}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=No(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=No(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class q0 extends G0{constructor(e,t){super(t),this.url=e,gm(this,t)}toString(){return K0(this._root)}}function gm(n,e){e.value._routerState=n,e.children.forEach(t=>gm(n,t))}function K0(n){const e=n.children.length>0?` { ${n.children.map(K0).join(", ")} } `:"";return`${n.value}${e}`}function zl(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Si(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Si(e.params,t.params)||n.params.next(t.params),function Ml(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Si(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Si(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Ki(n,e){const t=Si(n.params,e.params)&&function om(n,e){return fs(n,e)&&n.every((t,r)=>Si(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Ki(n.parent,e.parent))}function Qu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Z0(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Qu(n,r,i);return Qu(n,r)})}(n,e,t);return new pi(r,i)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const c=u.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(g=>Qu(n,g)),c}}const r=function Y0(n){return new Ua(new di(n.url),new di(n.params),new di(n.queryParams),new di(n.fragment),new di(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(u=>Qu(n,u));return new pi(r,i)}}const Q0="ngNavigationCancelingError";function UC(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Ie(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=BC(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function BC(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Q0]=!0,r.cancellationCode=e,t&&(r.url=t),r}function df(n){return hf(n)&&Ie(n.url)}function hf(n){return n&&n[Q0]}class rR{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ff,this.attachRef=null}}let ff=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new rR,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Wl=!1;let mm=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ut,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.parentContexts=(0,h.f3M)(ff),this.location=(0,h.f3M)(h.s_b),this.changeDetector=(0,h.f3M)(h.sBO),this.environmentInjector=(0,h.f3M)(h.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new h.vHH(4012,Wl);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new h.vHH(4012,Wl);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new h.vHH(4012,Wl);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new h.vHH(4013,Wl);this._activatedRoute=t;const i=this.location,c=t.snapshot.component,g=this.parentContexts.getOrCreateContext(this.name).children,_=new $C(t,g,i.injector);if(r&&function jC(n){return!!n.resolveComponentFactory}(r)){const I=r.resolveComponentFactory(c);this.activated=i.createComponent(I,i.length,_)}else this.activated=i.createComponent(c,{index:i.length,injector:_,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[h.TTD]}),n})();class $C{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Ua?this.route:e===ff?this.childContexts:this.parent.get(e,t)}}let ym=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[h.jDz],decls:1,vars:0,template:function(t,r){1&t&&h._UZ(0,"router-outlet")},dependencies:[mm],encapsulation:2}),n})();function _m(n,e){return n.providers&&!n._injector&&(n._injector=(0,h.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function pf(n){const e=n.children&&n.children.map(pf),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ut&&(t.component=ym),t}function Ai(n){return n.outlet||ut}function ew(n,e){const t=n.filter(r=>Ai(r)===e);return t.push(...n.filter(r=>Ai(r)!==e)),t}function ql(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class tw{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),zl(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Yu(t);e.children.forEach(u=>{const c=u.value.outlet;this.deactivateRoutes(u,i[c],r),delete i[c]}),Kn(i,(u,c)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(i===u)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=Yu(e);for(const c of Object.keys(u))this.deactivateRouteAndItsChildren(u[c],i);if(r&&r.outlet){const c=r.outlet.detach(),g=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:g})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=Yu(e);for(const c of Object.keys(u))this.deactivateRouteAndItsChildren(u[c],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Yu(t);e.children.forEach(u=>{this.activateRoutes(u,i[u.value.outlet],r),this.forwardEvent(new j0(u.value.snapshot))}),e.children.length&&this.forwardEvent(new cf(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(zl(i),i===u)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const g=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(g.contexts),c.attachRef=g.componentRef,c.route=g.route.value,c.outlet&&c.outlet.attach(g.componentRef,g.route.value),zl(g.route.value),this.activateChildRoutes(e,null,c.children)}else{const g=ql(i.snapshot),_=g?.get(h._Vd)??null;c.attachRef=null,c.route=i,c.resolver=_,c.injector=g,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class WC{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class wm{constructor(e,t){this.component=e,this.route=t}}function Kl(n,e,t){const r=n._root;return Ju(r,e?e._root:null,t,[r.value])}function Ba(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,h.Z0I)(n)?e.get(n):n:r}function Ju(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=Yu(e);return n.children.forEach(c=>{(function nw(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,c=e?e.value:null,g=t?t.getContext(n.value.outlet):null;if(c&&u.routeConfig===c.routeConfig){const _=function oR(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!fs(n.url,e.url);case"pathParamsOrQueryParamsChange":return!fs(n.url,e.url)||!Si(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ki(n,e)||!Si(n.queryParams,e.queryParams);default:return!Ki(n,e)}}(c,u,u.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new WC(r)):(u.data=c.data,u._resolvedData=c._resolvedData),Ju(n,e,u.component?g?g.children:null:t,r,i),_&&g&&g.outlet&&g.outlet.isActivated&&i.canDeactivateChecks.push(new wm(g.outlet.component,c))}else c&&Zl(e,g,i),i.canActivateChecks.push(new WC(r)),Ju(n,null,u.component?g?g.children:null:t,r,i)})(c,u[c.value.outlet],t,r.concat([c.value]),i),delete u[c.value.outlet]}),Kn(u,(c,g)=>Zl(c,t.getContext(g),i)),i}function Zl(n,e,t){const r=Yu(n),i=n.value;Kn(r,(u,c)=>{Zl(u,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new wm(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Xu(n){return"function"==typeof n}function qs(n){return n instanceof Pu||"EmptyError"===n?.name}const gf=Symbol("INITIAL_VALUE");function $o(){return mn(n=>Fu(n.map(e=>e.pipe(zs(1),function Sl(...n){const e=(0,ci.yG)(n);return(0,Sr.e)((t,r)=>{(e?Na(n,t,e):Na(n,t)).subscribe(r)})}(gf)))).pipe((0,vt.U)(e=>{for(const t of e)if(!0!==t){if(t===gf)return gf;if(!1===t||t instanceof hi)return t}return!0}),Ti(e=>e!==gf),zs(1)))}function Sm(n){return(0,Tl.z)(qn(e=>{if(Ie(e))throw UC(0,e)}),(0,vt.U)(e=>!0===e))}const Am={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ow(n,e,t,r,i){const u=Mm(n,e,t);return u.matched?function ec(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?Je(i.map(c=>{const g=Ba(c,n);return yn(function Cm(n){return n&&Xu(n.canMatch)}(g)?g.canMatch(e,t):n.runInContext(()=>g(e,t)))})).pipe($o(),Sm()):Je(!0)}(r=_m(e,r),e,t).pipe((0,vt.U)(c=>!0===c?u:{...Am})):Je(u)}function Mm(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Am}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Jh)(t,n,e);if(!i)return{...Am};const u={};Kn(i.posParams,(g,_)=>{u[_]=g.path});const c=i.consumed.length>0?{...u,...i.consumed[i.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function tc(n,e,t,r){if(t.length>0&&function XC(n,e,t){return t.some(r=>xm(n,e,r)&&Ai(r)!==ut)}(n,t,r)){const u=new At(e,function aw(n,e,t,r){const i={};i[ut]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&Ai(u)!==ut){const c=new At([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[Ai(u)]=c}return i}(n,e,r,new At(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function uw(n,e,t){return t.some(r=>xm(n,e,r))}(n,t,r)){const u=new At(n.segments,function JC(n,e,t,r,i){const u={};for(const c of r)if(xm(n,t,c)&&!i[Ai(c)]){const g=new At([],{});g._sourceSegment=n,g._segmentIndexShift=e.length,u[Ai(c)]=g}return{...i,...u}}(n,e,t,r,n.children));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const i=new At(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function xm(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function cw(n,e,t,r){return!!(Ai(n)===r||r!==ut&&xm(e,t,n))&&("**"===n.path||Mm(e,n,t).matched)}function nc(n,e,t){return 0===e.length&&!n.children[t]}const _f=!1;class Ks{constructor(e){this.segmentGroup=e||null}}class rc{constructor(e){this.urlTree=e}}function Yl(n){return Oa(new Ks(n))}function Rm(n){return Oa(new rc(n))}class lw{constructor(e,t,r,i,u){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=u,this.allowRedirects=!0}apply(){const e=tc(this.urlTree.root,[],[],this.config).segmentGroup,t=new At(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,ut).pipe((0,vt.U)(u=>this.createUrlTree(B(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Gi(u=>{if(u instanceof rc)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof Ks?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,ut).pipe((0,vt.U)(i=>this.createUrlTree(B(i),e.queryParams,e.fragment))).pipe(Gi(i=>{throw i instanceof Ks?this.noMatchError(i):i}))}noMatchError(e){return new h.vHH(4002,_f)}createUrlTree(e,t,r){const i=M(e);return new hi(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,vt.U)(u=>new At([],u))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const u of Object.keys(r.children))"primary"===u?i.unshift(u):i.push(u);return(0,tn.D)(i).pipe(xo(u=>{const c=r.children[u],g=ew(t,u);return this.expandSegmentGroup(e,g,c,u).pipe((0,vt.U)(_=>({segment:_,outlet:u})))}),Zh((u,c)=>(u[c.outlet]=c.segment,u),{}),Ro())}expandSegment(e,t,r,i,u,c){return(0,tn.D)(r).pipe(xo(g=>this.expandSegmentAgainstRoute(e,t,r,g,i,u,c).pipe(Gi(I=>{if(I instanceof Ks)return Je(null);throw I}))),zi(g=>!!g),Gi((g,_)=>{if(qs(g))return nc(t,i,u)?Je(new At([],{})):Yl(t);throw g}))}expandSegmentAgainstRoute(e,t,r,i,u,c,g){return cw(i,t,u,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,u,c):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c):Yl(t):Yl(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Rm(u):this.lineralizeSegments(r,u).pipe((0,xn.z)(c=>{const g=new At(c,{});return this.expandSegment(e,g,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c){const{matched:g,consumedSegments:_,remainingSegments:I,positionalParamSegments:C}=Mm(t,i,u);if(!g)return Yl(t);const S=this.applyRedirectCommands(_,i.redirectTo,C);return i.redirectTo.startsWith("/")?Rm(S):this.lineralizeSegments(i,S).pipe((0,xn.z)(k=>this.expandSegment(e,t,r,k.concat(I),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,u){return"**"===r.path?(e=_m(r,e),r.loadChildren?(r._loadedRoutes?Je({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,vt.U)(g=>(r._loadedRoutes=g.routes,r._loadedInjector=g.injector,new At(i,{})))):Je(new At(i,{}))):ow(t,r,i,e).pipe(mn(({matched:c,consumedSegments:g,remainingSegments:_})=>c?this.getChildConfig(e=r._injector??e,r,i).pipe((0,xn.z)(C=>{const S=C.injector??e,k=C.routes,{segmentGroup:$,slicedSegments:se}=tc(t,g,_,k),ve=new At($.segments,$.children);if(0===se.length&&ve.hasChildren())return this.expandChildren(S,k,ve).pipe((0,vt.U)(lt=>new At(g,lt)));if(0===k.length&&0===se.length)return Je(new At(g,{}));const me=Ai(r)===u;return this.expandSegment(S,ve,k,se,me?ut:u,!0).pipe((0,vt.U)(et=>new At(g.concat(et.segments),et.children)))})):Yl(t)))}getChildConfig(e,t,r){return t.children?Je({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Je({routes:t._loadedRoutes,injector:t._loadedInjector}):function QC(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?Je(!0):Je(i.map(c=>{const g=Ba(c,n);return yn(function Im(n){return n&&Xu(n.canLoad)}(g)?g.canLoad(e,t):n.runInContext(()=>g(e,t)))})).pipe($o(),Sm())}(e,t,r).pipe((0,xn.z)(i=>i?this.configLoader.loadChildren(e,t).pipe(qn(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function tb(n){return Oa(BC(_f,3))}())):Je({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Je(r);if(i.numberOfChildren>1||!i.children[ut])return e.redirectTo,Oa(new h.vHH(4e3,_f));i=i.children[ut]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const u=this.createSegmentGroup(e,t.root,r,i);return new hi(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Kn(e,(i,u)=>{if("string"==typeof i&&i.startsWith(":")){const g=i.substring(1);r[u]=t[g]}else r[u]=i}),r}createSegmentGroup(e,t,r,i){const u=this.createSegments(e,t.segments,r,i);let c={};return Kn(t.children,(g,_)=>{c[_]=this.createSegmentGroup(e,g,r,i)}),new At(u,c)}createSegments(e,t,r,i){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,i):this.findOrReturn(u,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new h.vHH(4001,_f);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class Nm{}class Ql{constructor(e,t,r,i,u,c,g){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=u,this.paramsInheritanceStrategy=c,this.urlSerializer=g}recognize(){const e=tc(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ut).pipe((0,vt.U)(t=>{if(null===t)return null;const r=new lf([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ut,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new pi(r,t),u=new q0(this.url,i);return this.inheritParamsAndData(u._root),u}))}inheritParamsAndData(e){const t=e.value,r=VC(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,tn.D)(Object.keys(r.children)).pipe(xo(i=>{const u=r.children[i],c=ew(t,i);return this.processSegmentGroup(e,c,u,i)}),Zh((i,u)=>i&&u?(i.push(...u),i):null),function Yh(n,e=!1){return(0,Sr.e)((t,r)=>{let i=0;t.subscribe((0,ur.x)(r,u=>{const c=n(u,i++);(c||e)&&r.next(u),!c&&r.complete()}))})}(i=>null!==i),Al(null),Ro(),(0,vt.U)(i=>{if(null===i)return null;const u=hw(i);return function ib(n){n.sort((e,t)=>e.value.outlet===ut?-1:t.value.outlet===ut?1:e.value.outlet.localeCompare(t.value.outlet))}(u),u}))}processSegment(e,t,r,i,u){return(0,tn.D)(t).pipe(xo(c=>this.processSegmentAgainstRoute(c._injector??e,c,r,i,u)),zi(c=>!!c),Gi(c=>{if(qs(c))return nc(r,i,u)?Je([]):Je(null);throw c}))}processSegmentAgainstRoute(e,t,r,i,u){if(t.redirectTo||!cw(t,r,i,u))return Je(null);let c;if("**"===t.path){const g=i.length>0?xl(i).parameters:{},_=pw(r)+i.length;c=Je({snapshot:new lf(i,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ws(t),Ai(t),t.component??t._loadedComponent??null,t,fw(r),_,gw(t)),consumedSegments:[],remainingSegments:[]})}else c=ow(r,t,i,e).pipe((0,vt.U)(({matched:g,consumedSegments:_,remainingSegments:I,parameters:C})=>{if(!g)return null;const S=pw(r)+_.length;return{snapshot:new lf(_,C,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ws(t),Ai(t),t.component??t._loadedComponent??null,t,fw(r),S,gw(t)),consumedSegments:_,remainingSegments:I}}));return c.pipe(mn(g=>{if(null===g)return Je(null);const{snapshot:_,consumedSegments:I,remainingSegments:C}=g;e=t._injector??e;const S=t._loadedInjector??e,k=function sb(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:$,slicedSegments:se}=tc(r,I,C,k.filter(me=>void 0===me.redirectTo));if(0===se.length&&$.hasChildren())return this.processChildren(S,k,$).pipe((0,vt.U)(me=>null===me?null:[new pi(_,me)]));if(0===k.length&&0===se.length)return Je([new pi(_,[])]);const ve=Ai(t)===u;return this.processSegment(S,k,$,se,ve?ut:u).pipe((0,vt.U)(me=>null===me?null:[new pi(_,me)]))}))}}function ob(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function hw(n){const e=[],t=new Set;for(const r of n){if(!ob(r)){e.push(r);continue}const i=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=hw(r.children);e.push(new pi(r.value,i))}return e.filter(r=>!t.has(r))}function fw(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function pw(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function ws(n){return n.data||{}}function gw(n){return n.resolve||{}}function Pm(n){return"string"==typeof n.title||null===n.title}function km(n){return mn(e=>{const t=n(e);return t?(0,tn.D)(t).pipe((0,vt.U)(()=>e)):Je(e)})}const ic=new h.OlP("ROUTES");let Lm=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,h.f3M)(h.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Je(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=yn(t.loadComponent()).pipe((0,vt.U)(_w),qn(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),Pa(()=>{this.componentLoaders.delete(t)})),i=new im(r,()=>new li.x).pipe(Mo());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Je({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,vt.U)(g=>{this.onLoadEndListener&&this.onLoadEndListener(r);let _,I,C=!1;Array.isArray(g)?I=g:(_=g.create(t).injector,I=ef(_.get(ic,[],h.XFs.Self|h.XFs.Optional)));return{routes:I.map(pf),injector:_}}),Pa(()=>{this.childrenLoaders.delete(r)})),c=new im(u,()=>new li.x).pipe(Mo());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(t){return yn(t()).pipe((0,vt.U)(_w),(0,xn.z)(r=>r instanceof h.YKP||Array.isArray(r)?Je(r):(0,tn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _w(n){return function Zi(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let wf=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new li.x,this.configLoader=(0,h.f3M)(Lm),this.environmentInjector=(0,h.f3M)(h.lqb),this.urlSerializer=(0,h.f3M)(Wi),this.rootContexts=(0,h.f3M)(ff),this.navigationId=0,this.afterPreactivation=()=>Je(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new NC(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new dm(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new di({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:$l,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ti(r=>0!==r.id),(0,vt.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),mn(r=>{let i=!1,u=!1;return Je(r).pipe(qn(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),mn(c=>{const g=t.browserUrlTree.toString(),_=!t.navigated||c.extractedUrl.toString()!==g||g!==t.currentUrlTree.toString();if(!_&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const C="";return this.events.next(new Va(c.id,t.serializeUrl(r.rawUrl),C,0)),t.rawUrlTree=c.rawUrl,c.resolve(null),Lr.E}if(t.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return vw(c.source)&&(t.browserUrlTree=c.extractedUrl),Je(c).pipe(mn(C=>{const S=this.transitions?.getValue();return this.events.next(new lm(C.id,this.urlSerializer.serialize(C.extractedUrl),C.source,C.restoredState)),S!==this.transitions?.getValue()?Lr.E:Promise.resolve(C)}),function dw(n,e,t,r){return mn(i=>function nb(n,e,t,r,i){return new lw(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,vt.U)(u=>({...i,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),qn(C=>{this.currentNavigation={...this.currentNavigation,finalUrl:C.urlAfterRedirects},r.urlAfterRedirects=C.urlAfterRedirects}),function ub(n,e,t,r,i){return(0,xn.z)(u=>function Om(n,e,t,r,i,u,c="emptyOnly"){return new Ql(n,e,t,r,i,c,u).recognize().pipe(mn(g=>null===g?function rb(n){return new Qr.y(e=>e.error(n))}(new Nm):Je(g)))}(n,e,t,u.urlAfterRedirects,r.serialize(u.urlAfterRedirects),r,i).pipe((0,vt.U)(c=>({...u,targetSnapshot:c}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),qn(C=>{if(r.targetSnapshot=C.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!C.extras.skipLocationChange){const k=t.urlHandlingStrategy.merge(C.urlAfterRedirects,C.rawUrl);t.setBrowserUrl(k,C)}t.browserUrlTree=C.urlAfterRedirects}const S=new Zu(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects),C.targetSnapshot);this.events.next(S)}));if(_&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:C,extractedUrl:S,source:k,restoredState:$,extras:se}=c,ve=new lm(C,this.urlSerializer.serialize(S),k,$);this.events.next(ve);const me=LC(S,this.rootComponentType).snapshot;return Je(r={...c,targetSnapshot:me,urlAfterRedirects:S,extras:{...se,skipLocationChange:!1,replaceUrl:!1}})}{const C="";return this.events.next(new Va(c.id,t.serializeUrl(r.extractedUrl),C,1)),t.rawUrlTree=c.rawUrl,c.resolve(null),Lr.E}}),qn(c=>{const g=new MC(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(g)}),(0,vt.U)(c=>r={...c,guards:Kl(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),function mf(n,e){return(0,xn.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:u,canDeactivateChecks:c}}=t;return 0===c.length&&0===u.length?Je({...t,guardsResult:!0}):function ZC(n,e,t,r){return(0,tn.D)(n).pipe((0,xn.z)(i=>function YC(n,e,t,r,i){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?Je(u.map(g=>{const _=ql(e)??i,I=Ba(g,_);return yn(function qC(n){return n&&Xu(n.canDeactivate)}(I)?I.canDeactivate(n,e,t,r):_.runInContext(()=>I(n,e,t,r))).pipe(zi())})).pipe($o()):Je(!0)}(i.component,i.route,t,e,r)),zi(i=>!0!==i,!0))}(c,r,i,n).pipe((0,xn.z)(g=>g&&function rw(n){return"boolean"==typeof n}(g)?function bm(n,e,t,r){return(0,tn.D)(e).pipe(xo(i=>Na(function $a(n,e){return null!==n&&e&&e(new $0(n)),Je(!0)}(i.route.parent,r),function yf(n,e){return null!==n&&e&&e(new hm(n)),Je(!0)}(i.route,r),function Tm(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(c=>function Em(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>rm(()=>Je(c.guards.map(_=>{const I=ql(c.node)??t,C=Ba(_,I);return yn(function Dm(n){return n&&Xu(n.canActivateChild)}(C)?C.canActivateChild(r,n):I.runInContext(()=>C(r,n))).pipe(zi())})).pipe($o())));return Je(u).pipe($o())}(n,i.path,t),function sw(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Je(!0);const i=r.map(u=>rm(()=>{const c=ql(e)??t,g=Ba(u,c);return yn(function aR(n){return n&&Xu(n.canActivate)}(g)?g.canActivate(e,n):c.runInContext(()=>g(e,n))).pipe(zi())}));return Je(i).pipe($o())}(n,i.route,t))),zi(i=>!0!==i,!0))}(r,u,n,e):Je(g)),(0,vt.U)(g=>({...t,guardsResult:g})))})}(this.environmentInjector,c=>this.events.next(c)),qn(c=>{if(r.guardsResult=c.guardsResult,Ie(c.guardsResult))throw UC(0,c.guardsResult);const g=new xC(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(g)}),Ti(c=>!!c.guardsResult||(t.restoreHistory(c),this.cancelNavigationTransition(c,"",3),!1)),km(c=>{if(c.guards.canActivateChecks.length)return Je(c).pipe(qn(g=>{const _=new tR(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(_)}),mn(g=>{let _=!1;return Je(g).pipe(function uR(n,e){return(0,xn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Je(t);let u=0;return(0,tn.D)(i).pipe(xo(c=>function cR(n,e,t,r){const i=n.routeConfig,u=n._resolve;return void 0!==i?.title&&!Pm(i)&&(u[ds]=i.title),function mw(n,e,t,r){const i=function lR(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return Je({});const u={};return(0,tn.D)(i).pipe((0,xn.z)(c=>function yw(n,e,t,r){const i=ql(e)??r,u=Ba(n,i);return yn(u.resolve?u.resolve(e,t):i.runInContext(()=>u(e,t)))}(n[c],e,t,r).pipe(zi(),qn(g=>{u[c]=g}))),$u(1),function Qh(n){return(0,vt.U)(()=>n)}(u),Gi(c=>qs(c)?Lr.E:Oa(c)))}(u,n,e,r).pipe((0,vt.U)(c=>(n._resolvedData=c,n.data=VC(n,t).resolve,i&&Pm(i)&&(n.data[ds]=i.title),null)))}(c.route,r,n,e)),qn(()=>u++),$u(1),(0,xn.z)(c=>u===i.length?Je(t):Lr.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),qn({next:()=>_=!0,complete:()=>{_||(t.restoreHistory(g),this.cancelNavigationTransition(g,"",2))}}))}),qn(g=>{const _=new RC(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(_)}))}),km(c=>{const g=_=>{const I=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&I.push(this.configLoader.loadComponent(_.routeConfig).pipe(qn(C=>{_.component=C}),(0,vt.U)(()=>{})));for(const C of _.children)I.push(...g(C));return I};return Fu(g(c.targetSnapshot.root)).pipe(Al(),zs(1))}),km(()=>this.afterPreactivation()),(0,vt.U)(c=>{const g=function Gl(n,e,t){const r=Qu(n,e._root,t?t._root:void 0);return new FC(r,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return r={...c,targetRouterState:g}}),qn(c=>{t.currentUrlTree=c.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),t.routerState=c.targetRouterState,"deferred"===t.urlUpdateStrategy&&(c.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,c),t.browserUrlTree=c.urlAfterRedirects)}),((n,e,t)=>(0,vt.U)(r=>(new tw(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c)),zs(1),qn({next:c=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Bo(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{i=!0}}),Pa(()=>{i||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Gi(c=>{if(u=!0,hf(c)){df(c)||(t.navigated=!0,t.restoreHistory(r,!0));const g=new jl(r.id,this.urlSerializer.serialize(r.extractedUrl),c.message,c.cancellationCode);if(this.events.next(g),df(c)){const _=t.urlHandlingStrategy.merge(c.url,t.rawUrlTree),I={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||vw(r.source)};t.scheduleNavigation(_,$l,null,I,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const g=new Hl(r.id,this.urlSerializer.serialize(r.extractedUrl),c,r.targetSnapshot??void 0);this.events.next(g);try{r.resolve(t.errorHandler(c))}catch(_){r.reject(_)}}return Lr.E}))}))}cancelNavigationTransition(t,r,i){const u=new jl(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(u),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function vw(n){return n!==$l}let ww=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(u=>u.outlet===ut);return r}getResolvedTitleForRoute(t){return t.data[ds]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(cb)},providedIn:"root"}),n})(),cb=(()=>{class n extends ww{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Zg))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ew=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(db)},providedIn:"root"}),n})();class lb{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let db=(()=>{class n extends lb{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _t=new h.OlP("",{providedIn:"root",factory:()=>({})});let Iw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(Dw)},providedIn:"root"}),n})(),Dw=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fb(n){throw n}function pb(n,e,t){return e.parse("/")}const Cw={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},gb={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Zn=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,h.f3M)(h.c2e),this.isNgZoneEnabled=!1,this.options=(0,h.f3M)(_t,{optional:!0})||{},this.errorHandler=this.options.errorHandler||fb,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||pb,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,h.f3M)(Iw),this.routeReuseStrategy=(0,h.f3M)(Ew),this.urlCreationStrategy=(0,h.f3M)(kC),this.titleStrategy=(0,h.f3M)(ww),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=ef((0,h.f3M)(ic,{optional:!0})??[]),this.navigationTransitions=(0,h.f3M)(wf),this.urlSerializer=(0,h.f3M)(Wi),this.location=(0,h.f3M)(Pe),this.isNgZoneEnabled=(0,h.f3M)(h.R0b)instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new hi,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=LC(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),$l,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const u={replaceUrl:!0},c=i?.navigationId?i:null;if(i){const _={...i};delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(u.state=_)}const g=this.parseUrl(t);this.scheduleNavigation(g,r,c,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(pf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:u,fragment:c,queryParamsHandling:g,preserveFragment:_}=r,I=_?this.currentUrlTree.fragment:c;let C=null;switch(g){case"merge":C={...this.currentUrlTree.queryParams,...u};break;case"preserve":C=this.currentUrlTree.queryParams;break;default:C=u||null}return null!==C&&(C=this.removeEmptyProps(C)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,C,I??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Ie(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(u,$l,null,r)}navigate(t,r={skipLocationChange:!1}){return function mb(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new h.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...Cw}:!1===r?{...gb}:r,Ie(t))return Fn(this.currentUrlTree,t,i);const u=this.parseUrl(t);return Fn(this.currentUrlTree,u,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const u=t[i];return null!=u&&(r[i]=u),r},{})}scheduleNavigation(t,r,i,u,c){if(this.disposed)return Promise.resolve(!1);let g,_,I,C;return c?(g=c.resolve,_=c.reject,I=c.promise):I=new Promise((S,k)=>{g=S,_=k}),C="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:C,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:u,resolve:g,reject:_,promise:I,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),I.catch(S=>Promise.reject(S))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const c={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",c)}else{const u={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",u)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-(this.browserPageId??this.currentPageId);0!==u?this.location.historyGo(u):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===u&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ed=(()=>{class n{constructor(t,r,i,u,c,g){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=u,this.el=c,this.locationStrategy=g,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new li.x;const _=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===_||"area"===_,this.isAnchorElement?this.subscription=t.events.subscribe(I=>{I instanceof Bo&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,h.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,h.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,h.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,u,c){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||u||c||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,h.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,u=this.el.nativeElement;null!==r?i.setAttribute(u,t,r):i.removeAttribute(u,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Zn),h.Y36(Ua),h.$8M("tabindex"),h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(Ze))},n.\u0275dir=h.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&h.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&h.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[h.TTD]}),n})(),yb=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,i,u,c){this.router=t,this.element=r,this.renderer=i,this.cdr=u,this.link=c,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new h.vpe,this.routerEventsSubscription=t.events.subscribe(g=>{g instanceof Bo&&this.update()})}ngAfterContentInit(){Je(this.links.changes,Je(null)).pipe((0,Ao.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,tn.D)(t).pipe((0,Ao.J)()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function bw(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Zn),h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(h.sBO),h.Y36(ed,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,i){if(1&t&&h.Suo(i,ed,5),2&t){let u;h.iGM(u=h.CRH())&&(r.links=u)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[h.TTD]}),n})();class Vm{}let Um=(()=>{class n{constructor(t,r,i,u,c){this.router=t,this.injector=i,this.preloadingStrategy=u,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(Ti(t=>t instanceof Bo),xo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,h.MMx)(u.providers,t,`Route: ${u.path}`));const c=u._injector??t,g=u._loadedInjector??c;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&i.push(this.preloadConfig(c,u)),(u.children||u._loadedRoutes)&&i.push(this.processRoutes(g,u.children??u._loadedRoutes))}return(0,tn.D)(i).pipe((0,Ao.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):Je(null);const u=i.pipe((0,xn.z)(c=>null===c?Je(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(r.loadComponent&&!r._loadedComponent){const c=this.loader.loadComponent(r);return(0,tn.D)([u,c]).pipe((0,Ao.J)())}return u})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Zn),h.LFG(h.Sil),h.LFG(h.lqb),h.LFG(Vm),h.LFG(Lm))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const td=new h.OlP("");let Tw=(()=>{class n{constructor(t,r,i,u,c={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=u,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof lm?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Bo&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof fm&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new fm(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){h.$Z()},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();var Mi=(()=>((Mi=Mi||{})[Mi.COMPLETE=0]="COMPLETE",Mi[Mi.FAILED=1]="FAILED",Mi[Mi.REDIRECTING=2]="REDIRECTING",Mi))();const nd=!1;function ja(n,e){return{\u0275kind:n,\u0275providers:e}}const $m=new h.OlP("",{providedIn:"root",factory:()=>!1});function rd(){const n=(0,h.f3M)(h.zs3);return e=>{const t=n.get(h.z2F);if(e!==t.components[0])return;const r=n.get(Zn),i=n.get(Sw);1===n.get(If)&&r.initialNavigation(),n.get(Aw,null,h.XFs.Optional)?.setUpPreloading(),n.get(td,null,h.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const Sw=new h.OlP(nd?"bootstrap done indicator":"",{factory:()=>new li.x}),If=new h.OlP(nd?"initial navigation":"",{providedIn:"root",factory:()=>1});function Eb(){let n=[];return n=nd?[{provide:h.Xts,multi:!0,useFactory:()=>{const e=(0,h.f3M)(Zn);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function H0(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],ja(1,n)}const Aw=new h.OlP(nd?"router preloader":"");function Ib(n){return ja(0,[{provide:Aw,useExisting:Um},{provide:Vm,useExisting:n}])}const ac=!1,bb=new h.OlP(ac?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),jm=[Pe,{provide:Wi,useClass:Pl},Zn,ff,{provide:Ua,useFactory:function Bm(n){return n.routerState.root},deps:[Zn]},Lm,ac?{provide:$m,useValue:!0}:[]];function Tb(){return new h.PXZ("Router",Zn)}let Sb=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[jm,ac&&r?.enableTracing?Eb().\u0275providers:[],{provide:ic,multi:!0,useValue:t},{provide:bb,useFactory:Rw,deps:[[Zn,new h.FiY,new h.tp0]]},{provide:_t,useValue:r||{}},r?.useHash?{provide:Ze,useClass:_e}:{provide:Ze,useClass:Ae},{provide:td,useFactory:()=>{const n=(0,h.f3M)(mh),e=(0,h.f3M)(h.R0b),t=(0,h.f3M)(_t),r=(0,h.f3M)(wf),i=(0,h.f3M)(Wi);return t.scrollOffset&&n.setOffset(t.scrollOffset),new Tw(i,r,n,e,t)}},r?.preloadingStrategy?Ib(r.preloadingStrategy).\u0275providers:[],{provide:h.PXZ,multi:!0,useFactory:Tb},r?.initialNavigation?Mb(r):[],[{provide:Nw,useFactory:rd},{provide:h.tb,multi:!0,useExisting:Nw}]]}}static forChild(t){return{ngModule:n,providers:[{provide:ic,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(bb,8))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[ym]}),n})();function Rw(n){if(ac&&n)throw new h.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Mb(n){return["disabled"===n.initialNavigation?ja(3,[{provide:h.ip1,multi:!0,useFactory:()=>{const e=(0,h.f3M)(Zn);return()=>{e.setUpLocationChangeListener()}}},{provide:If,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?ja(2,[{provide:If,useValue:0},{provide:h.ip1,multi:!0,deps:[h.zs3],useFactory:e=>{const t=e.get(Re,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Zn),u=e.get(Sw);(function hR(n,e){n.events.pipe(Ti(t=>t instanceof Bo||t instanceof jl||t instanceof Hl||t instanceof Va),(0,vt.U)(t=>t instanceof Bo||t instanceof Va?Mi.COMPLETE:t instanceof jl&&(0===t.code||1===t.code)?Mi.REDIRECTING:Mi.FAILED),Ti(t=>t!==Mi.REDIRECTING),zs(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(wf).afterPreactivation=()=>(r(!0),u.closed?Je(void 0):u),i.initialNavigation()}))}}]).\u0275providers:[]]}const Nw=new h.OlP(ac?"Router Initializer":"");var te=N(5861),Mt=N(6881);(0,Mt.registerVersion)("firebase","9.23.0","app");var xt=N(2090),xi=N(4859),Ri=N(1877);const zm=(n,e)=>e.some(t=>n instanceof t);let Gm,bf;const Wm=new WeakMap,qm=new WeakMap,Km=new WeakMap,Tf=new WeakMap,Zm=new WeakMap;let Ym={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return qm.get(n);if("objectStoreNames"===e)return n.objectStoreNames||Km.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Zs(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function Qm(n){return"function"==typeof n?function mR(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Rb(){return bf||(bf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(Jm(this),e),Zs(Wm.get(this))}:function(...e){return Zs(n.apply(Jm(this),e))}:function(e,...t){const r=n.call(Jm(this),e,...t);return Km.set(r,e.sort?e.sort():[e]),Zs(r)}}(n):(n instanceof IDBTransaction&&function gi(n){if(qm.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",c),n.removeEventListener("abort",c)},u=()=>{t(),i()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",u),n.addEventListener("error",c),n.addEventListener("abort",c)});qm.set(n,e)}(n),zm(n,function xb(){return Gm||(Gm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,Ym):n)}function Zs(n){if(n instanceof IDBRequest)return function Nb(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",u),n.removeEventListener("error",c)},u=()=>{t(Zs(n.result)),i()},c=()=>{r(n.error),i()};n.addEventListener("success",u),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&Wm.set(t,n)}).catch(()=>{}),Zm.set(e,n),e}(n);if(Tf.has(n))return Tf.get(n);const e=Qm(n);return e!==n&&(Tf.set(n,e),Zm.set(e,n)),e}const Jm=n=>Zm.get(n),Ow=["get","getKey","getAll","getAllKeys","count"],kb=["put","add","delete","clear"],Xm=new Map;function Sf(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(Xm.get(e))return Xm.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=kb.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Ow.includes(t))return;const u=function(){var c=(0,te.Z)(function*(g,..._){const I=this.transaction(g,i?"readwrite":"readonly");let C=I.store;return r&&(C=C.index(_.shift())),(yield Promise.all([C[t](..._),i&&I.done]))[0]});return function(_){return c.apply(this,arguments)}}();return Xm.set(e,u),u}!function Ob(n){Ym=n(Ym)}(n=>({...n,get:(e,t,r)=>Sf(e,t)||n.get(e,t,r),has:(e,t)=>!!Sf(e,t)||n.has(e,t)}));const Pw="@firebase/installations",ey="0.6.4",kw=1e4,Fw=`w:${ey}`,Lw="FIS_v2",Es="https://firebaseinstallations.googleapis.com/v1",ty=36e5,Ys=new xt.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Uw(n){return n instanceof xt.ZR&&n.code.includes("request-failed")}function ny({projectId:n}){return`${Es}/projects/${n}/installations`}function Af(n){return{token:n.token,requestStatus:2,expiresIn:sy(n.expiresIn),creationTime:Date.now()}}function ry(n,e){return iy.apply(this,arguments)}function iy(){return(iy=(0,te.Z)(function*(n,e){const r=(yield e.json()).error;return Ys.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function sd({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function cc(n){return Bw.apply(this,arguments)}function Bw(){return(Bw=(0,te.Z)(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function sy(n){return Number(n.replace("s","000"))}function Mf(){return(Mf=(0,te.Z)(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=ny(n),i=sd(n),u=e.getImmediate({optional:!0});if(u){const I=yield u.getHeartbeatsHeader();I&&i.append("x-firebase-client",I)}const g={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:Lw,appId:n.appId,sdkVersion:Fw})},_=yield cc(()=>fetch(r,g));if(_.ok){const I=yield _.json();return{fid:I.fid||t,registrationStatus:2,refreshToken:I.refreshToken,authToken:Af(I.authToken)}}throw yield ry("Create Installation",_)})).apply(this,arguments)}function oy(n){return new Promise(e=>{setTimeout(e,n)})}const ay=/^[cdef][\w-]{21}$/,Yi="";function xf(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function Rf(n){return function jw(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return ay.test(t)?t:Yi}catch{return Yi}}function Is(n){return`${n.appName}!${n.appId}`}const lc=new Map;function uy(n,e){const t=Is(n);zw(t,e),function ad(n,e){const t=function Ub(){return!Ha&&"BroadcastChannel"in self&&(Ha=new BroadcastChannel("[Firebase] FID Change"),Ha.onmessage=n=>{zw(n.data.key,n.data.fid)}),Ha}();t&&t.postMessage({key:n,fid:e}),function Gw(){0===lc.size&&Ha&&(Ha.close(),Ha=null)}()}(t,e)}function zw(n,e){const t=lc.get(n);if(t)for(const r of t)r(e)}let Ha=null;const Bb="firebase-installations-database",$b=1,za="firebase-installations-store";let cy=null;function ly(){return cy||(cy=function Pb(n,e,{blocked:t,upgrade:r,blocking:i,terminated:u}={}){const c=indexedDB.open(n,e),g=Zs(c);return r&&c.addEventListener("upgradeneeded",_=>{r(Zs(c.result),_.oldVersion,_.newVersion,Zs(c.transaction))}),t&&c.addEventListener("blocked",()=>t()),g.then(_=>{u&&_.addEventListener("close",()=>u()),i&&_.addEventListener("versionchange",()=>i())}).catch(()=>{}),g}(Bb,$b,{upgrade:(n,e)=>{0===e&&n.createObjectStore(za)}})),cy}function Nf(n,e){return Of.apply(this,arguments)}function Of(){return(Of=(0,te.Z)(function*(n,e){const t=Is(n),i=(yield ly()).transaction(za,"readwrite"),u=i.objectStore(za),c=yield u.get(t);return yield u.put(e,t),yield i.done,(!c||c.fid!==e.fid)&&uy(n,e.fid),e})).apply(this,arguments)}function ud(n){return dy.apply(this,arguments)}function dy(){return(dy=(0,te.Z)(function*(n){const e=Is(n),r=(yield ly()).transaction(za,"readwrite");yield r.objectStore(za).delete(e),yield r.done})).apply(this,arguments)}function Ga(n,e){return hy.apply(this,arguments)}function hy(){return(hy=(0,te.Z)(function*(n,e){const t=Is(n),i=(yield ly()).transaction(za,"readwrite"),u=i.objectStore(za),c=yield u.get(t),g=e(c);return void 0===g?yield u.delete(t):yield u.put(g,t),yield i.done,g&&(!c||c.fid!==g.fid)&&uy(n,g.fid),g})).apply(this,arguments)}function fy(n){return py.apply(this,arguments)}function py(){return py=(0,te.Z)(function*(n){let e;const t=yield Ga(n.appConfig,r=>{const i=function jb(n){return Gb(n||{fid:xf(),registrationStatus:0})}(r),u=function Hb(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Ys.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function zb(n,e){return gy.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Ww(n)}:{installationEntry:e}}(n,i);return e=u.registrationPromise,u.installationEntry});return t.fid===Yi?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),py.apply(this,arguments)}function gy(){return gy=(0,te.Z)(function*(n,e){try{const t=yield function $w(n,e){return Mf.apply(this,arguments)}(n,e);return Nf(n.appConfig,t)}catch(t){throw Uw(t)&&409===t.customData.serverCode?yield ud(n.appConfig):yield Nf(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}),gy.apply(this,arguments)}function Ww(n){return Pf.apply(this,arguments)}function Pf(){return(Pf=(0,te.Z)(function*(n){let e=yield qw(n.appConfig);for(;1===e.registrationStatus;)yield oy(100),e=yield qw(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield fy(n);return r||t}return e})).apply(this,arguments)}function qw(n){return Ga(n,e=>{if(!e)throw Ys.create("installation-not-found");return Gb(e)})}function Gb(n){return function Kw(n){return 1===n.registrationStatus&&n.registrationTime+kw<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function dc(){return(dc=(0,te.Z)(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=function Wb(n,{fid:e}){return`${ny(n)}/${e}/authTokens:generate`}(n,t),i=function od(n,{refreshToken:e}){const t=sd(n);return t.append("Authorization",function _R(n){return`${Lw} ${n}`}(e)),t}(n,t),u=e.getImmediate({optional:!0});if(u){const I=yield u.getHeartbeatsHeader();I&&i.append("x-firebase-client",I)}const g={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:Fw,appId:n.appId}})},_=yield cc(()=>fetch(r,g));if(_.ok)return Af(yield _.json());throw yield ry("Generate Auth Token",_)})).apply(this,arguments)}function my(n){return cd.apply(this,arguments)}function cd(){return cd=(0,te.Z)(function*(n,e=!1){let t;const r=yield Ga(n.appConfig,u=>{if(!ld(u))throw Ys.create("not-registered");const c=u.authToken;if(!e&&function Oi(n){return 2===n.requestStatus&&!function yy(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+ty}(n)}(c))return u;if(1===c.requestStatus)return t=function qb(n,e){return Ni.apply(this,arguments)}(n,e),u;{if(!navigator.onLine)throw Ys.create("app-offline");const g=function fc(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}(u);return t=function Ar(n,e){return Qs.apply(this,arguments)}(n,g),g}});return t?yield t:r.authToken}),cd.apply(this,arguments)}function Ni(){return(Ni=(0,te.Z)(function*(n,e){let t=yield hc(n.appConfig);for(;1===t.authToken.requestStatus;)yield oy(100),t=yield hc(n.appConfig);const r=t.authToken;return 0===r.requestStatus?my(n,e):r})).apply(this,arguments)}function hc(n){return Ga(n,e=>{if(!ld(e))throw Ys.create("not-registered");return function pc(n){return 1===n.requestStatus&&n.requestTime+kw<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Qs(){return Qs=(0,te.Z)(function*(n,e){try{const t=yield function vR(n,e){return dc.apply(this,arguments)}(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield Nf(n.appConfig,r),t}catch(t){if(!Uw(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Nf(n.appConfig,r)}else yield ud(n.appConfig);throw t}}),Qs.apply(this,arguments)}function ld(n){return void 0!==n&&2===n.registrationStatus}function jo(){return(jo=(0,te.Z)(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield fy(e);return r?r.catch(console.error):my(e).catch(console.error),t.fid})).apply(this,arguments)}function Ho(){return Ho=(0,te.Z)(function*(n,e=!1){const t=n;return yield function yc(n){return zo.apply(this,arguments)}(t),(yield my(t,e)).token}),Ho.apply(this,arguments)}function zo(){return(zo=(0,te.Z)(function*(n){const{registrationPromise:e}=yield fy(n);e&&(yield e)})).apply(this,arguments)}function Lf(n){return Ys.create("missing-app-config-values",{valueName:n})}const _y="installations",Jb=n=>{const e=n.getProvider("app").getImmediate(),t=function Yw(n){if(!n||!n.options)throw Lf("App Configuration");if(!n.name)throw Lf("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Lf(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:(0,Mt._getProvider)(e,"heartbeat"),_delete:()=>Promise.resolve()}},Qw=n=>{const e=n.getProvider("app").getImmediate(),t=(0,Mt._getProvider)(e,_y).getImmediate();return{getId:()=>function gc(n){return jo.apply(this,arguments)}(t),getToken:i=>function mc(n){return Ho.apply(this,arguments)}(t,i)}};(function Xb(){(0,Mt._registerComponent)(new xi.wA(_y,Jb,"PUBLIC")),(0,Mt._registerComponent)(new xi.wA("installations-internal",Qw,"PRIVATE"))})(),(0,Mt.registerVersion)(Pw,ey),(0,Mt.registerVersion)(Pw,ey,"esm2017");const vy="@firebase/remote-config",yr=new xt.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class rE{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return(0,te.Z)(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const u=yield t.client.fetch(e),c=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===u.status&&c.push(t.storage.setLastSuccessfulFetchResponse(u)),yield Promise.all(c),u})()}}function Hf(n=navigator){return n.languages&&n.languages[0]||n.language}class iE{constructor(e,t,r,i,u,c){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=u,this.appId=c}fetch(e){var t=this;return(0,te.Z)(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),c=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,g={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},_={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:Hf()},I={method:"POST",headers:g,body:JSON.stringify(_)},C=fetch(c,I),S=new Promise((Ke,et)=>{e.signal.addEventListener(()=>{const lt=new Error("The operation was aborted.");lt.name="AbortError",et(lt)})});let k;try{yield Promise.race([C,S]),k=yield C}catch(Ke){let et="fetch-client-network";throw"AbortError"===Ke?.name&&(et="fetch-timeout"),yr.create(et,{originalErrorMessage:Ke?.message})}let $=k.status;const se=k.headers.get("ETag")||void 0;let ve,me;if(200===k.status){let Ke;try{Ke=yield k.json()}catch(et){throw yr.create("fetch-client-parse",{originalErrorMessage:et?.message})}ve=Ke.entries,me=Ke.state}if("INSTANCE_STATE_UNSPECIFIED"===me?$=500:"NO_CHANGE"===me?$=304:("NO_TEMPLATE"===me||"EMPTY_CONFIG"===me)&&(ve={}),304!==$&&200!==$)throw yr.create("fetch-status",{httpStatus:$});return{status:$,eTag:se,config:ve}})()}}class aE{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return(0,te.Z)(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return(0,te.Z)(function*(){yield function sE(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),u=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(u),r(yr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const u=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),u}catch(u){if(!function oE(n){if(!(n instanceof xt.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(u))throw u;const c={throttleEndTimeMillis:Date.now()+(0,xt.$s)(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(c),i.attemptFetch(e,c)}})()}}class lE{constructor(e,t,r,i,u){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=u,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function dd(n,e){const t=n.target.error||void 0;return yr.create(e,{originalErrorMessage:t&&t?.message})}const Ds="app_namespace_store";class Ty{constructor(e,t,r,i=function oT(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(dd(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Ds,{keyPath:"compositeKey"})}}catch(t){e(yr.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return(0,te.Z)(function*(){const r=yield t.openDbPromise;return new Promise((i,u)=>{const g=r.transaction([Ds],"readonly").objectStore(Ds),_=t.createCompositeKey(e);try{const I=g.get(_);I.onerror=C=>{u(dd(C,"storage-get"))},I.onsuccess=C=>{const S=C.target.result;i(S?S.value:void 0)}}catch(I){u(yr.create("storage-get",{originalErrorMessage:I?.message}))}})})()}set(e,t){var r=this;return(0,te.Z)(function*(){const i=yield r.openDbPromise;return new Promise((u,c)=>{const _=i.transaction([Ds],"readwrite").objectStore(Ds),I=r.createCompositeKey(e);try{const C=_.put({compositeKey:I,value:t});C.onerror=S=>{c(dd(S,"storage-set"))},C.onsuccess=()=>{u()}}catch(C){c(yr.create("storage-set",{originalErrorMessage:C?.message}))}})})()}delete(e){var t=this;return(0,te.Z)(function*(){const r=yield t.openDbPromise;return new Promise((i,u)=>{const g=r.transaction([Ds],"readwrite").objectStore(Ds),_=t.createCompositeKey(e);try{const I=g.delete(_);I.onerror=C=>{u(dd(C,"storage-delete"))},I.onsuccess=()=>{i()}}catch(I){u(yr.create("storage-delete",{originalErrorMessage:I?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Wa{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,te.Z)(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),u=yield t;u&&(e.lastFetchStatus=u);const c=yield r;c&&(e.lastSuccessfulFetchTimestampMillis=c);const g=yield i;g&&(e.activeConfig=g)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function DR(){return dE.apply(this,arguments)}function dE(){return(dE=(0,te.Z)(function*(){if(!(0,xt.hl)())return!1;try{return yield(0,xt.eu)()}catch{return!1}})).apply(this,arguments)}!function Sy(){(0,Mt._registerComponent)(new xi.wA("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw yr.create("registration-window");if(!(0,xt.hl)())throw yr.create("indexed-db-unavailable");const{projectId:u,apiKey:c,appId:g}=r.options;if(!u)throw yr.create("registration-project-id");if(!c)throw yr.create("registration-api-key");if(!g)throw yr.create("registration-app-id");const _=new Ty(g,r.name,t=t||"firebase"),I=new Wa(_),C=new Ri.Yd(vy);C.logLevel=Ri.in.ERROR;const S=new iE(i,Mt.SDK_VERSION,t,u,c,g),k=new aE(S,_),$=new rE(k,_,I,C),se=new lE(r,$,I,_,C);return function Cy(n){const e=(0,xt.m9)(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(se),se},"PUBLIC").setMultipleInstances(!0)),(0,Mt.registerVersion)(vy,"0.4.4"),(0,Mt.registerVersion)(vy,"0.4.4","esm2017")}();const aT=(n,e)=>e.some(t=>n instanceof t);let hE,Ay;const My=new WeakMap,xy=new WeakMap,fE=new WeakMap,zf=new WeakMap,Ry=new WeakMap;let Wo={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return xy.get(n);if("objectStoreNames"===e)return n.objectStoreNames||fE.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Js(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function mE(n){return"function"==typeof n?function lT(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Yn(){return Ay||(Ay=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(Gf(this),e),Js(My.get(this))}:function(...e){return Js(n.apply(Gf(this),e))}:function(e,...t){const r=n.call(Gf(this),e,...t);return fE.set(r,e.sort?e.sort():[e]),Js(r)}}(n):(n instanceof IDBTransaction&&function gE(n){if(xy.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",c),n.removeEventListener("abort",c)},u=()=>{t(),i()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",u),n.addEventListener("error",c),n.addEventListener("abort",c)});xy.set(n,e)}(n),aT(n,function uT(){return hE||(hE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,Wo):n)}function Js(n){if(n instanceof IDBRequest)return function pE(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",u),n.removeEventListener("error",c)},u=()=>{t(Js(n.result)),i()},c=()=>{r(n.error),i()};n.addEventListener("success",u),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&My.set(t,n)}).catch(()=>{}),Ry.set(e,n),e}(n);if(zf.has(n))return zf.get(n);const e=mE(n);return e!==n&&(zf.set(n,e),Ry.set(e,n)),e}const Gf=n=>Ry.get(n);function dT(n,e,{blocked:t,upgrade:r,blocking:i,terminated:u}={}){const c=indexedDB.open(n,e),g=Js(c);return r&&c.addEventListener("upgradeneeded",_=>{r(Js(c.result),_.oldVersion,_.newVersion,Js(c.transaction))}),t&&c.addEventListener("blocked",()=>t()),g.then(_=>{u&&_.addEventListener("close",()=>u()),i&&_.addEventListener("versionchange",()=>i())}).catch(()=>{}),g}function Wf(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),Js(t).then(()=>{})}const Ny=["get","getKey","getAll","getAllKeys","count"],Cs=["put","add","delete","clear"],Oy=new Map;function yE(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(Oy.get(e))return Oy.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=Cs.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Ny.includes(t))return;const u=function(){var c=(0,te.Z)(function*(g,..._){const I=this.transaction(g,i?"readwrite":"readonly");let C=I.store;return r&&(C=C.index(_.shift())),(yield Promise.all([C[t](..._),i&&I.done]))[0]});return function(_){return c.apply(this,arguments)}}();return Oy.set(e,u),u}!function cT(n){Wo=n(Wo)}(n=>({...n,get:(e,t,r)=>yE(e,t)||n.get(e,t,r),has:(e,t)=>!!yE(e,t)||n.has(e,t)}));const bs="/firebase-messaging-sw.js",Qi="/firebase-cloud-messaging-push-scope",Pi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",_E="https://fcmregistrations.googleapis.com/v1",Py="google.c.a.c_id",hT="google.c.a.c_l",fT="google.c.a.ts",pT="google.c.a.e";var qo=(()=>{return(n=qo||(qo={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",qo;var n})();function mi(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function gT(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let u=0;u<r.length;++u)i[u]=r.charCodeAt(u);return i}const qf="fcm_token_details_db",mT=5,vE="fcm_token_object_Store";function Kf(){return Kf=(0,te.Z)(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(u=>u.name).includes(qf))return null;let e=null;return(yield dT(qf,mT,{upgrade:(r=(0,te.Z)(function*(i,u,c,g){var _;if(u<2||!i.objectStoreNames.contains(vE))return;const I=g.objectStore(vE),C=yield I.index("fcmSenderId").get(n);if(yield I.clear(),C)if(2===u){const S=C;if(!S.auth||!S.p256dh||!S.endpoint)return;e={token:S.fcmToken,createTime:null!==(_=S.createTime)&&void 0!==_?_:Date.now(),subscriptionOptions:{auth:S.auth,p256dh:S.p256dh,endpoint:S.endpoint,swScope:S.swScope,vapidKey:"string"==typeof S.vapidKey?S.vapidKey:mi(S.vapidKey)}}}else if(3===u){const S=C;e={token:S.fcmToken,createTime:S.createTime,subscriptionOptions:{auth:mi(S.auth),p256dh:mi(S.p256dh),endpoint:S.endpoint,swScope:S.swScope,vapidKey:mi(S.vapidKey)}}}else if(4===u){const S=C;e={token:S.fcmToken,createTime:S.createTime,subscriptionOptions:{auth:mi(S.auth),p256dh:mi(S.p256dh),endpoint:S.endpoint,swScope:S.swScope,vapidKey:mi(S.vapidKey)}}}}),function(u,c,g,_){return r.apply(this,arguments)})})).close(),yield Wf(qf),yield Wf("fcm_vapid_details_db"),yield Wf("undefined"),function Zf(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),Kf.apply(this,arguments)}const yT="firebase-messaging-database",EE=1,Ko="firebase-messaging-store";let fd=null;function pd(){return fd||(fd=dT(yT,EE,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Ko)}})),fd}function Yf(n){return Qf.apply(this,arguments)}function Qf(){return Qf=(0,te.Z)(function*(n){const e=tp(n),r=yield(yield pd()).transaction(Ko).objectStore(Ko).get(e);if(r)return r;{const i=yield function wE(n){return Kf.apply(this,arguments)}(n.appConfig.senderId);if(i)return yield Jf(n,i),i}}),Qf.apply(this,arguments)}function Jf(n,e){return Xf.apply(this,arguments)}function Xf(){return(Xf=(0,te.Z)(function*(n,e){const t=tp(n),i=(yield pd()).transaction(Ko,"readwrite");return yield i.objectStore(Ko).put(e,t),yield i.done,e})).apply(this,arguments)}function ep(){return(ep=(0,te.Z)(function*(n){const e=tp(n),r=(yield pd()).transaction(Ko,"readwrite");yield r.objectStore(Ko).delete(e),yield r.done})).apply(this,arguments)}function tp({appConfig:n}){return n.appId}const _r=new xt.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function _T(n,e){return ky.apply(this,arguments)}function ky(){return(ky=(0,te.Z)(function*(n,e){const t=yield Uy(n),r=bE(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let u;try{u=yield(yield fetch(Vy(n.appConfig),i)).json()}catch(c){throw _r.create("token-subscribe-failed",{errorInfo:c?.toString()})}if(u.error)throw _r.create("token-subscribe-failed",{errorInfo:u.error.message});if(!u.token)throw _r.create("token-subscribe-no-token");return u.token})).apply(this,arguments)}function Fy(){return(Fy=(0,te.Z)(function*(n,e){const t=yield Uy(n),r=bE(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let u;try{u=yield(yield fetch(`${Vy(n.appConfig)}/${e.token}`,i)).json()}catch(c){throw _r.create("token-update-failed",{errorInfo:c?.toString()})}if(u.error)throw _r.create("token-update-failed",{errorInfo:u.error.message});if(!u.token)throw _r.create("token-update-no-token");return u.token})).apply(this,arguments)}function CE(n,e){return Ly.apply(this,arguments)}function Ly(){return(Ly=(0,te.Z)(function*(n,e){const r={method:"DELETE",headers:yield Uy(n)};try{const u=yield(yield fetch(`${Vy(n.appConfig)}/${e}`,r)).json();if(u.error)throw _r.create("token-unsubscribe-failed",{errorInfo:u.error.message})}catch(i){throw _r.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function Vy({projectId:n}){return`${_E}/projects/${n}/registrations`}function Uy(n){return By.apply(this,arguments)}function By(){return(By=(0,te.Z)(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function bE({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==Pi&&(i.web.applicationPubKey=r),i}const wT=6048e5;function $y(){return $y=(0,te.Z)(function*(n){const e=yield function SE(n,e){return rp.apply(this,arguments)}(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:mi(e.getKey("auth")),p256dh:mi(e.getKey("p256dh"))},r=yield Yf(n.firebaseDependencies);if(r){if(function AE(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}(r.subscriptionOptions,t))return Date.now()>=r.createTime+wT?function IT(n,e){return Hy.apply(this,arguments)}(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield CE(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return zy(n.firebaseDependencies,t)}return zy(n.firebaseDependencies,t)}),$y.apply(this,arguments)}function jy(){return jy=(0,te.Z)(function*(n){const e=yield Yf(n.firebaseDependencies);e&&(yield CE(n.firebaseDependencies,e.token),yield function IE(n){return ep.apply(this,arguments)}(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()}),jy.apply(this,arguments)}function Hy(){return Hy=(0,te.Z)(function*(n,e){try{const t=yield function vT(n,e){return Fy.apply(this,arguments)}(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield Jf(n.firebaseDependencies,r),t}catch(t){throw yield function TE(n){return jy.apply(this,arguments)}(n),t}}),Hy.apply(this,arguments)}function zy(n,e){return np.apply(this,arguments)}function np(){return(np=(0,te.Z)(function*(n,e){const r={token:yield _T(n,e),createTime:Date.now(),subscriptionOptions:e};return yield Jf(n,r),r.token})).apply(this,arguments)}function rp(){return(rp=(0,te.Z)(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:gT(e)})})).apply(this,arguments)}function Gy(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function ME(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const u=e.notification.icon;u&&(n.notification.icon=u)}(e,n),function xE(n,e){e.data&&(n.data=e.data)}(e,n),function RE(n,e){var t,r,i,u,c;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const g=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(u=e.notification)||void 0===u?void 0:u.click_action;g&&(n.fcmOptions.link=g);const _=null===(c=e.fcmOptions)||void 0===c?void 0:c.analytics_label;_&&(n.fcmOptions.analyticsLabel=_)}(e,n),e}function Wy(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function qy(n){return _r.create("missing-app-config-values",{valueName:n})}Wy("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Wy("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class DT{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function qa(n){if(!n||!n.options)throw qy("App Configuration Object");if(!n.name)throw qy("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw qy(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function Ka(n){return OE.apply(this,arguments)}function OE(){return(OE=(0,te.Z)(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(bs,{scope:Qi}),n.swRegistration.update().catch(()=>{})}catch(e){throw _r.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function PE(){return(PE=(0,te.Z)(function*(n,e){if(!e&&!n.swRegistration&&(yield Ka(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw _r.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function ip(){return(ip=(0,te.Z)(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=Pi)})).apply(this,arguments)}function ct(){return ct=(0,te.Z)(function*(n,e){if(!navigator)throw _r.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw _r.create("permission-blocked");return yield function kE(n,e){return ip.apply(this,arguments)}(n,e?.vapidKey),yield function Ky(n,e){return PE.apply(this,arguments)}(n,e?.serviceWorkerRegistration),function ET(n){return $y.apply(this,arguments)}(n)}),ct.apply(this,arguments)}function Zy(){return(Zy=(0,te.Z)(function*(n,e,t){const r=function TT(n){switch(n){case qo.NOTIFICATION_CLICKED:return"notification_open";case qo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[Py],message_name:t[hT],message_time:t[fT],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Yy(){return Yy=(0,te.Z)(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===qo.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(Gy(t)):n.onMessageHandler.next(Gy(t)));const r=t.data;(function NE(n){return"object"==typeof n&&!!n&&Py in n})(r)&&"1"===r[pT]&&(yield function bT(n,e,t){return Zy.apply(this,arguments)}(n,t.messageType,r))}),Yy.apply(this,arguments)}const gd="@firebase/messaging",Cn=n=>{const e=new DT(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function vc(n,e){return Yy.apply(this,arguments)}(e,t)),e},bR=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function CT(n,e){return ct.apply(this,arguments)}(e,r)}};function Qy(){return Jy.apply(this,arguments)}function Jy(){return(Jy=(0,te.Z)(function*(){try{yield(0,xt.eu)()}catch{return!1}return typeof window<"u"&&(0,xt.hl)()&&(0,xt.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function FE(){(0,Mt._registerComponent)(new xi.wA("messaging",Cn,"PUBLIC")),(0,Mt._registerComponent)(new xi.wA("messaging-internal",bR,"PRIVATE")),(0,Mt.registerVersion)(gd,"0.12.4"),(0,Mt.registerVersion)(gd,"0.12.4","esm2017")}();const ap="analytics",AT="firebase_id",MT="origin",up=6e4,UE="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",cp="https://www.googletagmanager.com/gtag/js",Qn=new Ri.Yd("@firebase/analytics"),Jn=new xt.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function yd(n){if(!n.startsWith(cp)){const e=Jn.create("invalid-gtag-resource",{gtagURL:n});return Qn.warn(e.message),""}return n}function BE(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function lp(){return(lp=(0,te.Z)(function*(n,e,t,r,i,u){const c=r[i];try{if(c)yield e[c];else{const _=(yield BE(t)).find(I=>I.measurementId===i);_&&(yield e[_.appId])}}catch(g){Qn.error(g)}n("config",i,u)})).apply(this,arguments)}function dp(){return(dp=(0,te.Z)(function*(n,e,t,r,i){try{let u=[];if(i&&i.send_to){let c=i.send_to;Array.isArray(c)||(c=[c]);const g=yield BE(t);for(const _ of c){const I=g.find(S=>S.measurementId===_),C=I&&e[I.appId];if(!C){u=[];break}u.push(C)}}0===u.length&&(u=Object.values(e)),yield Promise.all(u),n("event",r,i||{})}catch(u){Qn.error(u)}})).apply(this,arguments)}const MR=30,e_=new class RR{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function hp(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function t_(){return(t_=(0,te.Z)(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:hp(r)},u=UE.replace("{app-id}",t),c=yield fetch(u,i);if(200!==c.status&&304!==c.status){let g="";try{const _=yield c.json();null!==(e=_.error)&&void 0!==e&&e.message&&(g=_.error.message)}catch{}throw Jn.create("config-fetch-failed",{httpStatus:c.status,responseMessage:g})}return c.json()})).apply(this,arguments)}function Za(){return(Za=(0,te.Z)(function*(n,e=e_,t){const{appId:r,apiKey:i,measurementId:u}=n.options;if(!r)throw Jn.create("no-app-id");if(!i){if(u)return{measurementId:u,appId:r};throw Jn.create("no-api-key")}const c=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new NR;return setTimeout((0,te.Z)(function*(){g.abort()}),void 0!==t?t:up),zE({appId:r,apiKey:i,measurementId:u},c,g,e)})).apply(this,arguments)}function zE(n,e,t){return n_.apply(this,arguments)}function n_(){return n_=(0,te.Z)(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=e_){var u;const{appId:c,measurementId:g}=n;try{yield function LT(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),u=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(u),r(Jn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(_){if(g)return Qn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${_?.message}]`),{appId:c,measurementId:g};throw _}try{const _=yield function FT(n){return t_.apply(this,arguments)}(n);return i.deleteThrottleMetadata(c),_}catch(_){const I=_;if(!function VT(n){if(!(n instanceof xt.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(I)){if(i.deleteThrottleMetadata(c),g)return Qn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${I?.message}]`),{appId:c,measurementId:g};throw _}const C=503===Number(null===(u=I?.customData)||void 0===u?void 0:u.httpStatus)?(0,xt.$s)(t,i.intervalMillis,MR):(0,xt.$s)(t,i.intervalMillis),S={throttleEndTimeMillis:Date.now()+C,backoffCount:t+1};return i.setThrottleMetadata(c,S),Qn.debug(`Calling attemptFetch again in ${C} millis`),zE(n,S,r,i)}}),n_.apply(this,arguments)}class NR{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let r_,s_;function i_(){return(i_=(0,te.Z)(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const u=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:u}))}})).apply(this,arguments)}function u_(){return(u_=(0,te.Z)(function*(){if(!(0,xt.hl)())return Qn.warn(Jn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,xt.eu)()}catch(n){return Qn.warn(Jn.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function vd(){return vd=(0,te.Z)(function*(n,e,t,r,i,u,c){var g;const _=function HE(n){return Za.apply(this,arguments)}(n);_.then($=>{t[$.measurementId]=$.appId,n.options.measurementId&&$.measurementId!==n.options.measurementId&&Qn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${$.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch($=>Qn.error($)),e.push(_);const I=function zT(){return u_.apply(this,arguments)}().then($=>{if($)return r.getId()}),[C,S]=yield Promise.all([_,I]);(function AR(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(cp)&&t.src.includes(n))return t;return null})(u)||function NT(n,e){const t=function RT(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:yd}),r=document.createElement("script"),i=`${cp}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(u,C.measurementId),s_&&(i("consent","default",s_),function o_(n){s_=n}(void 0)),i("js",new Date);const k=null!==(g=c?.config)&&void 0!==g?g:{};return k[MT]="firebase",k.update=!0,null!=S&&(k[AT]=S),i("config",C.measurementId,k),r_&&(i("set",r_),function a_(n){r_=n}(void 0)),C.measurementId}),vd.apply(this,arguments)}class WT{constructor(e){this.app=e}_delete(){return delete Ji[this.app.options.appId],Promise.resolve()}}let Ji={},WE=[];const qE={};let ZE,Ts,mp="dataLayer",KE="gtag",c_=!1;function QE(n,e,t){!function YE(){const n=[];if((0,xt.ru)()&&n.push("This is a browser extension environment."),(0,xt.zI)()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Jn.create("invalid-analytics-context",{errorInfo:e});Qn.warn(t.message)}}();const r=n.options.appId;if(!r)throw Jn.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Jn.create("no-api-key");Qn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ji[r])throw Jn.create("already-exists",{id:r});if(!c_){!function $E(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(mp);const{wrappedGtag:u,gtagCore:c}=function kT(n,e,t,r,i){let u=function(...c){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(u=window[i]),window[i]=function PT(n,e,t,r){function u(){return u=(0,te.Z)(function*(c,...g){try{if("event"===c){const[_,I]=g;yield function OT(n,e,t,r,i){return dp.apply(this,arguments)}(n,e,t,_,I)}else if("config"===c){const[_,I]=g;yield function jE(n,e,t,r,i,u){return lp.apply(this,arguments)}(n,e,t,r,_,I)}else if("consent"===c){const[_]=g;n("consent","update",_)}else if("get"===c){const[_,I,C]=g;n("get",_,I,C)}else if("set"===c){const[_]=g;n("set",_)}else n(c,...g)}catch(_){Qn.error(_)}}),u.apply(this,arguments)}return function i(c){return u.apply(this,arguments)}}(u,n,e,t),{gtagCore:u,wrappedGtag:window[i]}}(Ji,WE,qE,mp,KE);Ts=u,ZE=c,c_=!0}return Ji[r]=function GT(n,e,t,r,i,u,c){return vd.apply(this,arguments)}(n,WE,qE,e,ZE,mp,t),new WT(n)}function JE(){return l_.apply(this,arguments)}function l_(){return(l_=(0,te.Z)(function*(){if((0,xt.ru)()||!(0,xt.zI)()||!(0,xt.hl)())return!1;try{return yield(0,xt.eu)()}catch{return!1}})).apply(this,arguments)}const nI="@firebase/analytics";!function wc(){(0,Mt._registerComponent)(new xi.wA(ap,(e,{options:t})=>QE(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),(0,Mt._registerComponent)(new xi.wA("analytics-internal",function n(e){try{const t=e.getProvider(ap).getImmediate();return{logEvent:(r,i,u)=>function ZT(n,e,t,r){n=(0,xt.m9)(n),function GE(n,e,t,r,i){return i_.apply(this,arguments)}(Ts,Ji[n.app.options.appId],e,t,r).catch(i=>Qn.error(i))}(t,r,i,u)}}catch(t){throw Jn.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),(0,Mt.registerVersion)(nI,"0.10.0"),(0,Mt.registerVersion)(nI,"0.10.0","esm2017")}();class rI extends Uu.w0{constructor(e,t){super()}schedule(e,t=0){return this}}const yp={setInterval(n,e,...t){const{delegate:r}=yp;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=yp;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var VR=N(8737);class h_ extends rI{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,u=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(u,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(u,this.id,t),this}requestAsyncId(e,t,r=0){return yp.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&yp.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(u){r=!0,i=u||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,VR.P)(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const p_={now:()=>(p_.delegate||Date).now(),delegate:void 0};class Qa{constructor(e,t=Qa.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Qa.now=p_.now;class iI extends Qa{constructor(e,t=Qa.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const g_=new class sI extends iI{}(class f_ extends h_{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),oI=new iI(h_);var Ec=N(9468),Ic=N(5363);const Ed=new h.GfV("7.6.1"),m_="__angularfire_symbol__analyticsIsSupportedValue",y_="__angularfire_symbol__analyticsIsSupported",_p="__angularfire_symbol__remoteConfigIsSupportedValue",aI="__angularfire_symbol__remoteConfigIsSupported",vp="__angularfire_symbol__messagingIsSupportedValue",__="__angularfire_symbol__messagingIsSupported";function w_(n,e,t){if(e){if(1===e.length)return e[0];const u=e.filter(c=>c.app===t);if(1===u.length)return u[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[y_]||(globalThis[y_]=JE().then(n=>globalThis[m_]=n).catch(()=>globalThis[m_]=!1)),globalThis[__]||(globalThis[__]=Qy().then(n=>globalThis[vp]=n).catch(()=>globalThis[vp]=!1)),globalThis[aI]||(globalThis[aI]=DR().then(n=>globalThis[_p]=n).catch(()=>globalThis[_p]=!1));const E_=(n,e)=>{const t=e?[e]:(0,Mt.getApps)(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(c=>{r.includes(c)||r.push(c)})}),r};function Dc(){}class uI{constructor(e,t=g_){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(c){i.runGuarded(()=>{e.apply(this,[c])})},t,r)}}class JT{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Dc,{},Dc,Dc)),t.pipe(qn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let wp=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new uI(Zone.current)),this.insideAngular=t.run(()=>new uI(Zone.current,oI)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ja(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Xa(n){return Ja().ngZone.run(()=>n())}function I_(n){return Ja(),function cI(n){return function(t){return(t=t.lift(new JT(n.ngZone))).pipe((0,Ec.R)(n.outsideAngular),(0,Ic.Q)(n.insideAngular))}}(Ja())(n)}const lI=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Xa(()=>n.apply(void 0,r))},Ip=(n,e)=>function(){let t;const r=arguments;for(let u=0;u<arguments.length;u++)"function"==typeof r[u]&&(e&&(t||(t=Xa(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Dc,{},Dc,Dc)))),r[u]=lI(r[u],t));const i=function XT(n){return Ja().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(i instanceof Qr.y){const u=Ja();return i.pipe((0,Ec.R)(u.outsideAngular),(0,Ic.Q)(u.insideAngular))}return Xa(()=>i)}return i instanceof Qr.y?i.pipe(I_):i instanceof Promise?Xa(()=>new Promise((u,c)=>i.then(g=>Xa(()=>u(g)),g=>Xa(()=>c(g))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:Xa(()=>i)};class eu{constructor(e){return e}}class D_{constructor(){return(0,Mt.getApps)()}}const C_=new h.OlP("angularfire2._apps"),eS={provide:eu,useFactory:function HR(n){return n&&1===n.length?n[0]:new eu((0,Mt.getApp)())},deps:[[new h.FiY,C_]]},tS={provide:D_,deps:[[new h.FiY,C_]]};function nS(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new eu(r)}}let rS=(()=>{class n{constructor(t){(0,Mt.registerVersion)("angularfire",Ed.full,"core"),(0,Mt.registerVersion)("angularfire",Ed.full,"app"),(0,Mt.registerVersion)("angular",h.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.Lbi))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[eS,tS]}),n})();function Id(n,...e){return{ngModule:rS,providers:[{provide:C_,useFactory:nS(n),multi:!0,deps:[h.R0b,h.zs3,wp,...e]}]}}const iS=Ip(Mt.initializeApp,!0),b_=new Map,fI={activated:!1,tokenObservers:[]},Cp={initialized:!1,enabled:!1};function ln(n){return b_.get(n)||Object.assign({},fI)}function bp(){return Cp}const Tp="https://content-firebaseappcheck.googleapis.com/v1",gI="exchangeDebugToken",Sp={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class mI{constructor(e,t,r,i,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=i,i>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,te.Z)(function*(){t.stop();try{t.pending=new xt.BH,yield function A_(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new xt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const vr=new xt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function x_(n){if(!ln(n).activated)throw vr.create("use-before-activation",{appName:n.name})}function Cc(n,e){return Mp.apply(this,arguments)}function Mp(){return(Mp=(0,te.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const S=yield i.getHeartbeatsHeader();S&&(r["X-Firebase-Client"]=S)}const u={method:"POST",body:JSON.stringify(e),headers:r};let c,g;try{c=yield fetch(n,u)}catch(S){throw vr.create("fetch-network-error",{originalErrorMessage:S?.message})}if(200!==c.status)throw vr.create("fetch-status-error",{httpStatus:c.status});try{g=yield c.json()}catch(S){throw vr.create("fetch-parse-error",{originalErrorMessage:S?.message})}const _=g.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw vr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${g.ttl}`});const I=1e3*Number(_[1]),C=Date.now();return{token:g.token,expireTimeMillis:C+I,issuedAtTimeMillis:C}})).apply(this,arguments)}function N_(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${Tp}/projects/${t}/apps/${r}:${gI}?key=${i}`,body:{debug_token:e}}}const oS="firebase-app-check-database",vI=1,bc="firebase-app-check-store";let Cd=null;function cS(n,e){return II.apply(this,arguments)}function II(){return(II=(0,te.Z)(function*(n,e){const r=(yield function EI(){return Cd||(Cd=new Promise((n,e)=>{try{const t=indexedDB.open(oS,vI);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(vr.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(bc,{keyPath:"compositeKey"})}}catch(t){e(vr.create("storage-open",{originalErrorMessage:t?.message}))}}),Cd)}()).transaction(bc,"readwrite"),u=r.objectStore(bc).put({compositeKey:n,value:e});return new Promise((c,g)=>{u.onsuccess=_=>{c()},r.onerror=_=>{var I;g(vr.create("storage-set",{originalErrorMessage:null===(I=_.target.error)||void 0===I?void 0:I.message}))}})})).apply(this,arguments)}const Td=new Ri.Yd("@firebase/app-check");function xp(n,e){return(0,xt.hl)()?function Tc(n,e){return cS(function Sc(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Td.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function L_(){return bp().enabled}function Sd(){return Rp.apply(this,arguments)}function Rp(){return(Rp=(0,te.Z)(function*(){const n=bp();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Np={error:"UNKNOWN_ERROR"};function V_(n){return xt.US.encodeString(JSON.stringify(n),!1)}function U_(n){return Op.apply(this,arguments)}function Op(){return(Op=(0,te.Z)(function*(n,e=!1){const t=n.app;x_(t);const r=ln(t);let u,i=r.token;if(i&&!Ac(i)&&(r.token=void 0,i=void 0),!i){const _=yield r.cachedTokenPromise;_&&(Ac(_)?i=_:yield xp(t,void 0))}if(!e&&i&&Ac(i))return{token:i.token};let g,c=!1;if(L_()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Cc(N_(t,yield Sd()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),c=!0);const _=yield r.exchangeTokenPromise;return yield xp(t,_),r.token=_,{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),c=!0),i=yield ln(t).exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?Td.warn(_.message):Td.error(_),u=_}return i?u?g=Ac(i)?{token:i.token,internalError:u}:hS(u):(g={token:i.token},r.token=i,yield xp(t,i)):g=hS(u),c&&function dS(n,e){const t=ln(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,g),g})).apply(this,arguments)}function CI(n){return Pp.apply(this,arguments)}function Pp(){return(Pp=(0,te.Z)(function*(n){const e=n.app;x_(e);const{provider:t}=ln(e);if(L_()){const r=yield Sd(),{token:i}=yield Cc(N_(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}})).apply(this,arguments)}function B_(n,e){const t=ln(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function $_(n){const{app:e}=n,t=ln(e);let r=t.tokenRefresher;r||(r=function j_(n){const{app:e}=n;return new mI((0,te.Z)(function*(){let r;if(r=ln(e).token?yield U_(n,!0):yield U_(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=ln(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},Sp.RETRIAL_MIN_WAIT,Sp.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Ac(n){return n.expireTimeMillis-Date.now()>0}function hS(n){return{token:V_(Np),error:n}}class fS{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=ln(this.app);for(const t of e)B_(this.app,t.next);return Promise.resolve()}}const wS="app-check-internal";!function FI(){(0,Mt._registerComponent)(new xi.wA("app-check",n=>function pS(n,e){return new fS(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(wS).initialize()})),(0,Mt._registerComponent)(new xi.wA(wS,n=>function gS(n){return{getToken:e=>U_(n,e),getLimitedUseToken:()=>CI(n),addTokenListener:e=>function Zo(n,e,t,r){const{app:i}=n,u=ln(i);if(u.tokenObservers=[...u.tokenObservers,{next:t,error:r,type:e}],u.token&&Ac(u.token)){const g=u.token;Promise.resolve().then(()=>{t({token:g.token}),$_(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>$_(n))}(n,"INTERNAL",e),removeTokenListener:e=>B_(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Mt.registerVersion)("@firebase/app-check","0.8.0")}();class Md{constructor(){return E_("app-check")}}typeof window<"u"&&window;var tu=N(1389);class W_{constructor(e){return e}}class q_{constructor(){return E_("auth")}}const LI=new h.OlP("angularfire2.auth-instances");function SS(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new W_(r)}}const K_={provide:q_,deps:[[new h.FiY,LI]]},AS={provide:W_,useFactory:function Xi(n,e){const t=w_("auth",n,e);return t&&new W_(t)},deps:[[new h.FiY,LI],eu]};let QR=(()=>{class n{constructor(){(0,Mt.registerVersion)("angularfire",Ed.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[AS,K_]}),n})();function ki(n,...e){return{ngModule:QR,providers:[{provide:LI,useFactory:SS(n),multi:!0,deps:[h.R0b,h.zs3,wp,D_,[new h.FiY,Md],...e]}]}}const PS=Ip(tu.o,!0);var Ue,qS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Jr={},Q_=Q_||{},Et=qS||self;function Ss(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Mc(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Rd="closure_uid_"+(1e9*Math.random()>>>0),KS=0;function X_(n,e,t){return n.call.apply(n.bind,arguments)}function ev(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Xn(n,e,t){return(Xn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?X_:ev).apply(null,arguments)}function tv(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function wr(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,u){for(var c=Array(arguments.length-2),g=2;g<arguments.length;g++)c[g-2]=arguments[g];return e.prototype[i].apply(r,c)}}function ru(){this.s=this.s,this.o=this.o}ru.prototype.s=!1,ru.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function J_(n){Object.prototype.hasOwnProperty.call(n,Rd)&&n[Rd]||(n[Rd]=++KS)}(this)},ru.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const nv=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function rv(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function HI(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Ss(r)){const i=n.length||0,u=r.length||0;n.length=i+u;for(let c=0;c<u;c++)n[i+c]=r[c]}else n.push(r)}}function Mr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Mr.prototype.h=function(){this.defaultPrevented=!0};var ZS=function(){if(!Et.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Et.addEventListener("test",()=>{},e),Et.removeEventListener("test",()=>{},e)}catch{}return n}();function xc(n){return/^[\s\xa0]*$/.test(n)}function Nd(){var n=Et.navigator;return n&&(n=n.userAgent)?n:""}function es(n){return-1!=Nd().indexOf(n)}function iv(n){return iv[" "](n),n}iv[" "]=function(){};var WI,n,zI=es("Opera"),Qo=es("Trident")||es("MSIE"),QS=es("Edge"),Up=QS||Qo,Bp=es("Gecko")&&!(-1!=Nd().toLowerCase().indexOf("webkit")&&!es("Edge"))&&!(es("Trident")||es("MSIE"))&&!es("Edge"),JS=-1!=Nd().toLowerCase().indexOf("webkit")&&!es("Edge");function GI(){var n=Et.document;return n?n.documentMode:void 0}e:{var qI="",sv=(n=Nd(),Bp?/rv:([^\);]+)(\)|;)/.exec(n):QS?/Edge\/([\d\.]+)/.exec(n):Qo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):JS?/WebKit\/(\S+)/.exec(n):zI?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(sv&&(qI=sv?sv[1]:""),Qo){var ov=GI();if(null!=ov&&ov>parseFloat(qI)){WI=String(ov);break e}}WI=qI}var g1=Et.document&&Qo&&(GI()||parseInt(WI,10))||void 0;function $p(n,e){if(Mr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Bp){e:{try{iv(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:m1[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&$p.$.h.call(this)}}wr($p,Mr);var m1={2:"touch",3:"pen",4:"mouse"};$p.prototype.h=function(){$p.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Od="closure_listenable_"+(1e6*Math.random()|0),y1=0;function _1(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++y1,this.fa=this.ia=!1}function uv(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function KI(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function eA(n){const e={};for(const t in n)e[t]=n[t];return e}const s="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function o(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let u=0;u<s.length;u++)t=s[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function a(n){this.src=n,this.g={},this.h=0}function l(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],i=nv(r,e);(u=0<=i)&&Array.prototype.splice.call(r,i,1),u&&(uv(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function d(n,e,t,r){for(var i=0;i<n.length;++i){var u=n[i];if(!u.fa&&u.listener==e&&u.capture==!!t&&u.la==r)return i}return-1}a.prototype.add=function(n,e,t,r,i){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var c=d(n,e,r,i);return-1<c?(e=n[c],t||(e.ia=!1)):((e=new _1(e,this.src,u,!!r,i)).ia=t,n.push(e)),e};var p="closure_lm_"+(1e6*Math.random()|0),y={};function E(n,e,t,r,i){if(r&&r.once)return A(n,e,t,r,i);if(Array.isArray(e)){for(var u=0;u<e.length;u++)E(n,e[u],t,r,i);return null}return t=We(t),n&&n[Od]?n.O(e,t,Mc(r)?!!r.capture:!!r,i):D(n,e,t,!1,r,i)}function D(n,e,t,r,i,u){if(!e)throw Error("Invalid event type");var c=Mc(i)?!!i.capture:!!i,g=Me(n);if(g||(n[p]=g=new a(n)),(t=g.add(e,t,r,c,u)).proxy)return t;if(r=function b(){const e=ae;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)ZS||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(z(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function A(n,e,t,r,i){if(Array.isArray(e)){for(var u=0;u<e.length;u++)A(n,e[u],t,r,i);return null}return t=We(t),n&&n[Od]?n.P(e,t,Mc(r)?!!r.capture:!!r,i):D(n,e,t,!0,r,i)}function x(n,e,t,r,i){if(Array.isArray(e))for(var u=0;u<e.length;u++)x(n,e[u],t,r,i);else r=Mc(r)?!!r.capture:!!r,t=We(t),n&&n[Od]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=d(u=n.g[e],t,r,i))&&(uv(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=Me(n))&&(e=n.g[e.toString()],n=-1,e&&(n=d(e,t,r,i)),(t=-1<n?e[n]:null)&&L(t))}function L(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Od])l(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(z(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Me(e))?(l(t,n),0==t.h&&(t.src=null,e[p]=null)):uv(n)}}}function z(n){return n in y?y[n]:y[n]="on"+n}function ae(n,e){if(n.fa)n=!0;else{e=new $p(e,this);var t=n.listener,r=n.la||n.src;n.ia&&L(n),n=t.call(r,e)}return n}function Me(n){return(n=n[p])instanceof a?n:null}var Le="__closure_events_fn_"+(1e9*Math.random()>>>0);function We(n){return"function"==typeof n?n:(n[Le]||(n[Le]=function(e){return n.handleEvent(e)}),n[Le])}function je(){ru.call(this),this.i=new a(this),this.S=this,this.J=null}function le(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Mr(e,n);else if(e instanceof Mr)e.target=e.target||n;else{var i=e;o(e=new Mr(r,n),i)}if(i=!0,t)for(var u=t.length-1;0<=u;u--){var c=e.g=t[u];i=yt(c,r,!0,e)&&i}if(i=yt(c=e.g=n,r,!0,e)&&i,i=yt(c,r,!1,e)&&i,t)for(u=0;u<t.length;u++)i=yt(c=e.g=t[u],r,!1,e)&&i}function yt(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,u=0;u<e.length;++u){var c=e[u];if(c&&!c.fa&&c.capture==t){var g=c.listener,_=c.la||c.src;c.ia&&l(n.i,c),i=!1!==g.call(_,r)&&i}}return i&&!r.defaultPrevented}wr(je,ru),je.prototype[Od]=!0,je.prototype.removeEventListener=function(n,e,t,r){x(this,n,e,t,r)},je.prototype.N=function(){if(je.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)uv(t[r]);delete n.g[e],n.h--}}this.J=null},je.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},je.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var un=Et.JSON.stringify;function w1(){var n=tA;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var E1=new class Rn{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new pL,n=>n.reset());class pL{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function gL(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function mL(n){Et.setTimeout(()=>{throw n},0)}let cv,lv=!1,tA=new class fL{constructor(){this.h=this.g=null}add(e,t){const r=E1.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},I1=()=>{const n=Et.Promise.resolve(void 0);cv=()=>{n.then(yL)}};var yL=()=>{for(var n;n=w1();){try{n.h.call(n.g)}catch(t){mL(t)}var e=E1;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}lv=!1};function ZI(n,e){je.call(this),this.h=n||1,this.g=e||Et,this.j=Xn(this.qb,this),this.l=Date.now()}function nA(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function rA(n,e,t){if("function"==typeof n)t&&(n=Xn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Xn(n.handleEvent,n)}return 2147483647<Number(e)?-1:Et.setTimeout(n,e||0)}function D1(n){n.g=rA(()=>{n.g=null,n.i&&(n.i=!1,D1(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}wr(ZI,je),(Ue=ZI.prototype).ga=!1,Ue.T=null,Ue.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),le(this,"tick"),this.ga&&(nA(this),this.start()))}},Ue.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ue.N=function(){ZI.$.N.call(this),nA(this),delete this.g};class _L extends ru{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:D1(this)}N(){super.N(),this.g&&(Et.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dv(n){ru.call(this),this.h=n,this.g={}}wr(dv,ru);var C1=[];function b1(n,e,t,r){Array.isArray(t)||(t&&(C1[0]=t.toString()),t=C1);for(var i=0;i<t.length;i++){var u=E(e,t[i],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function T1(n){KI(n.g,function(e,t){this.g.hasOwnProperty(t)&&L(e)},n),n.g={}}function YI(){this.g=!0}function jp(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function IL(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var u=i[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var c=1;c<i.length;c++)i[c]=""}}}return un(t)}catch{return e}}(n,t)+(r?" "+r:"")})}dv.prototype.N=function(){dv.$.N.call(this),T1(this)},dv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},YI.prototype.Ea=function(){this.g=!1},YI.prototype.info=function(){};var Pd={},S1=null;function QI(){return S1=S1||new je}function A1(n){Mr.call(this,Pd.Ta,n)}function hv(n){const e=QI();le(e,new A1(e))}function M1(n,e){Mr.call(this,Pd.STAT_EVENT,n),this.stat=e}function yi(n){const e=QI();le(e,new M1(e,n))}function x1(n,e){Mr.call(this,Pd.Ua,n),this.size=e}function fv(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Et.setTimeout(function(){n()},e)}Pd.Ta="serverreachability",wr(A1,Mr),Pd.STAT_EVENT="statevent",wr(M1,Mr),Pd.Ua="timingevent",wr(x1,Mr);var JI={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},R1={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function iA(){}function O1(){}iA.prototype.h=null;var aA,pv={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function sA(){Mr.call(this,"d")}function oA(){Mr.call(this,"c")}function XI(){}function gv(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new dv(this),this.P=DL,this.V=new ZI(n=Up?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new P1}function P1(){this.i=null,this.g="",this.h=!1}wr(sA,Mr),wr(oA,Mr),wr(XI,iA),XI.prototype.g=function(){return new XMLHttpRequest},XI.prototype.i=function(){return{}},aA=new XI;var DL=45e3,uA={},eD={};function cA(n,e,t){n.L=1,n.v=iD(iu(e)),n.s=t,n.S=!0,k1(n,null)}function k1(n,e){n.G=Date.now(),mv(n),n.A=iu(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),G1(t.i,"t",r),n.C=0,t=n.l.J,n.h=new P1,n.g=gN(n.l,t?e:null,!n.s),0<n.O&&(n.M=new _L(Xn(n.Pa,n,n.g),n.O)),b1(n.U,n.g,"readystatechange",n.nb),e=n.I?eA(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),hv(),function vL(n,e,t,r,i,u){n.info(function(){if(n.g)if(u)for(var c="",g=u.split("&"),_=0;_<g.length;_++){var I=g[_].split("=");if(1<I.length){var C=I[0];I=I[1];var S=C.split("_");c=2<=S.length&&"type"==S[1]?c+(C+"=")+I+"&":c+(C+"=redacted&")}}else c=null;else c=u;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.W,n.s)}function F1(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function L1(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=CL(n,t),i==eD){4==e&&(n.o=4,yi(14),r=!1),jp(n.j,n.m,null,"[Incomplete Response]");break}if(i==uA){n.o=4,yi(15),jp(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}jp(n.j,n.m,i,null),lA(n,i)}F1(n)&&i!=eD&&i!=uA&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,yi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),yA(e),e.M=!0,yi(11))):(jp(n.j,n.m,t,"[Invalid Chunked Response]"),kd(n),yv(n))}function CL(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?eD:(t=Number(e.substring(t,r)),isNaN(t)?uA:(r+=1)+t>e.length?eD:(e=e.slice(r,r+t),n.C=r+t,e))}function mv(n){n.Y=Date.now()+n.P,V1(n,n.P)}function V1(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=fv(Xn(n.lb,n),e)}function tD(n){n.B&&(Et.clearTimeout(n.B),n.B=null)}function yv(n){0==n.l.H||n.J||dN(n.l,n)}function kd(n){tD(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,nA(n.V),T1(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function lA(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||dA(t.i,n)))if(!n.K&&dA(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;lD(t),uD(t)}mA(t),yi(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=fv(Xn(t.ib,t),6e3));if(1>=K1(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Ld(t,11)}else if((n.K||t.g==n)&&lD(t),!xc(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let I=i[e];if(t.V=I[0],I=I[1],2==t.H)if("c"==I[0]){t.K=I[1],t.pa=I[2];const C=I[3];null!=C&&(t.ra=C,t.l.info("VER="+t.ra));const S=I[4];null!=S&&(t.Ga=S,t.l.info("SVER="+t.Ga));const k=I[5];null!=k&&"number"==typeof k&&0<k&&(t.L=r=1.5*k,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const $=n.g;if($){const se=$.g?$.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(se){var u=r.i;u.g||-1==se.indexOf("spdy")&&-1==se.indexOf("quic")&&-1==se.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(hA(u,u.h),u.h=null))}if(r.F){const ve=$.g?$.g.getResponseHeader("X-HTTP-Session-Id"):null;ve&&(r.Da=ve,_n(r.I,r.F,ve))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var c=n;if((r=t).wa=pN(r,r.J?r.pa:null,r.Y),c.K){Z1(r.i,c);var g=c,_=r.L;_&&g.setTimeout(_),g.B&&(tD(g),mv(g)),r.g=c}else cN(r);0<t.j.length&&cD(t)}else"stop"!=I[0]&&"close"!=I[0]||Ld(t,7);else 3==t.H&&("stop"==I[0]||"close"==I[0]?"stop"==I[0]?Ld(t,7):gA(t):"noop"!=I[0]&&t.h&&t.h.Aa(I),t.A=0)}hv()}catch{}}function U1(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Ss(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function TL(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Ss(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function bL(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Ss(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,u=0;u<i;u++)e.call(void 0,r[u],t&&t[u],n)}(Ue=gv.prototype).setTimeout=function(n){this.P=n},Ue.nb=function(n){n=n.target;const e=this.M;e&&3==Jo(n)?e.l():this.Pa(n)},Ue.Pa=function(n){try{if(n==this.g)e:{const C=Jo(this.g);var e=this.g.Ia();if(this.g.da(),!(3>C)&&(3!=C||Up||this.g&&(this.h.h||this.g.ja()||rN(this.g)))){this.J||4!=C||7==e||hv(),tD(this);var t=this.g.da();this.ca=t;t:if(F1(this)){var r=rN(this.g);n="";var i=r.length,u=4==Jo(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){kd(this),yv(this);var c="";break t}this.h.i=new Et.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ja();if(this.i=200==t,function wL(n,e,t,r,i,u,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+u+" "+c})}(this.j,this.u,this.A,this.m,this.W,C,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var g,_=this.g;if((g=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!xc(g)){var I=g;break t}}I=null}if(!(t=I)){this.i=!1,this.o=3,yi(12),kd(this),yv(this);break e}jp(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,lA(this,t)}this.S?(L1(this,C,c),Up&&this.i&&3==C&&(b1(this.U,this.V,"tick",this.mb),this.V.start())):(jp(this.j,this.m,c,null),lA(this,c)),4==C&&kd(this),this.i&&!this.J&&(4==C?dN(this.l,this):(this.i=!1,mv(this)))}else(function zL(n){const e={};n=(n.g&&2<=Jo(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(xc(n[r]))continue;var t=gL(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const u=e[i]||[];e[i]=u,u.push(t)}!function v1(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<c.indexOf("Unknown SID")?(this.o=3,yi(12)):(this.o=0,yi(13)),kd(this),yv(this)}}}catch{}},Ue.mb=function(){if(this.g){var n=Jo(this.g),e=this.g.ja();this.C<e.length&&(tD(this),L1(this,n,e),this.i&&4!=n&&mv(this))}},Ue.cancel=function(){this.J=!0,kd(this)},Ue.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function EL(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(hv(),yi(17)),kd(this),this.o=2,yv(this)):V1(this,this.Y-n)};var B1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fd(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Fd){this.h=n.h,nD(this,n.j),this.s=n.s,this.g=n.g,rD(this,n.m),this.l=n.l;var e=n.i,t=new wv;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),$1(this,t),this.o=n.o}else n&&(e=String(n).match(B1))?(this.h=!1,nD(this,e[1]||"",!0),this.s=_v(e[2]||""),this.g=_v(e[3]||"",!0),rD(this,e[4]),this.l=_v(e[5]||"",!0),$1(this,e[6]||"",!0),this.o=_v(e[7]||"")):(this.h=!1,this.i=new wv(null,this.h))}function iu(n){return new Fd(n)}function nD(n,e,t){n.j=t?_v(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function rD(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function $1(n,e,t){e instanceof wv?(n.i=e,function OL(n,e){e&&!n.j&&(Rc(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(H1(this,r),G1(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=vv(e,RL)),n.i=new wv(e,n.h))}function _n(n,e,t){n.i.set(e,t)}function iD(n){return _n(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function _v(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function vv(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,AL),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function AL(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Fd.prototype.toString=function(){var n=[],e=this.j;e&&n.push(vv(e,j1,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(vv(e,j1,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(vv(t,"/"==t.charAt(0)?xL:ML,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",vv(t,NL)),n.join("")};var j1=/[#\/\?@]/g,ML=/[#\?:]/g,xL=/[#\?]/g,RL=/[#\?@]/g,NL=/#/g;function wv(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Rc(n){n.g||(n.g=new Map,n.h=0,n.i&&function SL(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var u=n[t].substring(0,r);i=n[t].substring(r+1)}else u=n[t];e(u,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function H1(n,e){Rc(n),e=Hp(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function z1(n,e){return Rc(n),e=Hp(n,e),n.g.has(e)}function G1(n,e,t){H1(n,e),0<t.length&&(n.i=null,n.g.set(Hp(n,e),rv(t)),n.h+=t.length)}function Hp(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function W1(n){this.l=n||kL,n=Et.PerformanceNavigationTiming?0<(n=Et.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Et.g&&Et.g.Ka&&Et.g.Ka()&&Et.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ue=wv.prototype).add=function(n,e){Rc(this),this.i=null,n=Hp(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Ue.forEach=function(n,e){Rc(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},Ue.ta=function(){Rc(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let u=0;u<i.length;u++)t.push(e[r])}return t},Ue.Z=function(n){Rc(this);let e=[];if("string"==typeof n)z1(this,n)&&(e=e.concat(this.g.get(Hp(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Ue.set=function(n,e){return Rc(this),this.i=null,z1(this,n=Hp(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Ue.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Ue.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),c=this.Z(r);for(r=0;r<c.length;r++){var i=u;""!==c[r]&&(i+="="+encodeURIComponent(String(c[r]))),n.push(i)}}return this.i=n.join("&")};var kL=10;function q1(n){return!!n.h||!!n.g&&n.g.size>=n.j}function K1(n){return n.h?1:n.g?n.g.size:0}function dA(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function hA(n,e){n.g?n.g.add(e):n.h=e}function Z1(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Y1(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return rv(n.i)}W1.prototype.cancel=function(){if(this.i=Y1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var FL=class{stringify(n){return Et.JSON.stringify(n,void 0)}parse(n){return Et.JSON.parse(n,void 0)}};function LL(){this.g=new FL}function VL(n,e,t){const r=t||"";try{U1(n,function(i,u){let c=i;Mc(i)&&(c=un(i)),e.push(r+u+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function sD(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ev(n){this.l=n.fc||null,this.j=n.ob||!1}function oD(n,e){je.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=fA,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}wr(Ev,iA),Ev.prototype.g=function(){return new oD(this.l,this.j)},Ev.prototype.i=function(n){return function(){return n}}({}),wr(oD,je);var fA=0;function Q1(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Iv(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Dv(n)}function Dv(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Ue=oD.prototype).open=function(n,e){if(this.readyState!=fA)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Dv(this)},Ue.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Et).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ue.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Iv(this)),this.readyState=fA},Ue.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Dv(this)),this.g&&(this.readyState=3,Dv(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Et.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Q1(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Ue.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Iv(this):Dv(this),3==this.readyState&&Q1(this)}},Ue.Za=function(n){this.g&&(this.response=this.responseText=n,Iv(this))},Ue.Ya=function(n){this.g&&(this.response=n,Iv(this))},Ue.ka=function(){this.g&&Iv(this)},Ue.setRequestHeader=function(n,e){this.v.append(n,e)},Ue.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Ue.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(oD.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var BL=Et.JSON.parse;function Ln(n){je.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=J1,this.L=this.M=!1}wr(Ln,je);var J1="",$L=/^https?$/i,jL=["POST","PUT"];function X1(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,eN(n),aD(n)}function eN(n){n.F||(n.F=!0,le(n,"complete"),le(n,"error"))}function tN(n){if(n.h&&typeof Q_<"u"&&(!n.C[1]||4!=Jo(n)||2!=n.da()))if(n.v&&4==Jo(n))rA(n.La,0,n);else if(le(n,"readystatechange"),4==Jo(n)){n.h=!1;try{const c=n.da();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===c){var i=String(n.I).match(B1)[1]||null;!i&&Et.self&&Et.self.location&&(i=Et.self.location.protocol.slice(0,-1)),r=!$L.test(i?i.toLowerCase():"")}t=r}if(t)le(n,"complete"),le(n,"success");else{n.m=6;try{var u=2<Jo(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.da()+"]",eN(n)}}finally{aD(n)}}}function aD(n,e){if(n.g){nN(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||le(n,"ready");try{t.onreadystatechange=r}catch{}}}function nN(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Et.clearTimeout(n.A),n.A=null)}function Jo(n){return n.g?n.g.readyState:0}function rN(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case J1:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function iN(n){let e="";return KI(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function pA(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=iN(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):_n(n,e,t))}function Cv(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function sN(n){this.Ga=0,this.j=[],this.l=new YI,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Cv("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Cv("baseRetryDelayMs",5e3,n),this.hb=Cv("retryDelaySeedMs",1e4,n),this.eb=Cv("forwardChannelMaxRetries",2,n),this.xa=Cv("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new W1(n&&n.concurrentRequestLimit),this.Ja=new LL,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function gA(n){if(oN(n),3==n.H){var e=n.W++,t=iu(n.I);if(_n(t,"SID",n.K),_n(t,"RID",e),_n(t,"TYPE","terminate"),bv(n,t),(e=new gv(n,n.l,e)).L=2,e.v=iD(iu(t)),t=!1,Et.navigator&&Et.navigator.sendBeacon)try{t=Et.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Et.Image&&((new Image).src=e.v,t=!0),t||(e.g=gN(e.l,null),e.g.ha(e.v)),e.G=Date.now(),mv(e)}fN(n)}function uD(n){n.g&&(yA(n),n.g.cancel(),n.g=null)}function oN(n){uD(n),n.u&&(Et.clearTimeout(n.u),n.u=null),lD(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Et.clearTimeout(n.m),n.m=null)}function cD(n){if(!q1(n.i)&&!n.m){n.m=!0;var e=n.Na;cv||I1(),lv||(cv(),lv=!0),tA.add(e,n),n.C=0}}function aN(n,e){var t;t=e?e.m:n.W++;const r=iu(n.I);_n(r,"SID",n.K),_n(r,"RID",t),_n(r,"AID",n.V),bv(n,r),n.o&&n.s&&pA(r,n.o,n.s),t=new gv(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=uN(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),hA(n.i,t),cA(t,r,e)}function bv(n,e){n.na&&KI(n.na,function(t,r){_n(e,r,t)}),n.h&&U1({},function(t,r){_n(e,r,t)})}function uN(n,e,t){t=Math.min(n.j.length,t);var r=n.h?Xn(n.h.Va,n.h,n):null;e:{var i=n.j;let u=-1;for(;;){const c=["count="+t];-1==u?0<t?(u=i[0].g,c.push("ofs="+u)):u=0:c.push("ofs="+u);let g=!0;for(let _=0;_<t;_++){let I=i[_].g;const C=i[_].map;if(I-=u,0>I)u=Math.max(0,i[_].g-100),g=!1;else try{VL(C,c,"req"+I+"_")}catch{r&&r(C)}}if(g){r=c.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function cN(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;cv||I1(),lv||(cv(),lv=!0),tA.add(e,n),n.A=0}}function mA(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=fv(Xn(n.Ma,n),hN(n,n.A)),n.A++,0))}function yA(n){null!=n.B&&(Et.clearTimeout(n.B),n.B=null)}function lN(n){n.g=new gv(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=iu(n.wa);_n(e,"RID","rpc"),_n(e,"SID",n.K),_n(e,"AID",n.V),_n(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&_n(e,"TO",n.qa),_n(e,"TYPE","xmlhttp"),bv(n,e),n.o&&n.s&&pA(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=iD(iu(e)),t.s=null,t.S=!0,k1(t,n)}function lD(n){null!=n.v&&(Et.clearTimeout(n.v),n.v=null)}function dN(n,e){var t=null;if(n.g==e){lD(n),yA(n),n.g=null;var r=2}else{if(!dA(n.i,e))return;t=e.F,Z1(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;le(r=QI(),new x1(r,t)),cD(n)}else cN(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function GL(n,e){return!(K1(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=fv(Xn(n.Na,n,e),hN(n,n.C)),n.C++,0)))}(n,e)||2==r&&mA(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Ld(n,5);break;case 4:Ld(n,10);break;case 3:Ld(n,6);break;default:Ld(n,2)}}function hN(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Ld(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=Xn(n.pb,n);t||(t=new Fd("//www.google.com/images/cleardot.gif"),Et.location&&"http"==Et.location.protocol||nD(t,"https"),iD(t)),function UL(n,e){const t=new YI;if(Et.Image){const r=new Image;r.onload=tv(sD,t,r,"TestLoadImage: loaded",!0,e),r.onerror=tv(sD,t,r,"TestLoadImage: error",!1,e),r.onabort=tv(sD,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=tv(sD,t,r,"TestLoadImage: timeout",!1,e),Et.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else yi(2);n.H=0,n.h&&n.h.za(e),fN(n),oN(n)}function fN(n){if(n.H=0,n.ma=[],n.h){const e=Y1(n.i);(0!=e.length||0!=n.j.length)&&(HI(n.ma,e),HI(n.ma,n.j),n.i.i.length=0,rv(n.j),n.j.length=0),n.h.ya()}}function pN(n,e,t){var r=t instanceof Fd?iu(t):new Fd(t);if(""!=r.g)e&&(r.g=e+"."+r.g),rD(r,r.m);else{var i=Et.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var u=new Fd(null);r&&nD(u,r),e&&(u.g=e),i&&rD(u,i),t&&(u.l=t),r=u}return e=n.Da,(t=n.F)&&e&&_n(r,t,e),_n(r,"VER",n.ra),bv(n,r),r}function gN(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ln(t&&n.Ha&&!n.va?new Ev({ob:!0}):n.va)).Oa(n.J),e}function mN(){}function dD(){if(Qo&&!(10<=Number(g1)))throw Error("Environmental error: no available transport.")}function ts(n,e){je.call(this),this.g=new sN(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!xc(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!xc(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new zp(this)}function yN(n){sA.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function _N(){oA.call(this),this.status=1}function zp(n){this.g=n}function eo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function _A(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var u=n.g[3],c=(e=n.g[0])+(u^(t=n.g[1])&((i=n.g[2])^u))+r[0]+3614090360&4294967295;c=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=t+(c<<7&4294967295|c>>>25))+((c=u+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^u&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(u^e))+r[3]+3250441966&4294967295)<<22&4294967295|c>>>10))+((c=e+(u^t&(i^u))+r[4]+4118548399&4294967295)<<7&4294967295|c>>>25))+((c=u+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^u&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(u^e))+r[7]+4249261313&4294967295)<<22&4294967295|c>>>10))+((c=e+(u^t&(i^u))+r[8]+1770035416&4294967295)<<7&4294967295|c>>>25))+((c=u+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^u&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(u^e))+r[11]+2304563134&4294967295)<<22&4294967295|c>>>10))+((c=e+(u^t&(i^u))+r[12]+1804603682&4294967295)<<7&4294967295|c>>>25))+((c=u+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^u&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(u^e))+r[15]+1236535329&4294967295)<<22&4294967295|c>>>10))+((c=e+(i^u&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|c>>>27))+((c=u+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(u^e))+r[11]+643717713&4294967295)<<14&4294967295|c>>>18))+((c=t+(u^e&(i^u))+r[0]+3921069994&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^u&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|c>>>27))+((c=u+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(u^e))+r[15]+3634488961&4294967295)<<14&4294967295|c>>>18))+((c=t+(u^e&(i^u))+r[4]+3889429448&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^u&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|c>>>27))+((c=u+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(u^e))+r[3]+4107603335&4294967295)<<14&4294967295|c>>>18))+((c=t+(u^e&(i^u))+r[8]+1163531501&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^u&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|c>>>27))+((c=u+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(u^e))+r[7]+1735328473&4294967295)<<14&4294967295|c>>>18))+((c=t+(u^e&(i^u))+r[12]+2368359562&4294967295)<<20&4294967295|c>>>12))+((c=e+(t^i^u)+r[5]+4294588738&4294967295)<<4&4294967295|c>>>28))+((c=u+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|c>>>21))+((c=i+(u^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^u^e)+r[14]+4259657740&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^u)+r[1]+2763975236&4294967295)<<4&4294967295|c>>>28))+((c=u+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|c>>>21))+((c=i+(u^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^u^e)+r[10]+3200236656&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^u)+r[13]+681279174&4294967295)<<4&4294967295|c>>>28))+((c=u+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|c>>>21))+((c=i+(u^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^u^e)+r[6]+76029189&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^u)+r[9]+3654602809&4294967295)<<4&4294967295|c>>>28))+((c=u+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|c>>>21))+((c=i+(u^e^t)+r[15]+530742520&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^u^e)+r[2]+3299628645&4294967295)<<23&4294967295|c>>>9))+((c=e+(i^(t|~u))+r[0]+4096336452&4294967295)<<6&4294967295|c>>>26))+((c=u+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(u|~t))+r[14]+2878612391&4294967295)<<15&4294967295|c>>>17))+((c=t+(u^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|c>>>11))+((c=e+(i^(t|~u))+r[12]+1700485571&4294967295)<<6&4294967295|c>>>26))+((c=u+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(u|~t))+r[10]+4293915773&4294967295)<<15&4294967295|c>>>17))+((c=t+(u^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|c>>>11))+((c=e+(i^(t|~u))+r[8]+1873313359&4294967295)<<6&4294967295|c>>>26))+((c=u+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(u|~t))+r[6]+2734768916&4294967295)<<15&4294967295|c>>>17))+((c=t+(u^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|c>>>11))+((u=(e=t+((c=e+(i^(t|~u))+r[4]+4149444226&4294967295)<<6&4294967295|c>>>26))+((c=u+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|c>>>22))^((i=u+((c=i+(e^(u|~t))+r[2]+718787259&4294967295)<<15&4294967295|c>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(c<<21&4294967295|c>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+u&4294967295}function nn(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var u=0|n[i];r&&u==e||(t[i]=u,r=!1)}this.g=t}(Ue=Ln.prototype).Oa=function(n){this.M=n},Ue.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():aA.g(),this.C=function N1(n){return n.h||(n.h=n.i())}(this.u?this.u:aA),this.g.onreadystatechange=Xn(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(u){return void X1(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),i=Et.FormData&&n instanceof Et.FormData,!(0<=nv(jL,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,c]of t)this.g.setRequestHeader(u,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{nN(this),0<this.B&&((this.L=function HL(n){return Qo&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Xn(this.ua,this)):this.A=rA(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){X1(this,u)}},Ue.ua=function(){typeof Q_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,le(this,"timeout"),this.abort(8))},Ue.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,le(this,"complete"),le(this,"abort"),aD(this))},Ue.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),aD(this,!0)),Ln.$.N.call(this)},Ue.La=function(){this.s||(this.G||this.v||this.l?tN(this):this.kb())},Ue.kb=function(){tN(this)},Ue.isActive=function(){return!!this.g},Ue.da=function(){try{return 2<Jo(this)?this.g.status:-1}catch{return-1}},Ue.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ue.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),BL(e)}},Ue.Ia=function(){return this.m},Ue.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ue=sN.prototype).ra=8,Ue.H=1,Ue.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new gv(this,this.l,n);let u=this.s;if(this.U&&(u?(u=eA(u),o(u,this.U)):u=this.U),null!==this.o||this.O||(i.I=u,u=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=uN(this,i,e),_n(t=iu(this.I),"RID",n),_n(t,"CVER",22),this.F&&_n(t,"X-HTTP-Session-Id",this.F),bv(this,t),u&&(this.O?e="headers="+encodeURIComponent(String(iN(u)))+"&"+e:this.o&&pA(t,this.o,u)),hA(this.i,i),this.bb&&_n(t,"TYPE","init"),this.P?(_n(t,"$req",e),_n(t,"SID","null"),i.aa=!0,cA(i,t,null)):cA(i,t,e),this.H=2}}else 3==this.H&&(n?aN(this,n):0==this.j.length||q1(this.i)||aN(this))},Ue.Ma=function(){if(this.u=null,lN(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=fv(Xn(this.jb,this),n)}},Ue.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,yi(10),uD(this),lN(this))},Ue.ib=function(){null!=this.v&&(this.v=null,uD(this),mA(this),yi(19))},Ue.pb=function(n){n?(this.l.info("Successfully pinged google.com"),yi(2)):(this.l.info("Failed to ping google.com"),yi(1))},Ue.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ue=mN.prototype).Ba=function(){},Ue.Aa=function(){},Ue.za=function(){},Ue.ya=function(){},Ue.isActive=function(){return!0},Ue.Va=function(){},dD.prototype.g=function(n,e){return new ts(n,e)},wr(ts,je),ts.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;yi(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=pN(n,null,n.Y),cD(n)},ts.prototype.close=function(){gA(this.g)},ts.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=un(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&cD(e)},ts.prototype.N=function(){this.g.h=null,delete this.j,gA(this.g),delete this.g,ts.$.N.call(this)},wr(yN,sA),wr(_N,oA),wr(zp,mN),zp.prototype.Ba=function(){le(this.g,"a")},zp.prototype.Aa=function(n){le(this.g,new yN(n))},zp.prototype.za=function(n){le(this.g,new _N)},zp.prototype.ya=function(){le(this.g,"b")},wr(eo,function WL(){this.blockSize=-1}),eo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},eo.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,u=0;u<e;){if(0==i)for(;u<=t;)_A(this,n,u),u+=this.blockSize;if("string"==typeof n){for(;u<e;)if(r[i++]=n.charCodeAt(u++),i==this.blockSize){_A(this,r),i=0;break}}else for(;u<e;)if(r[i++]=n[u++],i==this.blockSize){_A(this,r),i=0;break}}this.h=i,this.i+=e},eo.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var qL={};function vA(n){return-128<=n&&128>n?function YS(n,e){var t=qL;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new nn([0|e],0>e?-1:0)}):new nn([0|n],0>n?-1:0)}function Xo(n){if(isNaN(n)||!isFinite(n))return Gp;if(0>n)return Ur(Xo(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=wA;return new nn(e,0)}var wA=4294967296,Gp=vA(0),EA=vA(1),wN=vA(16777216);function su(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function As(n){return-1==n.h}function Ur(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new nn(t,~n.h).add(EA)}function hD(n,e){return n.add(Ur(e))}function fD(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Tv(n,e){this.g=n,this.h=e}function pD(n,e){if(su(e))throw Error("division by zero");if(su(n))return new Tv(Gp,Gp);if(As(n))return e=pD(Ur(n),e),new Tv(Ur(e.g),Ur(e.h));if(As(e))return e=pD(n,Ur(e)),new Tv(Ur(e.g),e.h);if(30<n.g.length){if(As(n)||As(e))throw Error("slowDivide_ only works with positive integers.");for(var t=EA,r=e;0>=r.X(n);)t=EN(t),r=EN(r);var i=Wp(t,1),u=Wp(r,1);for(r=Wp(r,2),t=Wp(t,2);!su(r);){var c=u.add(r);0>=c.X(n)&&(i=i.add(t),u=c),r=Wp(r,1),t=Wp(t,1)}return e=hD(n,i.R(e)),new Tv(i,e)}for(i=Gp;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),c=(u=Xo(t)).R(e);As(c)||0<c.X(n);)c=(u=Xo(t-=r)).R(e);su(u)&&(u=EA),i=i.add(u),n=hD(n,c)}return new Tv(i,n)}function EN(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new nn(t,n.h)}function Wp(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],u=0;u<r;u++)i[u]=0<e?n.D(u+t)>>>e|n.D(u+t+1)<<32-e:n.D(u+t);return new nn(i,n.h)}(Ue=nn.prototype).ea=function(){if(As(this))return-Ur(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:wA+r)*e,e*=wA}return n},Ue.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(su(this))return"0";if(As(this))return"-"+Ur(this).toString(n);for(var e=Xo(Math.pow(n,6)),t=this,r="";;){var i=pD(t,e).g,u=((0<(t=hD(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(su(t=i))return u+r;for(;6>u.length;)u="0"+u;r=u+r}},Ue.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Ue.X=function(n){return As(n=hD(this,n))?-1:su(n)?0:1},Ue.abs=function(){return As(this)?Ur(this):this},Ue.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var u=r+(65535&this.D(i))+(65535&n.D(i)),c=(u>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=c>>>16,t[i]=(c&=65535)<<16|(u&=65535)}return new nn(t,-2147483648&t[t.length-1]?-1:0)},Ue.R=function(n){if(su(this)||su(n))return Gp;if(As(this))return As(n)?Ur(this).R(Ur(n)):Ur(Ur(this).R(n));if(As(n))return Ur(this.R(Ur(n)));if(0>this.X(wN)&&0>n.X(wN))return Xo(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var u=this.D(r)>>>16,c=65535&this.D(r),g=n.D(i)>>>16,_=65535&n.D(i);t[2*r+2*i]+=c*_,fD(t,2*r+2*i),t[2*r+2*i+1]+=u*_,fD(t,2*r+2*i+1),t[2*r+2*i+1]+=c*g,fD(t,2*r+2*i+1),t[2*r+2*i+2]+=u*g,fD(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new nn(t,0)},Ue.gb=function(n){return pD(this,n).h},Ue.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new nn(t,this.h&n.h)},Ue.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new nn(t,this.h|n.h)},Ue.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new nn(t,this.h^n.h)},dD.prototype.createWebChannel=dD.prototype.g,ts.prototype.send=ts.prototype.u,ts.prototype.open=ts.prototype.m,ts.prototype.close=ts.prototype.close,JI.NO_ERROR=0,JI.TIMEOUT=8,JI.HTTP_ERROR=6,R1.COMPLETE="complete",O1.EventType=pv,pv.OPEN="a",pv.CLOSE="b",pv.ERROR="c",pv.MESSAGE="d",je.prototype.listen=je.prototype.O,Ln.prototype.listenOnce=Ln.prototype.P,Ln.prototype.getLastError=Ln.prototype.Sa,Ln.prototype.getLastErrorCode=Ln.prototype.Ia,Ln.prototype.getStatus=Ln.prototype.da,Ln.prototype.getResponseJson=Ln.prototype.Wa,Ln.prototype.getResponseText=Ln.prototype.ja,Ln.prototype.send=Ln.prototype.ha,Ln.prototype.setWithCredentials=Ln.prototype.Oa,eo.prototype.digest=eo.prototype.l,eo.prototype.reset=eo.prototype.reset,eo.prototype.update=eo.prototype.j,nn.prototype.add=nn.prototype.add,nn.prototype.multiply=nn.prototype.R,nn.prototype.modulo=nn.prototype.gb,nn.prototype.compare=nn.prototype.X,nn.prototype.toNumber=nn.prototype.ea,nn.prototype.toString=nn.prototype.toString,nn.prototype.getBits=nn.prototype.D,nn.fromNumber=Xo,nn.fromString=function vN(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Ur(vN(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Xo(Math.pow(e,8)),r=Gp,i=0;i<n.length;i+=8){var u=Math.min(8,n.length-i),c=parseInt(n.substring(i,i+u),e);8>u?(u=Xo(Math.pow(e,u)),r=r.R(u).add(Xo(c))):r=(r=r.R(t)).add(Xo(c))}return r};var KL=Jr.createWebChannelTransport=function(){return new dD},ZL=Jr.getStatEventTarget=function(){return QI()},IA=Jr.ErrorCode=JI,YL=Jr.EventType=R1,QL=Jr.Event=Pd,IN=Jr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},JL=Jr.FetchXmlHttpFactory=Ev,gD=Jr.WebChannel=O1,XL=Jr.XhrIo=Ln,e2=Jr.Md5=eo,qp=Jr.Integer=nn;const DN="@firebase/firestore";class xr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xr.UNAUTHENTICATED=new xr(null),xr.GOOGLE_CREDENTIALS=new xr("google-credentials-uid"),xr.FIRST_PARTY=new xr("first-party-uid"),xr.MOCK_USER=new xr("mock-user");let Kp="9.23.0";const Nc=new Ri.Yd("@firebase/firestore");function DA(){return Nc.logLevel}function Ee(n,...e){if(Nc.logLevel<=Ri.in.DEBUG){const t=e.map(CA);Nc.debug(`Firestore (${Kp}): ${n}`,...t)}}function er(n,...e){if(Nc.logLevel<=Ri.in.ERROR){const t=e.map(CA);Nc.error(`Firestore (${Kp}): ${n}`,...t)}}function to(n,...e){if(Nc.logLevel<=Ri.in.WARN){const t=e.map(CA);Nc.warn(`Firestore (${Kp}): ${n}`,...t)}}function CA(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function qe(n="Unexpected state"){const e=`FIRESTORE (${Kp}) INTERNAL ASSERTION FAILED: `+n;throw er(e),new Error(e)}function it(n,e){n||qe()}function Be(n,e){return n}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends xt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Er{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class CN{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class t2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(xr.UNAUTHENTICATED))}shutdown(){}}class n2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class r2{constructor(e){this.t=e,this.currentUser=xr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const u=I=>this.i!==i?(i=this.i,t(I)):Promise.resolve();let c=new Er;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Er,e.enqueueRetryable(()=>u(this.currentUser))};const g=()=>{const I=c;e.enqueueRetryable((0,te.Z)(function*(){yield I.promise,yield u(r.currentUser)}))},_=I=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=I,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(I=>_(I)),setTimeout(()=>{if(!this.auth){const I=this.t.getImmediate({optional:!0});I?_(I):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Er)}},0),g()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(it("string"==typeof r.accessToken),new CN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return it(null===e||"string"==typeof e),new xr(e)}}class i2{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=xr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class s2{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new i2(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(xr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class o2{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=u=>{null!=u.error&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.T;return this.T=u.token,Ee("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const i=u=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>i(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?i(u):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(it("string"==typeof t.token),this.T=t.token,new bN(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function a2(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class TN{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=a2(40);for(let u=0;u<i.length;++u)r.length<20&&i[u]<t&&(r+=e.charAt(i[u]%e.length))}return r}}function Dt(n,e){return n<e?-1:n>e?1:0}function Zp(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class Nn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ge(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ge(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ge(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Nn.fromMillis(Date.now())}static fromDate(e){return Nn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Nn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Dt(this.nanoseconds,e.nanoseconds):Dt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ot{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ot(e)}static min(){return new ot(new Nn(0,0))}static max(){return new ot(new Nn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Sv{constructor(e,t,r){void 0===t?t=0:t>e.length&&qe(),void 0===r?r=e.length-t:r>e.length-t&&qe(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Sv.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Sv?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const u=e.get(i),c=t.get(i);if(u<c)return-1;if(u>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Wt extends Sv{construct(e,t,r){return new Wt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ge(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Wt(t)}static emptyPath(){return new Wt([])}}const u2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tr extends Sv{construct(e,t,r){return new tr(e,t,r)}static isValidIdentifier(e){return u2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new tr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const u=()=>{if(0===r.length)throw new ge(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const g=e[i];if("\\"===g){if(i+1===e.length)throw new ge(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new ge(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else"`"===g?(c=!c,i++):"."!==g||c?(r+=g,i++):(u(),i++)}if(u(),c)throw new ge(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tr(t)}static emptyPath(){return new tr([])}}class Ve{constructor(e){this.path=e}static fromPath(e){return new Ve(Wt.fromString(e))}static fromName(e){return new Ve(Wt.fromString(e).popFirst(5))}static empty(){return new Ve(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Wt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Wt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ve(new Wt(e.slice()))}}function MN(n){return new ns(n.readTime,n.key,-1)}class ns{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ns(ot.min(),Ve.empty(),-1)}static max(){return new ns(ot.max(),Ve.empty(),-1)}}function TA(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ve.comparator(n.documentKey,e.documentKey),0!==t?t:Dt(n.largestBatchId,e.largestBatchId))}const xN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class d2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Oc(n){return SA.apply(this,arguments)}function SA(){return SA=(0,te.Z)(function*(n){if(n.code!==J.FAILED_PRECONDITION||n.message!==xN)throw n;Ee("LocalStore","Unexpectedly lost primary lease")}),SA.apply(this,arguments)}class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&qe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new q((r,i)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,i)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof q?t:q.resolve(t)}catch(t){return q.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):q.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):q.reject(t)}static resolve(e){return new q((t,r)=>{t(e)})}static reject(e){return new q((t,r)=>{r(e)})}static waitFor(e){return new q((t,r)=>{let i=0,u=0,c=!1;e.forEach(g=>{++i,g.next(()=>{++u,c&&u===i&&t()},_=>r(_))}),c=!0,u===i&&t()})}static or(e){let t=q.resolve(!1);for(const r of e)t=t.next(i=>i?q.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,u)=>{r.push(t.call(this,i,u))}),this.waitFor(r)}static mapArray(e,t){return new q((r,i)=>{const u=e.length,c=new Array(u);let g=0;for(let _=0;_<u;_++){const I=_;t(e[I]).next(C=>{c[I]=C,++g,g===u&&r(c)},C=>i(C))}})}static doWhile(e,t){return new q((r,i)=>{const u=()=>{!0===e()?t().next(()=>{u()},i):r()};u()})}}function Pc(n){return"IndexedDbTransactionError"===n.name}let rs=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function xv(n){return null==n}function Rv(n){return 0===n&&1/n==-1/0}function UN(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function kc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function BN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class pn{constructor(e,t){this.comparator=e,this.root=t||Br.EMPTY}insert(e,t){return new pn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Br.BLACK,null,null))}remove(e){return new pn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Br.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wD(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wD(this.root,e,this.comparator,!1)}getReverseIterator(){return new wD(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wD(this.root,e,this.comparator,!0)}}class wD{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&i&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Br{constructor(e,t,r,i,u){this.key=e,this.value=t,this.color=r??Br.RED,this.left=i??Br.EMPTY,this.right=u??Br.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,u){return new Br(e??this.key,t??this.value,r??this.color,i??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const u=r(e,i.key);return i=u<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===u?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Br.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Br.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Br.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Br.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw qe();const e=this.left.check();if(e!==this.right.check())throw qe();return e+(this.isRed()?0:1)}}Br.EMPTY=null,Br.RED=!0,Br.BLACK=!1,Br.EMPTY=new class{constructor(){this.size=0}get key(){throw qe()}get value(){throw qe()}get color(){throw qe()}get left(){throw qe()}get right(){throw qe()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Br(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class vn{constructor(e){this.comparator=e,this.data=new pn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new $N(this.data.getIterator())}getIteratorFrom(e){return new $N(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof vn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(i,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new vn(this.comparator);return t.data=e,t}}class $N{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Fi{constructor(e){this.fields=e,e.sort(tr.comparator)}static empty(){return new Fi([])}unionWith(e){let t=new vn(tr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Fi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Zp(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class jN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ir{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new jN("Invalid base64 string: "+i):i}}(e);return new Ir(t)}static fromUint8Array(e){const t=function(r){let i="";for(let u=0;u<r.length;++u)i+=String.fromCharCode(r[u]);return i}(e);return new Ir(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Dt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ir.EMPTY_BYTE_STRING=new Ir("");const P2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fc(n){if(it(!!n),"string"==typeof n){let e=0;const t=P2.exec(n);if(it(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Vn(n.seconds),nanos:Vn(n.nanos)}}function Vn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ou(n){return"string"==typeof n?Ir.fromBase64String(n):Ir.fromUint8Array(n)}function ED(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ID(n){const e=n.mapValue.fields.__previous_value__;return ED(e)?ID(e):e}function Nv(n){const e=Fc(n.mapValue.fields.__local_write_time__.timestampValue);return new Nn(e.seconds,e.nanos)}class k2{constructor(e,t,r,i,u,c,g,_,I){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=I}}class Bd{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Bd("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Bd&&e.projectId===this.projectId&&e.database===this.database}}const Lc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Vc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ED(n)?4:WN(n)?9007199254740991:10:qe()}function ta(n,e){if(n===e)return!0;const t=Vc(n);if(t!==Vc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Nv(n).isEqual(Nv(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const u=Fc(r.timestampValue),c=Fc(i.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,ou(n.bytesValue).isEqual(ou(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Vn(r.geoPointValue.latitude)===Vn(i.geoPointValue.latitude)&&Vn(r.geoPointValue.longitude)===Vn(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Vn(r.integerValue)===Vn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const u=Vn(r.doubleValue),c=Vn(i.doubleValue);return u===c?Rv(u)===Rv(c):isNaN(u)&&isNaN(c)}return!1}(n,e);case 9:return Zp(n.arrayValue.values||[],e.arrayValue.values||[],ta);case 10:return function(r,i){const u=r.mapValue.fields||{},c=i.mapValue.fields||{};if(UN(u)!==UN(c))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(void 0===c[g]||!ta(u[g],c[g])))return!1;return!0}(n,e);default:return qe()}var i}function Ov(n,e){return void 0!==(n.values||[]).find(t=>ta(t,e))}function Uc(n,e){if(n===e)return 0;const t=Vc(n),r=Vc(e);if(t!==r)return Dt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Dt(n.booleanValue,e.booleanValue);case 2:return function(i,u){const c=Vn(i.integerValue||i.doubleValue),g=Vn(u.integerValue||u.doubleValue);return c<g?-1:c>g?1:c===g?0:isNaN(c)?isNaN(g)?0:-1:1}(n,e);case 3:return HN(n.timestampValue,e.timestampValue);case 4:return HN(Nv(n),Nv(e));case 5:return Dt(n.stringValue,e.stringValue);case 6:return function(i,u){const c=ou(i),g=ou(u);return c.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(i,u){const c=i.split("/"),g=u.split("/");for(let _=0;_<c.length&&_<g.length;_++){const I=Dt(c[_],g[_]);if(0!==I)return I}return Dt(c.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,u){const c=Dt(Vn(i.latitude),Vn(u.latitude));return 0!==c?c:Dt(Vn(i.longitude),Vn(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,u){const c=i.values||[],g=u.values||[];for(let _=0;_<c.length&&_<g.length;++_){const I=Uc(c[_],g[_]);if(I)return I}return Dt(c.length,g.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,u){if(i===Lc.mapValue&&u===Lc.mapValue)return 0;if(i===Lc.mapValue)return 1;if(u===Lc.mapValue)return-1;const c=i.fields||{},g=Object.keys(c),_=u.fields||{},I=Object.keys(_);g.sort(),I.sort();for(let C=0;C<g.length&&C<I.length;++C){const S=Dt(g[C],I[C]);if(0!==S)return S;const k=Uc(c[g[C]],_[I[C]]);if(0!==k)return k}return Dt(g.length,I.length)}(n.mapValue,e.mapValue);default:throw qe()}}function HN(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Dt(n,e);const t=Fc(n),r=Fc(e),i=Dt(t.seconds,r.seconds);return 0!==i?i:Dt(t.nanos,r.nanos)}function Qp(n){return xA(n)}function xA(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Fc(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ou(n.bytesValue).toBase64():"referenceValue"in n?Ve.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",u=!0;for(const c of r.values||[])u?u=!1:i+=",",i+=xA(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let u="{",c=!0;for(const g of i)c?c=!1:u+=",",u+=`${g}:${xA(r.fields[g])}`;return u+"}"}(n.mapValue):qe();var e}function RA(n){return!!n&&"integerValue"in n}function Pv(n){return!!n&&"arrayValue"in n}function zN(n){return!!n&&"nullValue"in n}function GN(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function bD(n){return!!n&&"mapValue"in n}function kv(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return kc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=kv(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=kv(n.arrayValue.values[t]);return e}return Object.assign({},n)}function WN(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class $r{constructor(e){this.value=e}static empty(){return new $r({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!bD(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=kv(t)}setAll(e){let t=tr.emptyPath(),r={},i=[];e.forEach((c,g)=>{if(!t.isImmediateParentOf(g)){const _=this.getFieldsMap(t);this.applyChanges(_,r,i),r={},i=[],t=g.popLast()}c?r[g.lastSegment()]=kv(c):i.push(g.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,i)}delete(e){const t=this.field(e.popLast());bD(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ta(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];bD(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){kc(t,(i,u)=>e[i]=u);for(const i of r)delete e[i]}clone(){return new $r(kv(this.value))}}function ZN(n){const e=[];return kc(n.fields,(t,r)=>{const i=new tr([t]);if(bD(r)){const u=ZN(r.mapValue).fields;if(0===u.length)e.push(i);else for(const c of u)e.push(i.child(c))}else e.push(i)}),new Fi(e)}class wn{constructor(e,t,r,i,u,c,g){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=u,this.data=c,this.documentState=g}static newInvalidDocument(e){return new wn(e,0,ot.min(),ot.min(),ot.min(),$r.empty(),0)}static newFoundDocument(e,t,r,i){return new wn(e,1,t,ot.min(),r,i,0)}static newNoDocument(e,t){return new wn(e,2,t,ot.min(),ot.min(),$r.empty(),0)}static newUnknownDocument(e,t){return new wn(e,3,t,ot.min(),ot.min(),$r.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ot.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$r.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$r.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ot.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Bc{constructor(e,t){this.position=e,this.inclusive=t}}function YN(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const u=e[i],c=n.position[i];if(r=u.field.isKeyField()?Ve.comparator(Ve.fromName(c.referenceValue),t.key):Uc(c,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function QN(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ta(n.position[t],e.position[t]))return!1;return!0}class Jp{constructor(e,t="asc"){this.field=e,this.dir=t}}function V2(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class JN{}class $t extends JN{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new U2(e,t,r):"array-contains"===t?new j2(e,r):"in"===t?new iO(e,r):"not-in"===t?new H2(e,r):"array-contains-any"===t?new z2(e,r):new $t(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new B2(e,r):new $2(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Uc(t,this.value)):null!==t&&Vc(this.value)===Vc(t)&&this.matchesComparison(Uc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return qe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class rn extends JN{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new rn(e,t)}matches(e){return Xp(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Xp(n){return"and"===n.op}function OA(n){return function XN(n){for(const e of n.filters)if(e instanceof rn)return!1;return!0}(n)&&Xp(n)}function PA(n){if(n instanceof $t)return n.field.canonicalString()+n.op.toString()+Qp(n.value);if(OA(n))return n.filters.map(e=>PA(e)).join(",");{const e=n.filters.map(t=>PA(t)).join(",");return`${n.op}(${e})`}}function eO(n,e){return n instanceof $t?(t=n,(r=e)instanceof $t&&t.op===r.op&&t.field.isEqual(r.field)&&ta(t.value,r.value)):n instanceof rn?function(t,r){return r instanceof rn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,u,c)=>i&&eO(u,r.filters[c]),!0)}(n,e):void qe();var t,r}function nO(n){return n instanceof $t?`${(e=n).field.canonicalString()} ${e.op} ${Qp(e.value)}`:n instanceof rn?function(e){return e.op.toString()+" {"+e.getFilters().map(nO).join(" ,")+"}"}(n):"Filter";var e}class U2 extends $t{constructor(e,t,r){super(e,t,r),this.key=Ve.fromName(r.referenceValue)}matches(e){const t=Ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class B2 extends $t{constructor(e,t){super(e,"in",t),this.keys=rO(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class $2 extends $t{constructor(e,t){super(e,"not-in",t),this.keys=rO(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function rO(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ve.fromName(r.referenceValue))}class j2 extends $t{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Pv(t)&&Ov(t.arrayValue,this.value)}}class iO extends $t{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ov(this.value.arrayValue,t)}}class H2 extends $t{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ov(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ov(this.value.arrayValue,t)}}class z2 extends $t{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Pv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Ov(this.value.arrayValue,r))}}class G2{constructor(e,t=null,r=[],i=[],u=null,c=null,g=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=u,this.startAt=c,this.endAt=g,this.dt=null}}function kA(n,e=null,t=[],r=[],i=null,u=null,c=null){return new G2(n,e,t,r,i,u,c)}function jd(n){const e=Be(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>PA(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),xv(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Qp(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Qp(r)).join(",")),e.dt=t}return e.dt}function Fv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!V2(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!eO(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!QN(n.startAt,e.startAt)&&QN(n.endAt,e.endAt)}function TD(n){return Ve.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class au{constructor(e,t=null,r=[],i=[],u=null,c="F",g=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=u,this.limitType=c,this.startAt=g,this.endAt=_,this.wt=null,this._t=null}}function eg(n){return new au(n)}function uO(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Hd(n){const e=Be(n);if(null===e.wt){e.wt=[];const t=function AD(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}(e),r=function FA(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new Jp(t)),e.wt.push(new Jp(tr.keyField(),"asc"));else{let i=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(i=!0);if(!i){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Jp(tr.keyField(),u))}}}return e.wt}function _i(n){const e=Be(n);if(!e._t)if("F"===e.limitType)e._t=kA(e.path,e.collectionGroup,Hd(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of Hd(e))t.push(new Jp(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new Bc(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Bc(e.startAt.position,e.startAt.inclusive):null;e._t=kA(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function MD(n,e,t){return new au(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Lv(n,e){return Fv(_i(n),_i(e))&&n.limitType===e.limitType}function cO(n){return`${jd(_i(n))}|lt:${n.limitType}`}function UA(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>nO(r)).join(", ")}]`),xv(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Qp(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Qp(r)).join(",")),`Target(${t})`}(_i(n))}; limitType=${n.limitType})`}function Vv(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Ve.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Hd(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,u,c){const g=YN(i,u,c);return i.inclusive?g<=0:g<0}(t.startAt,Hd(t),r)||t.endAt&&!function(i,u,c){const g=YN(i,u,c);return i.inclusive?g>=0:g>0}(t.endAt,Hd(t),r)));var t,r}function dO(n){return(e,t)=>{let r=!1;for(const i of Hd(n)){const u=W2(i,e,t);if(0!==u)return u;r=r||i.field.isKeyField()}return 0}}function W2(n,e,t){const r=n.field.isKeyField()?Ve.comparator(e.key,t.key):function(i,u,c){const g=u.data.field(i),_=c.data.field(i);return null!==g&&null!==_?Uc(g,_):qe()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return qe()}}class uu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,u]of r)if(this.equalsFn(i,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<i.length;u++)if(this.equalsFn(i[u][0],e))return void(i[u]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){kc(this.inner,(t,r)=>{for(const[i,u]of r)e(i,u)})}isEmpty(){return BN(this.inner)}size(){return this.innerSize}}const q2=new pn(Ve.comparator);function Li(){return q2}const hO=new pn(Ve.comparator);function Uv(...n){let e=hO;for(const t of n)e=e.insert(t.key,t);return e}function fO(n){let e=hO;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function na(){return Bv()}function pO(){return Bv()}function Bv(){return new uu(n=>n.toString(),(n,e)=>n.isEqual(e))}const K2=new pn(Ve.comparator),Z2=new vn(Ve.comparator);function Rt(...n){let e=Z2;for(const t of n)e=e.add(t);return e}const Y2=new vn(Dt);function gO(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rv(e)?"-0":e}}function mO(n){return{integerValue:""+n}}function yO(n,e){return function NN(n){return"number"==typeof n&&Number.isInteger(n)&&!Rv(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?mO(e):gO(n,e)}class xD{constructor(){this._=void 0}}function Q2(n,e,t){return n instanceof tg?function(r,i){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&ED(i)&&(i=ID(i)),i&&(u.fields.__previous_value__=i),{mapValue:u}}(t,e):n instanceof zd?vO(n,e):n instanceof Gd?wO(n,e):function(r,i){const u=_O(r,i),c=EO(u)+EO(r.gt);return RA(u)&&RA(r.gt)?mO(c):gO(r.serializer,c)}(n,e)}function J2(n,e,t){return n instanceof zd?vO(n,e):n instanceof Gd?wO(n,e):t}function _O(n,e){return n instanceof ng?RA(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class tg extends xD{}class zd extends xD{constructor(e){super(),this.elements=e}}function vO(n,e){const t=IO(e);for(const r of n.elements)t.some(i=>ta(i,r))||t.push(r);return{arrayValue:{values:t}}}class Gd extends xD{constructor(e){super(),this.elements=e}}function wO(n,e){let t=IO(e);for(const r of n.elements)t=t.filter(i=>!ta(i,r));return{arrayValue:{values:t}}}class ng extends xD{constructor(e,t){super(),this.serializer=e,this.gt=t}}function EO(n){return Vn(n.integerValue||n.doubleValue)}function IO(n){return Pv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class eV{constructor(e,t){this.version=e,this.transformResults=t}}class bn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new bn}static exists(e){return new bn(void 0,e)}static updateTime(e){return new bn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function RD(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class ND{}function DO(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new ig(n.key,bn.none()):new rg(n.key,n.data,bn.none());{const t=n.data,r=$r.empty();let i=new vn(tr.comparator);for(let u of e.fields)if(!i.has(u)){let c=t.field(u);null===c&&u.length>1&&(u=u.popLast(),c=t.field(u)),null===c?r.delete(u):r.set(u,c),i=i.add(u)}return new cu(n.key,r,new Fi(i.toArray()),bn.none())}}function tV(n,e,t){n instanceof rg?function(r,i,u){const c=r.value.clone(),g=TO(r.fieldTransforms,i,u.transformResults);c.setAll(g),i.convertToFoundDocument(u.version,c).setHasCommittedMutations()}(n,e,t):n instanceof cu?function(r,i,u){if(!RD(r.precondition,i))return void i.convertToUnknownDocument(u.version);const c=TO(r.fieldTransforms,i,u.transformResults),g=i.data;g.setAll(bO(r)),g.setAll(c),i.convertToFoundDocument(u.version,g).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function jv(n,e,t,r){return n instanceof rg?function(i,u,c,g){if(!RD(i.precondition,u))return c;const _=i.value.clone(),I=SO(i.fieldTransforms,g,u);return _.setAll(I),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof cu?function(i,u,c,g){if(!RD(i.precondition,u))return c;const _=SO(i.fieldTransforms,g,u),I=u.data;return I.setAll(bO(i)),I.setAll(_),u.convertToFoundDocument(u.version,I).setHasLocalMutations(),null===c?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(C=>C.field))}(n,e,t,r):(c=t,RD(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):c);var u,c}function nV(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),u=_O(r.transform,i||null);null!=u&&(null===t&&(t=$r.empty()),t.set(r.field,u))}return t||null}function CO(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Zp(t,r,(i,u)=>function X2(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof zd&&r instanceof zd||t instanceof Gd&&r instanceof Gd?Zp(t.elements,r.elements,ta):t instanceof ng&&r instanceof ng?ta(t.gt,r.gt):t instanceof tg&&r instanceof tg);var t,r}(i,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class rg extends ND{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class cu extends ND{constructor(e,t,r,i,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function bO(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function TO(n,e,t){const r=new Map;it(n.length===t.length);for(let i=0;i<t.length;i++){const u=n[i],c=u.transform,g=e.data.field(u.field);r.set(u.field,J2(c,g,t[i]))}return r}function SO(n,e,t){const r=new Map;for(const i of n){const u=i.transform,c=t.data.field(i.field);r.set(i.field,Q2(u,c,e))}return r}class ig extends ND{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $A extends ND{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class jA{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const u=this.mutations[i];u.key.isEqual(e.key)&&tV(u,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=jv(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=jv(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=pO();return this.mutations.forEach(i=>{const u=e.get(i.key),c=u.overlayedDocument;let g=this.applyToLocalView(c,u.mutatedFields);g=t.has(i.key)?null:g;const _=DO(c,g);null!==_&&r.set(i.key,_),c.isValidDocument()||c.convertToNoDocument(ot.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Rt())}isEqual(e){return this.batchId===e.batchId&&Zp(this.mutations,e.mutations,(t,r)=>CO(t,r))&&Zp(this.baseMutations,e.baseMutations,(t,r)=>CO(t,r))}}class HA{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){it(e.mutations.length===r.length);let i=K2;const u=e.mutations;for(let c=0;c<u.length;c++)i=i.insert(u[c].key,r[c].version);return new HA(e,t,r,i)}}class zA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class iV{constructor(e,t){this.count=e,this.unchangedNames=t}}var lr,qt;function MO(n){if(void 0===n)return er("GRPC error has no .code"),J.UNKNOWN;switch(n){case lr.OK:return J.OK;case lr.CANCELLED:return J.CANCELLED;case lr.UNKNOWN:return J.UNKNOWN;case lr.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case lr.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case lr.INTERNAL:return J.INTERNAL;case lr.UNAVAILABLE:return J.UNAVAILABLE;case lr.UNAUTHENTICATED:return J.UNAUTHENTICATED;case lr.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case lr.NOT_FOUND:return J.NOT_FOUND;case lr.ALREADY_EXISTS:return J.ALREADY_EXISTS;case lr.PERMISSION_DENIED:return J.PERMISSION_DENIED;case lr.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case lr.ABORTED:return J.ABORTED;case lr.OUT_OF_RANGE:return J.OUT_OF_RANGE;case lr.UNIMPLEMENTED:return J.UNIMPLEMENTED;case lr.DATA_LOSS:return J.DATA_LOSS;default:return qe()}}(qt=lr||(lr={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";class GA{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return OD}static getOrCreateInstance(){return null===OD&&(OD=new GA),OD}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let OD=null;const sV=new qp([4294967295,4294967295],0);function RO(n){const e=function xO(){return new TextEncoder}().encode(n),t=new e2;return t.update(e),new Uint8Array(t.digest())}function NO(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new qp([t,r],0),new qp([i,u],0)]}class WA{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Hv(`Invalid padding: ${t}`);if(r<0)throw new Hv(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Hv(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Hv(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=qp.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(qp.fromNumber(r)));return 1===i.compare(sV)&&(i=new qp([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=RO(e),[r,i]=NO(t);for(let u=0;u<this.hashCount;u++){const c=this.Et(r,i,u);if(!this.At(c))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),c=new WA(u,i,t);return r.forEach(g=>c.insert(g)),c}insert(e){if(0===this.It)return;const t=RO(e),[r,i]=NO(t);for(let u=0;u<this.hashCount;u++){const c=this.Et(r,i,u);this.Rt(c)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Hv extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class zv{constructor(e,t,r,i,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Gv.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new zv(ot.min(),i,new pn(Dt),Li(),Rt())}}class Gv{constructor(e,t,r,i,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Gv(r,t,Rt(),Rt(),Rt())}}class PD{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class OO{constructor(e,t){this.targetId=e,this.Vt=t}}class PO{constructor(e,t,r=Ir.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class kO{constructor(){this.St=0,this.Dt=LO(),this.Ct=Ir.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Rt(),t=Rt(),r=Rt();return this.Dt.forEach((i,u)=>{switch(u){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:qe()}}),new Gv(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=LO()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class oV{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Li(),this.zt=FO(),this.Wt=new pn(Dt)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:qe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,u=this.se(r);if(u){const c=u.target;if(TD(c))if(0===i){const g=new Ve(c.path);this.Yt(r,g,wn.newNoDocument(g,ot.min()))}else it(1===i);else{const g=this.ie(r);if(g!==i){const _=this.re(e,g);0!==_&&(this.ee(r),this.Wt=this.Wt.insert(r,2===_?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=GA.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(I,C,S){var k,$,se,ve,me,Ke;const et={localCacheCount:C,existenceFilterCount:S.count},lt=S.unchangedNames;return lt&&(et.bloomFilter={applied:0===I,hashCount:null!==(k=lt?.hashCount)&&void 0!==k?k:0,bitmapLength:null!==(ve=null===(se=null===($=lt?.bits)||void 0===$?void 0:$.bitmap)||void 0===se?void 0:se.length)&&void 0!==ve?ve:0,padding:null!==(Ke=null===(me=lt?.bits)||void 0===me?void 0:me.padding)&&void 0!==Ke?Ke:0}),et}(_,g,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:u="",padding:c=0},hashCount:g=0}=r;let _,I;try{_=ou(u).toUint8Array()}catch(C){if(C instanceof jN)return to("Decoding the base64 bloom filter in existence filter failed ("+C.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw C}try{I=new WA(_,c,g)}catch(C){return to(C instanceof Hv?"BloomFilter error: ":"Applying bloom filter failed: ",C),1}return 0===I.It?1:i!==t-this.oe(e.targetId,I)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(u=>{const c=this.Gt.ue(),g=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.vt(g)||(this.Yt(e,u,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((u,c)=>{const g=this.se(c);if(g){if(u.current&&TD(g.target)){const _=new Ve(g.target.path);null!==this.jt.get(_)||this.ae(c,_)||this.Yt(c,_,wn.newNoDocument(_,e))}u.Mt&&(t.set(c,u.Ot()),u.Ft())}});let r=Rt();this.zt.forEach((u,c)=>{let g=!0;c.forEachWhile(_=>{const I=this.se(_);return!I||"TargetPurposeLimboResolution"===I.purpose||(g=!1,!1)}),g&&(r=r.add(u))}),this.jt.forEach((u,c)=>c.setReadTime(e));const i=new zv(e,t,this.Wt,this.jt,r);return this.jt=Li(),this.zt=FO(),this.Wt=new pn(Dt),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new kO,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new vn(Dt),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Ee("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new kO),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function FO(){return new pn(Ve.comparator)}function LO(){return new pn(Ve.comparator)}const aV={asc:"ASCENDING",desc:"DESCENDING"},uV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cV={and:"AND",or:"OR"};class lV{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function qA(n,e){return n.useProto3Json||xv(e)?e:{value:e}}function sg(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VO(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function dV(n,e){return sg(n,e.toTimestamp())}function nr(n){return it(!!n),ot.fromTimestamp(function(e){const t=Fc(e);return new Nn(t.seconds,t.nanos)}(n))}function KA(n,e){return(t=n,new Wt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function UO(n){const e=Wt.fromString(n);return it(KO(e)),e}function Wv(n,e){return KA(n.databaseId,e.path)}function ra(n,e){const t=UO(e);if(t.get(1)!==n.databaseId.projectId)throw new ge(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ge(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ve($O(t))}function ZA(n,e){return KA(n.databaseId,e)}function qv(n){return new Wt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function $O(n){return it(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function jO(n,e,t){return{name:Wv(n,e),fields:t.value.mapValue.fields}}function zO(n,e){return{documents:[ZA(n,e.path)]}}function QA(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=ZA(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=ZA(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(_){if(0!==_.length)return qO(rn.create(_,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const u=function(_){if(0!==_.length)return _.map(I=>{return{field:$c((C=I).field),direction:mV(C.dir)};var C})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const c=qA(n,e.limit);var g,_;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(g=e.startAt).inclusive,values:g.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function GO(n){let e=function BO(n){const e=UO(n);return 4===e.length?Wt.emptyPath():$O(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){it(1===r);const C=t.from[0];C.allDescendants?i=C.collectionId:e=e.child(C.collectionId)}let u=[];t.where&&(u=function(C){const S=WO(C);return S instanceof rn&&OA(S)?S.getFilters():[S]}(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(C=>{return new Jp(og((S=C).field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));let g=null;t.limit&&(g=function(C){let S;return S="object"==typeof C?C.value:C,xv(S)?null:S}(t.limit));let _=null;var C;t.startAt&&(_=new Bc((C=t.startAt).values||[],!!C.before));let I=null;return t.endAt&&(I=function(C){return new Bc(C.values||[],!C.before)}(t.endAt)),function aO(n,e,t,r,i,u,c,g){return new au(n,e,t,r,i,u,c,g)}(e,i,c,u,g,"F",_,I)}function WO(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=og(e.unaryFilter.field);return $t.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=og(e.unaryFilter.field);return $t.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=og(e.unaryFilter.field);return $t.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=og(e.unaryFilter.field);return $t.create(u,"!=",{nullValue:"NULL_VALUE"});default:return qe()}}(n):void 0!==n.fieldFilter?$t.create(og((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return qe()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return rn.create(e.compositeFilter.filters.map(t=>WO(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return qe()}}(e.compositeFilter.op))}(n):qe();var e}function mV(n){return aV[n]}function yV(n){return uV[n]}function _V(n){return cV[n]}function $c(n){return{fieldPath:n.canonicalString()}}function og(n){return tr.fromServerFormat(n.fieldPath)}function qO(n){return n instanceof $t?function(e){if("=="===e.op){if(GN(e.value))return{unaryFilter:{field:$c(e.field),op:"IS_NAN"}};if(zN(e.value))return{unaryFilter:{field:$c(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(GN(e.value))return{unaryFilter:{field:$c(e.field),op:"IS_NOT_NAN"}};if(zN(e.value))return{unaryFilter:{field:$c(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$c(e.field),op:yV(e.op),value:e.value}}}(n):n instanceof rn?function(e){const t=e.getFilters().map(r=>qO(r));return 1===t.length?t[0]:{compositeFilter:{op:_V(e.op),filters:t}}}(n):qe()}function vV(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function KO(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class lu{constructor(e,t,r,i,u=ot.min(),c=ot.min(),g=Ir.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new lu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new lu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new lu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new lu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ZO{constructor(e){this.fe=e}}function JA(n){const e=GO({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?MD(e,e.limit,"L"):e}class Zd{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Vn(e.integerValue));else if("doubleValue"in e){const r=Vn(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),Rv(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(ou(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?WN(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):qe()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),Ve.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Zd.Ve=new Zd;class AV{constructor(){this.rn=new iM}addToCollectionParentIndex(e,t){return this.rn.add(t),q.resolve()}getCollectionParents(e,t){return q.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return q.resolve()}deleteFieldIndex(e,t){return q.resolve()}getDocumentsMatchingTarget(e,t){return q.resolve(null)}getIndexType(e,t){return q.resolve(0)}getFieldIndexes(e,t){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,t){return q.resolve(ns.min())}getMinOffsetFromCollectionGroup(e,t){return q.resolve(ns.min())}updateCollectionGroup(e,t,r){return q.resolve()}updateIndexEntries(e,t){return q.resolve()}}class iM{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new vn(Wt.comparator),u=!i.has(r);return this.index[t]=i.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new vn(Wt.comparator)).toArray()}}new Uint8Array(0);class ei{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ei(e,ei.DEFAULT_COLLECTION_PERCENTILE,ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ei.DEFAULT_COLLECTION_PERCENTILE=10,ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ei.DEFAULT=new ei(41943040,ei.DEFAULT_COLLECTION_PERCENTILE,ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ei.DISABLED=new ei(-1,0,0);class Qd{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Qd(0)}static Mn(){return new Qd(-1)}}class PV{constructor(){this.changes=new uu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,wn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?q.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class LV{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class EP{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&jv(r.mutation,i,Fi.empty(),Nn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Rt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Rt()){const i=na();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(u=>{let c=Uv();return u.forEach((g,_)=>{c=c.insert(g,_.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=na();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Rt()))}populateOverlays(e,t,r){const i=[];return r.forEach(u=>{t.has(u)||i.push(u)}),this.documentOverlayCache.getOverlays(e,i).next(u=>{u.forEach((c,g)=>{t.set(c,g)})})}computeViews(e,t,r,i){let u=Li();const c=Bv(),g=Bv();return t.forEach((_,I)=>{const C=r.get(I.key);i.has(I.key)&&(void 0===C||C.mutation instanceof cu)?u=u.insert(I.key,I):void 0!==C?(c.set(I.key,C.mutation.getFieldMask()),jv(C.mutation,I,C.mutation.getFieldMask(),Nn.now())):c.set(I.key,Fi.empty())}),this.recalculateAndSaveOverlays(e,u).next(_=>(_.forEach((I,C)=>c.set(I,C)),t.forEach((I,C)=>{var S;return g.set(I,new LV(C,null!==(S=c.get(I))&&void 0!==S?S:null))}),g))}recalculateAndSaveOverlays(e,t){const r=Bv();let i=new pn((c,g)=>c-g),u=Rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const g of c)g.keys().forEach(_=>{const I=t.get(_);if(null===I)return;let C=r.get(_)||Fi.empty();C=g.applyToLocalView(I,C),r.set(_,C);const S=(i.get(g.batchId)||Rt()).add(_);i=i.insert(g.batchId,S)})}).next(()=>{const c=[],g=i.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),I=_.key,C=_.value,S=pO();C.forEach(k=>{if(!u.has(k)){const $=DO(t.get(k),r.get(k));null!==$&&S.set(k,$),u=u.add(k)}}),c.push(this.documentOverlayCache.saveOverlays(e,I,S))}return q.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Ve.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function LA(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(u=>{const c=i-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-u.size):q.resolve(na());let g=-1,_=u;return c.next(I=>q.forEach(I,(C,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),u.get(C)?q.resolve():this.remoteDocumentCache.getEntry(e,C).next(k=>{_=_.insert(C,k)}))).next(()=>this.populateOverlays(e,I,u)).next(()=>this.computeViews(e,_,I,Rt())).next(C=>({batchId:g,changes:fO(C)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ve(t)).next(r=>{let i=Uv();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let u=Uv();return this.indexManager.getCollectionParents(e,i).next(c=>q.forEach(c,g=>{const _=(I=t,C=g.child(i),new au(C,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt));var I,C;return this.getDocumentsMatchingCollectionQuery(e,_,r).next(I=>{I.forEach((C,S)=>{u=u.insert(C,S)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(i=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(u=>{i.forEach((g,_)=>{const I=_.getKey();null===u.get(I)&&(u=u.insert(I,wn.newInvalidDocument(I)))});let c=Uv();return u.forEach((g,_)=>{const I=i.get(g);void 0!==I&&jv(I.mutation,_,Fi.empty(),Nn.now()),Vv(t,_)&&(c=c.insert(g,_))}),c})}}class VV{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return q.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:nr(r.createTime)}),q.resolve()}getNamedQuery(e,t){return q.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:JA(r.bundledQuery),readTime:nr(r.readTime)}),q.resolve();var r}}class UV{constructor(){this.overlays=new pn(Ve.comparator),this.ls=new Map}getOverlay(e,t){return q.resolve(this.overlays.get(t))}getOverlays(e,t){const r=na();return q.forEach(t,i=>this.getOverlay(e,i).next(u=>{null!==u&&r.set(i,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,u)=>{this.we(e,t,u)}),q.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(u=>this.overlays=this.overlays.remove(u)),this.ls.delete(r)),q.resolve()}getOverlaysForCollection(e,t,r){const i=na(),u=t.length+1,c=new Ve(t.child("")),g=this.overlays.getIteratorFrom(c);for(;g.hasNext();){const _=g.getNext().value,I=_.getKey();if(!t.isPrefixOf(I.path))break;I.path.length===u&&_.largestBatchId>r&&i.set(_.getKey(),_)}return q.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let u=new pn((I,C)=>I-C);const c=this.overlays.getIterator();for(;c.hasNext();){const I=c.getNext().value;if(I.getKey().getCollectionGroup()===t&&I.largestBatchId>r){let C=u.get(I.largestBatchId);null===C&&(C=na(),u=u.insert(I.largestBatchId,C)),C.set(I.getKey(),I)}}const g=na(),_=u.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((I,C)=>g.set(I,C)),!(g.size()>=i)););return q.resolve(g)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const c=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new zA(t,r));let u=this.ls.get(t);void 0===u&&(u=Rt(),this.ls.set(t,u)),this.ls.set(t,u.add(r.key))}}class sM{constructor(){this.fs=new vn(Nr.ds),this.ws=new vn(Nr._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new Nr(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new Nr(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new Ve(new Wt([])),r=new Nr(t,e),i=new Nr(t,e+1),u=[];return this.ws.forEachInRange([r,i],c=>{this.ys(c),u.push(c.key)}),u}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Ve(new Wt([])),r=new Nr(t,e),i=new Nr(t,e+1);let u=Rt();return this.ws.forEachInRange([r,i],c=>{u=u.add(c.key)}),u}containsKey(e){const t=new Nr(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Nr{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Ve.comparator(e.key,t.key)||Dt(e.As,t.As)}static _s(e,t){return Dt(e.As,t.As)||Ve.comparator(e.key,t.key)}}class BV{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new vn(Nr.ds)}checkEmpty(e){return q.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const u=this.vs;this.vs++;const c=new jA(u,t,r,i);this.mutationQueue.push(c);for(const g of i)this.Rs=this.Rs.add(new Nr(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return q.resolve(c)}lookupMutationBatch(e,t){return q.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),u=i<0?0:i;return q.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Nr(t,0),i=new Nr(t,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([r,i],c=>{const g=this.Ps(c.As);u.push(g)}),q.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new vn(Dt);return t.forEach(i=>{const u=new Nr(i,0),c=new Nr(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,c],g=>{r=r.add(g.As)})}),q.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let u=r;Ve.isDocumentKey(u)||(u=u.child(""));const c=new Nr(new Ve(u),0);let g=new vn(Dt);return this.Rs.forEachWhile(_=>{const I=_.key.path;return!!r.isPrefixOf(I)&&(I.length===i&&(g=g.add(_.As)),!0)},c),q.resolve(this.Vs(g))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){it(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return q.forEach(t.mutations,i=>{const u=new Nr(i.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new Nr(t,0),i=this.Rs.firstAfterOrEqual(r);return q.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return q.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class $V{constructor(e){this.Ds=e,this.docs=new pn(Ve.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),u=i?i.size:0,c=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return q.resolve(r?r.document.mutableCopy():wn.newInvalidDocument(t))}getEntries(e,t){let r=Li();return t.forEach(i=>{const u=this.docs.get(i);r=r.insert(i,u?u.document.mutableCopy():wn.newInvalidDocument(i))}),q.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let u=Li();const c=t.path,g=new Ve(c.child("")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:I,value:{document:C}}=_.getNext();if(!c.isPrefixOf(I.path))break;I.path.length>c.length+1||TA(MN(C),r)<=0||(i.has(C.key)||Vv(t,C))&&(u=u.insert(C.key,C.mutableCopy()))}return q.resolve(u)}getAllFromCollectionGroup(e,t,r,i){qe()}Cs(e,t){return q.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new jV(this)}getSize(e){return q.resolve(this.size)}}class jV extends PV{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),q.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class HV{constructor(e){this.persistence=e,this.xs=new uu(t=>jd(t),Fv),this.lastRemoteSnapshotVersion=ot.min(),this.highestTargetId=0,this.Ns=0,this.ks=new sM,this.targetCount=0,this.Ms=Qd.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),q.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Qd(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,q.resolve()}updateTargetData(e,t){return this.Fn(t),q.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,t,r){let i=0;const u=[];return this.xs.forEach((c,g)=>{g.sequenceNumber<=t&&null===r.get(g.targetId)&&(this.xs.delete(c),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),i++)}),q.waitFor(u).next(()=>i)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return q.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),q.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,u=[];return i&&t.forEach(c=>{u.push(i.markPotentiallyOrphaned(e,c))}),q.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),q.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return q.resolve(r)}containsKey(e,t){return q.resolve(this.ks.containsKey(t))}}class oM{constructor(e,t){this.$s={},this.overlays={},this.Os=new rs(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new HV(this),this.indexManager=new AV,this.remoteDocumentCache=new $V(r=>this.referenceDelegate.Ls(r)),this.serializer=new ZO(t),this.qs=new VV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new UV,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new BV(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){Ee("MemoryPersistence","Starting transaction:",e);const i=new zV(this.Os.next());return this.referenceDelegate.Us(),r(i).next(u=>this.referenceDelegate.Ks(i).next(()=>u)).toPromise().then(u=>(i.raiseOnCommittedEvent(),u))}Gs(e,t){return q.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class zV extends d2{constructor(e){super(),this.currentSequenceNumber=e}}class HD{constructor(e){this.persistence=e,this.Qs=new sM,this.js=null}static zs(e){return new HD(e)}get Ws(){if(this.js)return this.js;throw qe()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),q.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),q.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),q.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(u=>this.Ws.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.Ws,r=>{const i=Ve.fromPath(r);return this.Hs(e,i).next(u=>{u||t.removeEntry(i,ot.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return q.or([()=>q.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class lM{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=Rt(),i=Rt();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}return new lM(e,t.fromCache,r,i)}}class DP{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(u=>u||this.Gi(e,t,i,r)).next(u=>u||this.Qi(e,t))}Ki(e,t){if(uO(t))return q.resolve(null);let r=_i(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=MD(t,null,"F"),r=_i(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const c=Rt(...u);return this.Ui.getDocuments(e,c).next(g=>this.indexManager.getMinOffset(e,r).next(_=>{const I=this.ji(t,g);return this.zi(t,I,c,_.readTime)?this.Ki(e,MD(t,null,"F")):this.Wi(e,I,t,_)}))})))}Gi(e,t,r,i){return uO(t)||i.isEqual(ot.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(u=>{const c=this.ji(t,u);return this.zi(t,c,r,i)?this.Qi(e,t):(DA()<=Ri.in.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),UA(t)),this.Wi(e,c,t,function AN(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ot.fromTimestamp(1e9===r?new Nn(t+1,0):new Nn(t,r));return new ns(i,Ve.empty(),e)}(i,-1)))})}ji(e,t){let r=new vn(dO(e));return t.forEach((i,u)=>{Vv(e,u)&&(r=r.add(u))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(i)>0)}Qi(e,t){return DA()<=Ri.in.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",UA(t)),this.Ui.getDocumentsMatchingQuery(e,t,ns.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(u=>(t.forEach(c=>{u=u.insert(c.key,c)}),u))}}class WV{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new pn(Dt),this.Yi=new uu(u=>jd(u),Fv),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new EP(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function bP(n,e){return dM.apply(this,arguments)}function dM(){return dM=(0,te.Z)(function*(n,e){const t=Be(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(u=>(i=u,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const c=[],g=[];let _=Rt();for(const I of i){c.push(I.batchId);for(const C of I.mutations)_=_.add(C.key)}for(const I of u){g.push(I.batchId);for(const C of I.mutations)_=_.add(C.key)}return t.localDocuments.getDocuments(r,_).next(I=>({er:I,removedBatchIds:c,addedBatchIds:g}))})})}),dM.apply(this,arguments)}function TP(n){const e=Be(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function ZV(n,e){const t=Be(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function lg(n,e,t){return hM.apply(this,arguments)}function hM(){return hM=(0,te.Z)(function*(n,e,t){const r=Be(n),i=r.Ji.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!Pc(c))throw c;Ee("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),hM.apply(this,arguments)}function WD(n,e,t){const r=Be(n);let i=ot.min(),u=Rt();return r.persistence.runTransaction("Execute query","readonly",c=>function(g,_,I){const C=Be(g),S=C.Yi.get(I);return void 0!==S?q.resolve(C.Ji.get(S)):C.Bs.getTargetData(_,I)}(r,c,_i(e)).next(g=>{if(g)return i=g.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(c,g.targetId).next(_=>{u=_})}).next(()=>r.Hi.getDocumentsMatchingQuery(c,e,t?i:ot.min(),t?u:Rt())).next(g=>(function xP(n,e,t){let r=n.Xi.get(e)||ot.min();t.forEach((i,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Xi.set(e,r)}(r,function lO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),g),{documents:g,ir:u})))}class yM{constructor(){this.activeTargetIds=function BA(){return Y2}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OP{constructor(){this.Hr=new yM,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new yM,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class JV{Yr(e){}shutdown(){}}class PP{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ZD=null;function vM(){return null===ZD?ZD=268435456+Math.round(2147483648*Math.random()):ZD++,"0x"+ZD.toString(16)}const XV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class eU{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const ti="WebChannelConnection";class tU extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,u){const c=vM(),g=this.To(e,t);Ee("RestConnection",`Sending RPC '${e}' ${c}:`,g,r);const _={};return this.Eo(_,i,u),this.Ao(e,g,_,r).then(I=>(Ee("RestConnection",`Received RPC '${e}' ${c}: `,I),I),I=>{throw to("RestConnection",`RPC '${e}' ${c} failed with error: `,I,"url: ",g,"request:",r),I})}vo(e,t,r,i,u,c){return this.Io(e,t,r,i,u)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Kp,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,u)=>e[u]=i),r&&r.headers.forEach((i,u)=>e[u]=i)}To(e,t){return`${this.mo}/v1/${t}:${XV[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const u=vM();return new Promise((c,g)=>{const _=new XL;_.setWithCredentials(!0),_.listenOnce(YL.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case IA.NO_ERROR:const C=_.getResponseJson();Ee(ti,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(C)),c(C);break;case IA.TIMEOUT:Ee(ti,`RPC '${e}' ${u} timed out`),g(new ge(J.DEADLINE_EXCEEDED,"Request time out"));break;case IA.HTTP_ERROR:const S=_.getStatus();if(Ee(ti,`RPC '${e}' ${u} failed with status:`,S,"response text:",_.getResponseText()),S>0){let k=_.getResponseJson();Array.isArray(k)&&(k=k[0]);const $=k?.error;if($&&$.status&&$.message){const se=function(ve){const me=ve.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(me)>=0?me:J.UNKNOWN}($.status);g(new ge(se,$.message))}else g(new ge(J.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new ge(J.UNAVAILABLE,"Connection failed."));break;default:qe()}}finally{Ee(ti,`RPC '${e}' ${u} completed.`)}});const I=JSON.stringify(i);Ee(ti,`RPC '${e}' ${u} sending request:`,i),_.send(t,"POST",I,r,15)})}Ro(e,t,r){const i=vM(),u=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=KL(),g=ZL(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},I=this.longPollingOptions.timeoutSeconds;void 0!==I&&(_.longPollingTimeout=Math.round(1e3*I)),this.useFetchStreams&&(_.xmlHttpFactory=new JL({})),this.Eo(_.initMessageHeaders,t,r),_.encodeInitMessageHeaders=!0;const C=u.join("");Ee(ti,`Creating RPC '${e}' stream ${i}: ${C}`,_);const S=c.createWebChannel(C,_);let k=!1,$=!1;const se=new eU({ro:me=>{$?Ee(ti,`Not sending because RPC '${e}' stream ${i} is closed:`,me):(k||(Ee(ti,`Opening RPC '${e}' stream ${i} transport.`),S.open(),k=!0),Ee(ti,`RPC '${e}' stream ${i} sending:`,me),S.send(me))},oo:()=>S.close()}),ve=(me,Ke,et)=>{me.listen(Ke,lt=>{try{et(lt)}catch(Ct){setTimeout(()=>{throw Ct},0)}})};return ve(S,gD.EventType.OPEN,()=>{$||Ee(ti,`RPC '${e}' stream ${i} transport opened.`)}),ve(S,gD.EventType.CLOSE,()=>{$||($=!0,Ee(ti,`RPC '${e}' stream ${i} transport closed`),se.wo())}),ve(S,gD.EventType.ERROR,me=>{$||($=!0,to(ti,`RPC '${e}' stream ${i} transport errored:`,me),se.wo(new ge(J.UNAVAILABLE,"The operation could not be completed")))}),ve(S,gD.EventType.MESSAGE,me=>{var Ke;if(!$){const et=me.data[0];it(!!et);const Ct=et.error||(null===(Ke=et[0])||void 0===Ke?void 0:Ke.error);if(Ct){Ee(ti,`RPC '${e}' stream ${i} received error:`,Ct);const Bt=Ct.status;let Qt=function(oh){const zF=lr[oh];if(void 0!==zF)return MO(zF)}(Bt),Vi=Ct.message;void 0===Qt&&(Qt=J.INTERNAL,Vi="Unknown error status: "+Bt+" with message "+Ct.message),$=!0,se.wo(new ge(Qt,Vi)),S.close()}else Ee(ti,`RPC '${e}' stream ${i} received:`,et),se._o(et)}}),ve(g,QL.STAT_EVENT,me=>{me.stat===IN.PROXY?Ee(ti,`RPC '${e}' stream ${i} detected buffering proxy`):me.stat===IN.NOPROXY&&Ee(ti,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{se.fo()},0),se}}function YD(){return typeof document<"u"?document:null}function r0(n){return new lV(n,!0)}class wM{constructor(e,t,r=1e3,i=1.5,u=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=u,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&Ee("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class FP{constructor(e,t,r,i,u,c,g,_){this.ii=e,this.$o=r,this.Oo=i,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new wM(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,te.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,te.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,te.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===J.RESOURCE_EXHAUSTED?(er(t.toString()),er("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===J.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new ge(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No((0,te.Z)(function*(){e.state=0,e.start()}))}tu(e){return Ee("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nU extends FP{constructor(e,t,r,i,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.serializer=u}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function fV(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:qe(),i=e.targetChange.targetIds||[],u=function(_,I){return _.useProto3Json?(it(void 0===I||"string"==typeof I),Ir.fromBase64String(I||"")):(it(void 0===I||I instanceof Uint8Array),Ir.fromUint8Array(I||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,g=c&&function(_){const I=void 0===_.code?J.UNKNOWN:MO(_.code);return new ge(I,_.message||"")}(c);t=new PO(r,i,u,g||null)}else if("documentChange"in e){const r=e.documentChange,i=ra(n,r.document.name),u=nr(r.document.updateTime),c=r.document.createTime?nr(r.document.createTime):ot.min(),g=new $r({mapValue:{fields:r.document.fields}}),_=wn.newFoundDocument(i,u,c,g);t=new PD(r.targetIds||[],r.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const r=e.documentDelete,i=ra(n,r.document),u=r.readTime?nr(r.readTime):ot.min(),c=wn.newNoDocument(i,u);t=new PD([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=ra(n,r.document);t=new PD([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return qe();{const r=e.filter,{count:i=0,unchangedNames:u}=r,c=new iV(i,u);t=new OO(r.targetId,c)}}var _;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return ot.min();const u=i.targetChange;return u.targetIds&&u.targetIds.length?ot.min():u.readTime?nr(u.readTime):ot.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=qv(this.serializer),t.addTarget=function(i,u){let c;const g=u.target;if(c=TD(g)?{documents:zO(i,g)}:{query:QA(i,g)},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){c.resumeToken=VO(i,u.resumeToken);const _=qA(i,u.expectedCount);null!==_&&(c.expectedCount=_)}else if(u.snapshotVersion.compareTo(ot.min())>0){c.readTime=sg(i,u.snapshotVersion.toTimestamp());const _=qA(i,u.expectedCount);null!==_&&(c.expectedCount=_)}return c}(this.serializer,e);const r=function gV(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qe()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=qv(this.serializer),t.removeTarget=e,this.Wo(t)}}class rU extends FP{constructor(e,t,r,i,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.serializer=u,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(it(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function pV(n,e){return n&&n.length>0?(it(void 0!==e),n.map(t=>function(r,i){let u=nr(r.updateTime?r.updateTime:i);return u.isEqual(ot.min())&&(u=nr(i)),new eV(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=nr(e.commitTime);return this.listener.cu(r,t)}return it(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=qv(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function Kv(n,e){let t;if(e instanceof rg)t={update:jO(n,e.key,e.value)};else if(e instanceof ig)t={delete:Wv(n,e.key)};else if(e instanceof cu)t={update:jO(n,e.key,e.data),updateMask:vV(e.fieldMask)};else{if(!(e instanceof $A))return qe();t={verify:Wv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,u){const c=u.transform;if(c instanceof tg)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof zd)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Gd)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof ng)return{fieldPath:u.field.canonicalString(),increment:c.gt};throw qe()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:dV(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:qe()),t;var i}(this.serializer,r))};this.Wo(t)}}class iU extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new ge(J.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,u])=>this.connection.Io(e,t,r,i,u)).catch(i=>{throw"FirebaseError"===i.name?(i.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ge(J.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,c])=>this.connection.vo(e,t,r,u,c,i)).catch(u=>{throw"FirebaseError"===u.name?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ge(J.UNKNOWN,u.toString())})}terminate(){this.lu=!0}}class oU{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(er(t),this.mu=!1):Ee("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class aU{constructor(e,t,r,i,u){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=u,this.Pu.Yr(g=>{r.enqueueAndForget((0,te.Z)(function*(){var _;Gc(c)&&(Ee("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,te.Z)(function*(I){const C=Be(I);C.vu.add(4),yield dg(C),C.bu.set("Unknown"),C.vu.delete(4),yield s0(C)}),function(I){return _.apply(this,arguments)})(c))}))}),this.bu=new oU(r,i)}}function s0(n){return IM.apply(this,arguments)}function IM(){return IM=(0,te.Z)(function*(n){if(Gc(n))for(const e of n.Ru)yield e(!0)}),IM.apply(this,arguments)}function dg(n){return DM.apply(this,arguments)}function DM(){return DM=(0,te.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),DM.apply(this,arguments)}function QD(n,e){const t=Be(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),TM(t)?bM(t):fg(t).Ko()&&CM(t,e))}function o0(n,e){const t=Be(n),r=fg(t);t.Au.delete(e),r.Ko()&&LP(t,e),0===t.Au.size&&(r.Ko()?r.jo():Gc(t)&&t.bu.set("Unknown"))}function CM(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ot.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}fg(n).su(e)}function LP(n,e){n.Vu.qt(e),fg(n).iu(e)}function bM(n){n.Vu=new oV({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),fg(n).start(),n.bu.gu()}function TM(n){return Gc(n)&&!fg(n).Uo()&&n.Au.size>0}function Gc(n){return 0===Be(n).vu.size}function VP(n){n.Vu=void 0}function uU(n){return SM.apply(this,arguments)}function SM(){return SM=(0,te.Z)(function*(n){n.Au.forEach((e,t)=>{CM(n,e)})}),SM.apply(this,arguments)}function cU(n,e){return AM.apply(this,arguments)}function AM(){return AM=(0,te.Z)(function*(n,e){VP(n),TM(n)?(n.bu.Iu(e),bM(n)):n.bu.set("Unknown")}),AM.apply(this,arguments)}function lU(n,e,t){return MM.apply(this,arguments)}function MM(){return MM=(0,te.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof PO&&2===e.state&&e.cause)try{yield(r=(0,te.Z)(function*(i,u){const c=u.cause;for(const g of u.targetIds)i.Au.has(g)&&(yield i.remoteSyncer.rejectListen(g,c),i.Au.delete(g),i.Vu.removeTarget(g))}),function(i,u){return r.apply(this,arguments)})(n,e)}catch(r){Ee("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield JD(n,r)}else if(e instanceof PD?n.Vu.Ht(e):e instanceof OO?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(ot.min()))try{const r=yield TP(n.localStore);t.compareTo(r)>=0&&(yield function(i,u){const c=i.Vu.ce(u);return c.targetChanges.forEach((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const I=i.Au.get(_);I&&i.Au.set(_,I.withResumeToken(g.resumeToken,u))}}),c.targetMismatches.forEach((g,_)=>{const I=i.Au.get(g);if(!I)return;i.Au.set(g,I.withResumeToken(Ir.EMPTY_BYTE_STRING,I.snapshotVersion)),LP(i,g);const C=new lu(I.target,g,_,I.sequenceNumber);CM(i,C)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){Ee("RemoteStore","Failed to raise snapshot:",r),yield JD(n,r)}var r}),MM.apply(this,arguments)}function JD(n,e,t){return xM.apply(this,arguments)}function xM(){return xM=(0,te.Z)(function*(n,e,t){if(!Pc(e))throw e;n.vu.add(1),yield dg(n),n.bu.set("Offline"),t||(t=()=>TP(n.localStore)),n.asyncQueue.enqueueRetryable((0,te.Z)(function*(){Ee("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield s0(n)}))}),xM.apply(this,arguments)}function UP(n,e){return e().catch(t=>JD(n,t,e))}function hg(n){return RM.apply(this,arguments)}function RM(){return RM=(0,te.Z)(function*(n){const e=Be(n),t=Wc(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;dU(e);)try{const i=yield ZV(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,hU(e,i)}catch(i){yield JD(e,i)}BP(e)&&$P(e)}),RM.apply(this,arguments)}function dU(n){return Gc(n)&&n.Eu.length<10}function hU(n,e){n.Eu.push(e);const t=Wc(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function BP(n){return Gc(n)&&!Wc(n).Uo()&&n.Eu.length>0}function $P(n){Wc(n).start()}function fU(n){return NM.apply(this,arguments)}function NM(){return NM=(0,te.Z)(function*(n){Wc(n).hu()}),NM.apply(this,arguments)}function pU(n){return OM.apply(this,arguments)}function OM(){return OM=(0,te.Z)(function*(n){const e=Wc(n);for(const t of n.Eu)e.uu(t.mutations)}),OM.apply(this,arguments)}function gU(n,e,t){return PM.apply(this,arguments)}function PM(){return PM=(0,te.Z)(function*(n,e,t){const r=n.Eu.shift(),i=HA.from(r,e,t);yield UP(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield hg(n)}),PM.apply(this,arguments)}function mU(n,e){return kM.apply(this,arguments)}function kM(){return kM=(0,te.Z)(function*(n,e){var t;e&&Wc(n).ou&&(yield(t=(0,te.Z)(function*(r,i){if(function AO(n){switch(n){default:return qe();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0}}(u=i.code)&&u!==J.ABORTED){const c=r.Eu.shift();Wc(r).Qo(),yield UP(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield hg(r)}var u}),function(r,i){return t.apply(this,arguments)})(n,e)),BP(n)&&$P(n)}),kM.apply(this,arguments)}function jP(n,e){return FM.apply(this,arguments)}function FM(){return FM=(0,te.Z)(function*(n,e){const t=Be(n);t.asyncQueue.verifyOperationInProgress(),Ee("RemoteStore","RemoteStore received new credentials");const r=Gc(t);t.vu.add(3),yield dg(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield s0(t)}),FM.apply(this,arguments)}function VM(){return VM=(0,te.Z)(function*(n,e){const t=Be(n);e?(t.vu.delete(2),yield s0(t)):e||(t.vu.add(2),yield dg(t),t.bu.set("Unknown"))}),VM.apply(this,arguments)}function fg(n){return n.Su||(n.Su=function(e,t,r){const i=Be(e);return i.fu(),new nU(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:uU.bind(null,n),ao:cU.bind(null,n),nu:lU.bind(null,n)}),n.Ru.push(function(){var e=(0,te.Z)(function*(t){t?(n.Su.Qo(),TM(n)?bM(n):n.bu.set("Unknown")):(yield n.Su.stop(),VP(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Wc(n){return n.Du||(n.Du=function(e,t,r){const i=Be(e);return i.fu(),new rU(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:fU.bind(null,n),ao:mU.bind(null,n),au:pU.bind(null,n),cu:gU.bind(null,n)}),n.Ru.push(function(){var e=(0,te.Z)(function*(t){t?(n.Du.Qo(),yield hg(n)):(yield n.Du.stop(),n.Eu.length>0&&(Ee("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class UM{constructor(e,t,r,i,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=u,this.deferred=new Er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,u){const c=Date.now()+r,g=new UM(e,t,c,i,u);return g.start(r),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ge(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pg(n,e){if(er("AsyncQueue",`${e}: ${n}`),Pc(n))return new ge(J.UNAVAILABLE,`${e}: ${n}`);throw n}class gg{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ve.comparator(t.key,r.key):(t,r)=>Ve.comparator(t.key,r.key),this.keyedMap=Uv(),this.sortedSet=new pn(this.comparator)}static emptySet(e){return new gg(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof gg)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(!i.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new gg;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class HP{constructor(){this.Cu=new pn(Ve.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):qe():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class mg{constructor(e,t,r,i,u,c,g,_,I){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=I}static fromInitialDocuments(e,t,r,i,u){const c=[];return t.forEach(g=>{c.push({type:0,doc:g})}),new mg(e,t,gg.emptySet(t),c,r,i,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class yU{constructor(){this.Nu=void 0,this.listeners=[]}}class _U{constructor(){this.queries=new uu(e=>cO(e),Lv),this.onlineState="Unknown",this.ku=new Set}}function BM(n,e){return $M.apply(this,arguments)}function $M(){return $M=(0,te.Z)(function*(n,e){const t=Be(n),r=e.query;let i=!1,u=t.queries.get(r);if(u||(i=!0,u=new yU),i)try{u.Nu=yield t.onListen(r)}catch(c){const g=pg(c,`Initialization of query '${UA(e.query)}' failed`);return void e.onError(g)}t.queries.set(r,u),u.listeners.push(e),e.Mu(t.onlineState),u.Nu&&e.$u(u.Nu)&&zM(t)}),$M.apply(this,arguments)}function jM(n,e){return HM.apply(this,arguments)}function HM(){return HM=(0,te.Z)(function*(n,e){const t=Be(n),r=e.query;let i=!1;const u=t.queries.get(r);if(u){const c=u.listeners.indexOf(e);c>=0&&(u.listeners.splice(c,1),i=0===u.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),HM.apply(this,arguments)}function vU(n,e){const t=Be(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const g of c.listeners)g.$u(i)&&(r=!0);c.Nu=i}}r&&zM(t)}function wU(n,e,t){const r=Be(n),i=r.queries.get(e);if(i)for(const u of i.listeners)u.onError(t);r.queries.delete(e)}function zM(n){n.ku.forEach(e=>{e.next()})}class GM{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new mg(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=mg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class WP{constructor(e){this.key=e}}class qP{constructor(e){this.key=e}}class KP{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Rt(),this.mutatedKeys=Rt(),this.tc=dO(e),this.ec=new gg(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new HP,i=t?t.ec:this.ec;let u=t?t.mutatedKeys:this.mutatedKeys,c=i,g=!1;const _="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,I="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((C,S)=>{const k=i.get(C),$=Vv(this.query,S)?S:null,se=!!k&&this.mutatedKeys.has(k.key),ve=!!$&&($.hasLocalMutations||this.mutatedKeys.has($.key)&&$.hasCommittedMutations);let me=!1;k&&$?k.data.isEqual($.data)?se!==ve&&(r.track({type:3,doc:$}),me=!0):this.rc(k,$)||(r.track({type:2,doc:$}),me=!0,(_&&this.tc($,_)>0||I&&this.tc($,I)<0)&&(g=!0)):!k&&$?(r.track({type:0,doc:$}),me=!0):k&&!$&&(r.track({type:1,doc:k}),me=!0,(_||I)&&(g=!0)),me&&($?(c=c.add($),u=ve?u.add(C):u.delete(C)):(c=c.delete(C),u=u.delete(C)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const C="F"===this.query.limitType?c.last():c.first();c=c.delete(C.key),u=u.delete(C.key),r.track({type:1,doc:C})}return{ec:c,ic:r,zi:g,mutatedKeys:u}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const u=e.ic.xu();u.sort((I,C)=>function(S,k){const $=se=>{switch(se){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qe()}};return $(S)-$(k)}(I.type,C.type)||this.tc(I.doc,C.doc)),this.oc(r);const c=t?this.uc():[],g=0===this.Zu.size&&this.current?1:0,_=g!==this.Xu;return this.Xu=g,0!==u.length||_?{snapshot:new mg(this.query,e.ec,i,u,e.mutatedKeys,0===g,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:c}:{cc:c}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new HP,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Rt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new qP(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new WP(r))}),t}hc(e){this.Yu=e.ir,this.Zu=Rt();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return mg.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class DU{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class CU{constructor(e){this.key=e,this.fc=!1}}class bU{constructor(e,t,r,i,u,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.dc={},this.wc=new uu(g=>cO(g),Lv),this._c=new Map,this.mc=new Set,this.gc=new pn(Ve.comparator),this.yc=new Map,this.Ic=new sM,this.Tc={},this.Ec=new Map,this.Ac=Qd.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function TU(n,e){return WM.apply(this,arguments)}function WM(){return WM=(0,te.Z)(function*(n,e){const t=function gx(n){const e=Be(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=ZP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=MU.bind(null,e),e.dc.nu=vU.bind(null,e.eventManager),e.dc.Pc=wU.bind(null,e.eventManager),e}(n);let r,i;const u=t.wc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),i=u.view.lc();else{const c=yield function cg(n,e){const t=Be(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(u=>u?(i=u,q.resolve(i)):t.Bs.allocateTargetId(r).next(c=>(i=new lu(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}(t.localStore,_i(e)),g=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield function qM(n,e,t,r,i){return KM.apply(this,arguments)}(t,e,r,"current"===g,c.resumeToken),t.isPrimaryClient&&QD(t.remoteStore,c)}return i}),WM.apply(this,arguments)}function KM(){return KM=(0,te.Z)(function*(n,e,t,r,i){n.Rc=(S,k,$)=>{return(se=(0,te.Z)(function*(ve,me,Ke,et){let lt=me.view.sc(Ke);lt.zi&&(lt=yield WD(ve.localStore,me.query,!1).then(({documents:Qt})=>me.view.sc(Qt,lt)));const Ct=et&&et.targetChanges.get(me.targetId),Bt=me.view.applyChanges(lt,ve.isPrimaryClient,Ct);return ix(ve,me.targetId,Bt.cc),Bt.snapshot}),function(ve,me,Ke,et){return se.apply(this,arguments)})(n,S,k,$);var se};const u=yield WD(n.localStore,e,!0),c=new KP(e,u.ir),g=c.sc(u.documents),_=Gv.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),I=c.applyChanges(g,n.isPrimaryClient,_);ix(n,t,I.cc);const C=new DU(e,t,c);return n.wc.set(e,C),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),I.snapshot}),KM.apply(this,arguments)}function SU(n,e){return ZM.apply(this,arguments)}function ZM(){return ZM=(0,te.Z)(function*(n,e){const t=Be(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(u=>!Lv(u,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield lg(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),o0(t.remoteStore,r.targetId),yg(t,r.targetId)}).catch(Oc))):(yg(t,r.targetId),yield lg(t.localStore,r.targetId,!0))}),ZM.apply(this,arguments)}function YM(){return YM=(0,te.Z)(function*(n,e,t){const r=function mx(n){const e=Be(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RU.bind(null,e),e}(n);try{const i=yield function(u,c){const g=Be(u),_=Nn.now(),I=c.reduce((k,$)=>k.add($.key),Rt());let C,S;return g.persistence.runTransaction("Locally write mutations","readwrite",k=>{let $=Li(),se=Rt();return g.Zi.getEntries(k,I).next(ve=>{$=ve,$.forEach((me,Ke)=>{Ke.isValidDocument()||(se=se.add(me))})}).next(()=>g.localDocuments.getOverlayedDocuments(k,$)).next(ve=>{C=ve;const me=[];for(const Ke of c){const et=nV(Ke,C.get(Ke.key).overlayedDocument);null!=et&&me.push(new cu(Ke.key,et,ZN(et.value.mapValue),bn.exists(!0)))}return g.mutationQueue.addMutationBatch(k,_,me,c)}).next(ve=>{S=ve;const me=ve.applyToLocalDocumentSet(C,se);return g.documentOverlayCache.saveOverlays(k,ve.batchId,me)})}).then(()=>({batchId:S.batchId,changes:fO(C)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,c,g){let _=u.Tc[u.currentUser.toKey()];_||(_=new pn(Dt)),_=_.insert(c,g),u.Tc[u.currentUser.toKey()]=_}(r,i.batchId,t),yield du(r,i.changes),yield hg(r.remoteStore)}catch(i){const u=pg(i,"Failed to persist write");t.reject(u)}}),YM.apply(this,arguments)}function ZP(n,e){return QM.apply(this,arguments)}function QM(){return QM=(0,te.Z)(function*(n,e){const t=Be(n);try{const r=yield function KV(n,e){const t=Be(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const c=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const g=[];e.targetChanges.forEach((C,S)=>{const k=i.get(S);if(!k)return;g.push(t.Bs.removeMatchingKeys(u,C.removedDocuments,S).next(()=>t.Bs.addMatchingKeys(u,C.addedDocuments,S)));let $=k.withSequenceNumber(u.currentSequenceNumber);var se,ve,me;null!==e.targetMismatches.get(S)?$=$.withResumeToken(Ir.EMPTY_BYTE_STRING,ot.min()).withLastLimboFreeSnapshotVersion(ot.min()):C.resumeToken.approximateByteSize()>0&&($=$.withResumeToken(C.resumeToken,r)),i=i.insert(S,$),ve=$,me=C,(0===(se=k).resumeToken.approximateByteSize()||ve.snapshotVersion.toMicroseconds()-se.snapshotVersion.toMicroseconds()>=3e8||me.addedDocuments.size+me.modifiedDocuments.size+me.removedDocuments.size>0)&&g.push(t.Bs.updateTargetData(u,$))});let _=Li(),I=Rt();if(e.documentUpdates.forEach(C=>{e.resolvedLimboDocuments.has(C)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(u,C))}),g.push(function SP(n,e,t){let r=Rt(),i=Rt();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let c=Li();return t.forEach((g,_)=>{const I=u.get(g);_.isFoundDocument()!==I.isFoundDocument()&&(i=i.add(g)),_.isNoDocument()&&_.version.isEqual(ot.min())?(e.removeEntry(g,_.readTime),c=c.insert(g,_)):!I.isValidDocument()||_.version.compareTo(I.version)>0||0===_.version.compareTo(I.version)&&I.hasPendingWrites?(e.addEntry(_),c=c.insert(g,_)):Ee("LocalStore","Ignoring outdated watch update for ",g,". Current version:",I.version," Watch version:",_.version)}),{nr:c,sr:i}})}(u,c,e.documentUpdates).next(C=>{_=C.nr,I=C.sr})),!r.isEqual(ot.min())){const C=t.Bs.getLastRemoteSnapshotVersion(u).next(S=>t.Bs.setTargetsMetadata(u,u.currentSequenceNumber,r));g.push(C)}return q.waitFor(g).next(()=>c.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,_,I)).next(()=>_)}).then(u=>(t.Ji=i,u))}(t.localStore,e);e.targetChanges.forEach((i,u)=>{const c=t.yc.get(u);c&&(it(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.fc=!0:i.modifiedDocuments.size>0?it(c.fc):i.removedDocuments.size>0&&(it(c.fc),c.fc=!1))}),yield du(t,r,e)}catch(r){yield Oc(r)}}),QM.apply(this,arguments)}function YP(n,e,t){const r=Be(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((u,c)=>{const g=c.view.Mu(e);g.snapshot&&i.push(g.snapshot)}),function(u,c){const g=Be(u);g.onlineState=c;let _=!1;g.queries.forEach((I,C)=>{for(const S of C.listeners)S.Mu(c)&&(_=!0)}),_&&zM(g)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function MU(n,e,t){return JM.apply(this,arguments)}function JM(){return JM=(0,te.Z)(function*(n,e,t){const r=Be(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),u=i&&i.key;if(u){let c=new pn(Ve.comparator);c=c.insert(u,wn.newNoDocument(u,ot.min()));const g=Rt().add(u),_=new zv(ot.min(),new Map,new pn(Dt),c,g);yield ZP(r,_),r.gc=r.gc.remove(u),r.yc.delete(e),sx(r)}else yield lg(r.localStore,e,!1).then(()=>yg(r,e,t)).catch(Oc)}),JM.apply(this,arguments)}function xU(n,e){return XM.apply(this,arguments)}function XM(){return XM=(0,te.Z)(function*(n,e){const t=Be(n),r=e.batch.batchId;try{const i=yield function qV(n,e){const t=Be(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),u=t.Zi.newChangeBuffer({trackRemovals:!0});return function(c,g,_,I){const C=_.batch,S=C.keys();let k=q.resolve();return S.forEach($=>{k=k.next(()=>I.getEntry(g,$)).next(se=>{const ve=_.docVersions.get($);it(null!==ve),se.version.compareTo(ve)<0&&(C.applyToRemoteDocument(se,_),se.isValidDocument()&&(se.setReadTime(_.commitVersion),I.addEntry(se)))})}),k.next(()=>c.mutationQueue.removeMutationBatch(g,C))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let g=Rt();for(let _=0;_<c.mutationResults.length;++_)c.mutationResults[_].transformResults.length>0&&(g=g.add(c.batch.mutations[_].key));return g}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);rx(t,r,null),nx(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield du(t,i)}catch(i){yield Oc(i)}}),XM.apply(this,arguments)}function RU(n,e,t){return ex.apply(this,arguments)}function ex(){return ex=(0,te.Z)(function*(n,e,t){const r=Be(n);try{const i=yield function(u,c){const g=Be(u);return g.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let I;return g.mutationQueue.lookupMutationBatch(_,c).next(C=>(it(null!==C),I=C.keys(),g.mutationQueue.removeMutationBatch(_,C))).next(()=>g.mutationQueue.performConsistencyCheck(_)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(_,I,c)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,I)).next(()=>g.localDocuments.getDocuments(_,I))})}(r.localStore,e);rx(r,e,t),nx(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield du(r,i)}catch(i){yield Oc(i)}}),ex.apply(this,arguments)}function nx(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function rx(n,e,t){const r=Be(n);let i=r.Tc[r.currentUser.toKey()];if(i){const u=i.get(e);u&&(t?u.reject(t):u.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function yg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||QP(n,r)})}function QP(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(o0(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),sx(n))}function ix(n,e,t){for(const r of t)r instanceof WP?(n.Ic.addReference(r.key,e),OU(n,r)):r instanceof qP?(Ee("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||QP(n,r.key)):qe()}function OU(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(Ee("SyncEngine","New document in limbo: "+t),n.mc.add(r),sx(n))}function sx(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new Ve(Wt.fromString(e)),r=n.Ac.next();n.yc.set(r,new CU(t)),n.gc=n.gc.insert(t,r),QD(n.remoteStore,new lu(_i(eg(t.path)),r,"TargetPurposeLimboResolution",rs.ct))}}function du(n,e,t){return ox.apply(this,arguments)}function ox(){return ox=(0,te.Z)(function*(n,e,t){const r=Be(n),i=[],u=[],c=[];var g;r.wc.isEmpty()||(r.wc.forEach((g,_)=>{c.push(r.Rc(_,e,t).then(I=>{if((I||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,I?.fromCache?"not-current":"current"),I){i.push(I);const C=lM.Li(_.targetId,I);u.push(C)}}))}),yield Promise.all(c),r.dc.nu(i),yield(g=(0,te.Z)(function*(_,I){const C=Be(_);try{yield C.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>q.forEach(I,k=>q.forEach(k.Fi,$=>C.persistence.referenceDelegate.addReference(S,k.targetId,$)).next(()=>q.forEach(k.Bi,$=>C.persistence.referenceDelegate.removeReference(S,k.targetId,$)))))}catch(S){if(!Pc(S))throw S;Ee("LocalStore","Failed to update sequence numbers: "+S)}for(const S of I){const k=S.targetId;if(!S.fromCache){const $=C.Ji.get(k),ve=$.withLastLimboFreeSnapshotVersion($.snapshotVersion);C.Ji=C.Ji.insert(k,ve)}}}),function(_,I){return g.apply(this,arguments)})(r.localStore,u))}),ox.apply(this,arguments)}function PU(n,e){return ax.apply(this,arguments)}function ax(){return ax=(0,te.Z)(function*(n,e){const t=Be(n);if(!t.currentUser.isEqual(e)){Ee("SyncEngine","User change. New user:",e.toKey());const r=yield bP(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(c=>{c.forEach(g=>{g.reject(new ge(J.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield du(t,r.er)}var i}),ax.apply(this,arguments)}function kU(n,e){const t=Be(n),r=t.yc.get(e);if(r&&r.fc)return Rt().add(r.key);{let i=Rt();const u=t._c.get(e);if(!u)return i;for(const c of u){const g=t.wc.get(c);i=i.unionWith(g.view.nc)}return i}}class XD{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,te.Z)(function*(){t.serializer=r0(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function CP(n,e,t,r){return new WV(n,e,t,r)}(this.persistence,new DP,e.initialUser,this.serializer)}createPersistence(e){return new oM(HD.zs,this.serializer)}createSharedClientState(e){return new OP}terminate(){var e=this;return(0,te.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class _g{initialize(e,t){var r=this;return(0,te.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>YP(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=PU.bind(null,r.syncEngine),yield function LM(n,e){return VM.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new _U}createDatastore(e){const t=r0(e.databaseInfo.databaseId),r=new tU(e.databaseInfo);return new iU(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,u=g=>YP(this.syncEngine,g,0),c=PP.D()?new PP:new JV,new aU(t,r,i,u,c);var t,r,i,u,c}createSyncEngine(e,t){return function(r,i,u,c,g,_,I){const C=new bU(r,i,u,c,g,_);return I&&(C.vc=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,te.Z)(function*(t){const r=Be(t);Ee("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield dg(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class eC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):er("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class KU{constructor(e,t,r,i){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=xr.UNAUTHENTICATED,this.clientId=TN.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,te.Z)(function*(g){Ee("FirestoreClient","Received user=",g.uid),yield u.authCredentialListener(g),u.user=g});return function(g){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(Ee("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,te.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ge(J.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,te.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=pg(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function tC(n,e){return yx.apply(this,arguments)}function yx(){return yx=(0,te.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ee("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,te.Z)(function*(u){r.isEqual(u)||(yield bP(e.localStore,u),r=u)});return function(u){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),yx.apply(this,arguments)}function _x(n,e){return vx.apply(this,arguments)}function vx(){return vx=(0,te.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function wx(n){return Ex.apply(this,arguments)}(n);Ee("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>jP(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,u)=>jP(e.remoteStore,u)),n._onlineComponents=e}),vx.apply(this,arguments)}function Ex(){return Ex=(0,te.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ee("FirestoreClient","Using user provided OfflineComponentProvider");try{yield tC(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function rk(n){return"FirebaseError"===n.name?n.code===J.FAILED_PRECONDITION||n.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;to("Error using user provided cache. Falling back to memory cache: "+t),yield tC(n,new XD)}}else Ee("FirestoreClient","Using default OfflineComponentProvider"),yield tC(n,new XD);return n._offlineComponents}),Ex.apply(this,arguments)}function nC(n){return Ix.apply(this,arguments)}function Ix(){return Ix=(0,te.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ee("FirestoreClient","Using user provided OnlineComponentProvider"),yield _x(n,n._uninitializedComponentsProvider._online)):(Ee("FirestoreClient","Using default OnlineComponentProvider"),yield _x(n,new _g))),n._onlineComponents}),Ix.apply(this,arguments)}function vg(n){return Cx.apply(this,arguments)}function Cx(){return Cx=(0,te.Z)(function*(n){const e=yield nC(n),t=e.eventManager;return t.onListen=TU.bind(null,e.syncEngine),t.onUnlisten=SU.bind(null,e.syncEngine),t}),Cx.apply(this,arguments)}function ck(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const lk=new Map;function bx(n,e,t){if(!t)throw new ge(J.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function dk(n){if(!Ve.isDocumentKey(n))throw new ge(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function hk(n){if(Ve.isDocumentKey(n))throw new ge(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function iC(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":qe()}function Gt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ge(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=iC(n);throw new ge(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class pk{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new ge(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ge(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function rB(n,e,t,r){if(!0===e&&!0===r)throw new ge(J.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=ck(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new ge(J.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ge(J.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ge(J.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class a0{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pk({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ge(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ge(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pk(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new t2;switch(t.type){case"firstParty":return new s2(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new ge(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=lk.get(e);t&&(Ee("ComponentProvider","Removing Datastore"),lk.delete(e),t.terminate())}(this),Promise.resolve()}}class rr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ia(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rr(this.firestore,e,this._key)}}class jr{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new jr(this.firestore,e,this._query)}}class ia extends jr{constructor(e,t,r){super(e,t,eg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rr(this.firestore,null,new Ve(e))}withConverter(e){return new ia(this.firestore,e,this._path)}}function sC(n,e,...t){if(n=(0,xt.m9)(n),bx("collection","path",e),n instanceof a0){const r=Wt.fromString(e,...t);return hk(r),new ia(n,null,r)}{if(!(n instanceof rr||n instanceof ia))throw new ge(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Wt.fromString(e,...t));return hk(r),new ia(n.firestore,null,r)}}function u0(n,e,...t){if(n=(0,xt.m9)(n),1===arguments.length&&(e=TN.A()),bx("doc","path",e),n instanceof a0){const r=Wt.fromString(e,...t);return dk(r),new rr(n,null,new Ve(r))}{if(!(n instanceof rr||n instanceof ia))throw new ge(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Wt.fromString(e,...t));return dk(r),new rr(n.firestore,n instanceof ia?n.converter:null,new Ve(r))}}class sB{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new wM(this,"async_queue_retry"),this.Xc=()=>{const t=YD();t&&Ee("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=YD();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=YD();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Er;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,te.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Pc(t))throw t;Ee("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,er("INTERNAL UNHANDLED ERROR: ",function(u){let c=u.message||"";return u.stack&&(c=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),c}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=UM.createAndSchedule(this,e,t,r,u=>this.na(u));return this.zc.push(i),i}Zc(){this.Wc&&qe()}verifyOperationInProgress(){}sa(){var e=this;return(0,te.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class En extends a0{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new sB,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||mk(this),this._firestoreClient.terminate()}}function aB(n,e){const t="object"==typeof n?n:(0,Mt.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,Mt._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const u=(0,xt.P0)("firestore");u&&function iB(n,e,t,r={}){var i;const u=(n=Gt(n,a0))._getSettings(),c=`${e}:${t}`;if("firestore.googleapis.com"!==u.host&&u.host!==c&&to("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},u),{host:c,ssl:!1})),r.mockUserToken){let g,_;if("string"==typeof r.mockUserToken)g=r.mockUserToken,_=xr.MOCK_USER;else{g=(0,xt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const I=r.mockUserToken.sub||r.mockUserToken.user_id;if(!I)throw new ge(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new xr(I)}n._authCredentials=new n2(new CN(g,_))}}(i,...u)}return i}function dr(n){return n._firestoreClient||mk(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function mk(n){var e,t,r;const i=n._freezeSettings(),u=(g=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new k2(n._databaseId,g,n._persistenceKey,(I=i).host,I.ssl,I.experimentalForceLongPolling,I.experimentalAutoDetectLongPolling,ck(I.experimentalLongPollingOptions),I.useFetchStreams));var g,I;n._firestoreClient=new KU(n._authCredentials,n._appCheckCredentials,n._queue,u),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Xd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xd(Ir.fromBase64String(e))}catch(t){throw new ge(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Xd(Ir.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class wg{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ge(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class vk{constructor(e){this._methodName=e}}class Sx{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ge(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ge(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Dt(this._lat,e._lat)||Dt(this._long,e._long)}}const cB=/^__.*__$/;class lB{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new cu(e,this.data,this.fieldMask,t,this.fieldTransforms):new rg(e,this.data,t,this.fieldTransforms)}}function Ek(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qe()}}class oC{constructor(e,t,r,i,u,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===u&&this.ua(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new oC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return uC(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Ek(this.ca)&&cB.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class dB{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||r0(e)}ya(e,t,r,i=!1){return new oC({ca:e,methodName:t,ga:r,path:tr.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Eg(n){const e=n._freezeSettings(),t=r0(n._databaseId);return new dB(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Ax(n,e,t,r,i,u={}){const c=n.ya(u.merge||u.mergeFields?2:0,e,t,i);xx("Data must be an object, but it was:",c,r);const g=Tk(r,c);let _,I;if(u.merge)_=new Fi(c.fieldMask),I=c.fieldTransforms;else if(u.mergeFields){const C=[];for(const S of u.mergeFields){const k=d0(e,S,t);if(!c.contains(k))throw new ge(J.INVALID_ARGUMENT,`Field '${k}' is specified in your field mask but missing from your input data.`);Ak(C,k)||C.push(k)}_=new Fi(C),I=c.fieldTransforms.filter(S=>_.covers(S.field))}else _=null,I=c.fieldTransforms;return new lB(new $r(g),_,I)}function eh(n,e){if(Sk(n=(0,xt.m9)(n)))return xx("Unsupported field value:",e,n),Tk(n,e);if(n instanceof vk)return function(t,r){if(!Ek(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let u=0;for(const c of t){let g=eh(c,r.wa(u));null==g&&(g={nullValue:"NULL_VALUE"}),i.push(g),u++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,xt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return yO(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Nn.fromDate(t);return{timestampValue:sg(r.serializer,i)}}if(t instanceof Nn){const i=new Nn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:sg(r.serializer,i)}}if(t instanceof Sx)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Xd)return{bytesValue:VO(r.serializer,t._byteString)};if(t instanceof rr){const i=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(i))throw r._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:KA(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${iC(t)}`)}(n,e)}function Tk(n,e){const t={};return BN(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):kc(n,(r,i)=>{const u=eh(i,e.ha(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function Sk(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Nn||n instanceof Sx||n instanceof Xd||n instanceof rr||n instanceof vk)}function xx(n,e,t){if(!Sk(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=iC(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function d0(n,e,t){if((e=(0,xt.m9)(e))instanceof wg)return e._internalPath;if("string"==typeof e)return aC(n,e);throw uC("Field path arguments must be of type string or ",n,!1,void 0,t)}const gB=new RegExp("[~\\*/\\[\\]]");function aC(n,e,t){if(e.search(gB)>=0)throw uC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new wg(...e.split("."))._internalPath}catch{throw uC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function uC(n,e,t,r,i){const u=r&&!r.isEmpty(),c=void 0!==i;let g=`Function ${e}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(u||c)&&(_+=" (found",u&&(_+=` in field ${r}`),c&&(_+=` in document ${i}`),_+=")"),new ge(J.INVALID_ARGUMENT,g+n+_)}function Ak(n,e){return n.some(t=>t.isEqual(e))}class Rx{constructor(e,t,r,i,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new rr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new mB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(cC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class mB extends Rx{data(){return super.data()}}function cC(n,e){return"string"==typeof e?aC(n,e):e instanceof wg?e._internalPath:e._delegate._internalPath}class _B{convertValue(e,t="none"){switch(Vc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ou(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw qe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return kc(e,(i,u)=>{r[i]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new Sx(Vn(e.latitude),Vn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=ID(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Nv(e));default:return null}}convertTimestamp(e){const t=Fc(e);return new Nn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Wt.fromString(e);it(KO(r));const i=new Bd(r.get(1),r.get(3)),u=new Ve(r.popFirst(5));return i.isEqual(t)||er(`Document ${u} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function Ox(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class th{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Dg extends Rx{constructor(e,t,r,i,u,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new fC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(cC("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class fC extends Dg{data(e={}){return super.data(e)}}class Cg{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new th(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new fC(this._firestore,this._userDataWriter,r.key,r,new th(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ge(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new fC(r._firestore,r._userDataWriter,c.doc.key,c.doc,new th(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const g=new fC(r._firestore,r._userDataWriter,c.doc.key,c.doc,new th(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,I=-1;return 0!==c.type&&(_=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),1!==c.type&&(u=u.add(c.doc),I=u.indexOf(c.doc.key)),{type:wB(c.type),doc:g,oldIndex:_,newIndex:I}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function wB(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qe()}}function Fk(n){n=Gt(n,rr);const e=Gt(n.firestore,En);return function ak(n,e,t={}){const r=new Er;return n.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return function(i,u,c,g,_){const I=new eC({next:S=>{u.enqueueAndForget(()=>jM(i,C));const k=S.docs.has(c);!k&&S.fromCache?_.reject(new ge(J.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&S.fromCache&&g&&"server"===g.source?_.reject(new ge(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(S)},error:S=>_.reject(S)}),C=new GM(eg(c.path),I,{includeMetadataChanges:!0,Ku:!0});return BM(i,C)}(yield vg(n),n.asyncQueue,e,t,r)})),r.promise}(dr(e),n._key).then(t=>function Px(n,e,t){const r=t.docs.get(e._key),i=new qc(n);return new Dg(n,i,e._key,r,new th(t.hasPendingWrites,t.fromCache),e.converter)}(e,n,t))}class qc extends _B{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new rr(this.firestore,null,t)}}function f0(n,e){return function(t,r){const i=new Er;return t.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return function AU(n,e,t){return YM.apply(this,arguments)}(yield function Dx(n){return nC(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(dr(n),e)}!function(n,e=!0){Kp=Mt.SDK_VERSION,(0,Mt._registerComponent)(new xi.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const u=t.getProvider("app").getImmediate(),c=new En(new r2(t.getProvider("auth-internal")),new o2(t.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ge(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bd(g.options.projectId,_)}(u,r),u);return i=Object.assign({useFetchStreams:e},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),(0,Mt.registerVersion)(DN,"3.13.0",n),(0,Mt.registerVersion)(DN,"3.13.0","esm2017")}();class Kc{constructor(e){return e}}const Vk="firestore",kx=new h.OlP("angularfire2.firestore-instances");function VB(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Kc(r)}}const UB={provide:class FB{constructor(){return E_(Vk)}},deps:[[new h.FiY,kx]]},BB={provide:Kc,useFactory:function LB(n,e){const t=w_(Vk,n,e);return t&&new Kc(t)},deps:[[new h.FiY,kx],eu]};let $B=(()=>{class n{constructor(){(0,Mt.registerVersion)("angularfire",Ed.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[BB,UB]}),n})();function jB(n,...e){return{ngModule:$B,providers:[{provide:kx,useFactory:VB(n),multi:!0,deps:[h.R0b,h.zs3,wp,D_,[new h.FiY,q_],[new h.FiY,Md],...e]}]}}const HB=Ip(aB,!0);let Uk=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq))},n.\u0275dir=h.lG2({type:n}),n})(),nh=(()=>{class n extends Uk{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,features:[h.qOj]}),n})();const sa=new h.OlP("NgValueAccessor"),WB={provide:sa,useExisting:(0,h.Gpc)(()=>rh),multi:!0},KB=new h.OlP("CompositionEventMode");let rh=(()=>{class n extends Uk{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function qB(){const n=X()?X().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(KB,8))},n.\u0275dir=h.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&h.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[h._Bn([WB]),h.qOj]}),n})();const ZB=!1,ni=new h.OlP("NgValidators"),Yc=new h.OlP("NgAsyncValidators");function Yk(n){return null!=n}function Qk(n){const e=(0,h.QGY)(n)?(0,tn.D)(n):n;if(ZB&&!(0,h.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new h.vHH(-1101,t)}return e}function Jk(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Xk(n,e){return e.map(t=>t(n))}function eF(n){return n.map(e=>function QB(n){return!n.validate}(e)?e:t=>e.validate(t))}function Fx(n){return null!=n?function tF(n){if(!n)return null;const e=n.filter(Yk);return 0==e.length?null:function(t){return Jk(Xk(t,e))}}(eF(n)):null}function Lx(n){return null!=n?function nF(n){if(!n)return null;const e=n.filter(Yk);return 0==e.length?null:function(t){return function zB(...n){const e=(0,ci.jO)(n),{args:t,keys:r}=ku(n),i=new Qr.y(u=>{const{length:c}=t;if(!c)return void u.complete();const g=new Array(c);let _=c,I=c;for(let C=0;C<c;C++){let S=!1;(0,Lu.Xf)(t[C]).subscribe((0,ur.x)(u,k=>{S||(S=!0,I--),g[C]=k},()=>_--,void 0,()=>{(!_||!S)&&(I||u.next(r?Ra(r,g):g),u.complete())}))}});return e?i.pipe(bi(e)):i}(Xk(t,e).map(Qk)).pipe((0,vt.U)(Jk))}}(eF(n)):null}function rF(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Vx(n){return n?Array.isArray(n)?n:[n]:[]}function mC(n,e){return Array.isArray(n)?n.includes(e):n===e}function oF(n,e){const t=Vx(e);return Vx(n).forEach(i=>{mC(t,i)||t.push(i)}),t}function aF(n,e){return Vx(e).filter(t=>!mC(n,t))}class uF{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Fx(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Lx(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class vi extends uF{get formDirective(){return null}get path(){return null}}class Qc extends uF{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class cF{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let p0=(()=>{class n extends cF{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Qc,2))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[h.qOj]}),n})(),g0=(()=>{class n extends cF{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(vi,10))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[h.qOj]}),n})();function lF(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const $x=!1,m0="VALID",_C="INVALID",bg="PENDING",y0="DISABLED";function jx(n){return(vC(n)?n.validators:n)||null}function Hx(n,e){return(vC(e)?e.asyncValidators:n)||null}function vC(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class fF{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===m0}get invalid(){return this.status===_C}get pending(){return this.status==bg}get disabled(){return this.status===y0}get enabled(){return this.status!==y0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(oF(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(oF(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(aF(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(aF(e,this._rawAsyncValidators))}hasValidator(e){return mC(this._rawValidators,e)}hasAsyncValidator(e){return mC(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=bg,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=y0,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=m0,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===m0||this.status===bg)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?y0:m0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=bg,this._hasOwnPendingAsyncValidator=!0;const t=Qk(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?y0:this.errors?_C:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(bg)?bg:this._anyControlsHaveStatus(_C)?_C:m0}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){vC(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function i$(n){return Array.isArray(n)?Fx(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function s$(n){return Array.isArray(n)?Lx(n):n||null}(this._rawAsyncValidators)}}class zx extends fF{constructor(e,t,r){super(jx(t),Hx(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function hF(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new h.vHH(1002,$x?function r$(n,e){return`Must supply a value for form control ${lF(n,e)}`}(e,i):"")})})(this,!0,e),Object.keys(e).forEach(r=>{(function dF(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new h.vHH(1e3,$x?function t$(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[t])throw new h.vHH(1001,$x?function n$(n,e){return`Cannot find form control ${lF(n,e)}`}(e,t):"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,u)=>{r=t(r,i,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Tg=new h.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>wC}),wC="always";function _0(n,e,t=wC){Gx(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function u$(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&pF(n,e)})}(n,e),function l$(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function c$(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&pF(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function a$(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function DC(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Gx(n,e){const t=function iF(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(rF(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function sF(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(rF(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();DC(e._rawValidators,i),DC(e._rawAsyncValidators,i)}function pF(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const g$={provide:vi,useExisting:(0,h.Gpc)(()=>ih)},v0=(()=>Promise.resolve())();let ih=(()=>{class n extends vi{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new h.vpe,this.form=new zx({},Fx(t),Lx(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){v0.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),_0(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){v0.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){v0.then(()=>{const r=this._findContainer(t.path),i=new zx({});(function gF(n,e){Gx(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){v0.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){v0.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function mF(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(ni,10),h.Y36(Yc,10),h.Y36(Tg,8))},n.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&h.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([g$]),h.qOj]}),n})();function yF(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function _F(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const vF=class extends fF{constructor(e=null,t,r){super(jx(t),Hx(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),vC(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=_F(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){yF(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){yF(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){_F(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},_$={provide:Qc,useExisting:(0,h.Gpc)(()=>Sg)},IF=(()=>Promise.resolve())();let Sg=(()=>{class n extends Qc{constructor(t,r,i,u,c,g){super(),this._changeDetectorRef=c,this.callSetDisabledState=g,this.control=new vF,this._registered=!1,this.update=new h.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Kx(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(u=>{u.constructor===rh?t=u:function f$(n){return Object.getPrototypeOf(n.constructor)===nh}(u)?r=u:i=u}),i||r||t||null}(0,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function qx(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){_0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){IF.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,h.D6c)(r);IF.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function EC(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(vi,9),h.Y36(ni,10),h.Y36(Yc,10),h.Y36(sa,10),h.Y36(h.sBO,8),h.Y36(Tg,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[h._Bn([_$]),h.qOj,h.TTD]}),n})(),w0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const v$={provide:sa,useExisting:(0,h.Gpc)(()=>E0),multi:!0};let E0=(()=>{class n extends nh{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&h.NdJ("input",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},features:[h._Bn([v$]),h.qOj]}),n})(),DF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})(),j$=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[DF]}),n})(),z$=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Tg,useValue:t.callSetDisabledState??wC}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[j$]}),n})();const G$=["createUserForm"];let W$=(()=>{class n{constructor(t){this.router=t,this.firestore=(0,h.f3M)(Kc)}saveData(){!function CB(n,e){const t=Gt(n.firestore,En),r=u0(n),i=Ox(n.converter,e);f0(t,[Ax(Eg(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,bn.exists(!1))]).then(()=>r)}(sC(this.firestore,"students"),{username:this.userform.value.username,name:this.userform.value.name,email:this.userform.value.email,phonenumber:this.userform.value.phonenumber,password:this.userform.value.password})}resetForm(){this.userform.reset({username:"",name:"",email:"",phone_number:"",password:""})}createForm(){var t=this;return(0,te.Z)(function*(){const r=(0,tu.o)();(0,tu.a8)(r,t.userform.value.email,t.userform.value.password).then(i=>{console.log("Account Created Successfully"),t.router.navigate(["/login"])}).catch(i=>{console.log(i)})})()}submitForm(){alert(this.userform.value.username),this.saveData(),this.createForm(),this.resetForm()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Zn))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-create-user"]],viewQuery:function(t,r){if(1&t&&h.Gf(G$,5),2&t){let i;h.iGM(i=h.CRH())&&(r.userform=i.first)}},decls:38,vars:0,consts:[["createUserForm","ngForm"],["for","username:"],["type","text","name","username","ngModel",""],["for","name: "],["type","text","name","name","ngModel",""],["for","email"],["type","text","name","email","ngModel",""],["for","phonenumber"],["type","number","name","phonenumber","ngModel",""],["for","password"],["type","password","name","password","ngModel",""],[1,"submit"],["type","primary",3,"click"]],template:function(t,r){1&t&&(h.TgZ(0,"form",null,0)(2,"div")(3,"table")(4,"tr")(5,"th")(6,"label",1),h._uU(7,"Username:"),h.qZA()(),h.TgZ(8,"td"),h._UZ(9,"input",2),h.qZA()(),h.TgZ(10,"tr")(11,"th")(12,"label",3),h._uU(13," Name: "),h.qZA()(),h.TgZ(14,"td"),h._UZ(15,"input",4),h.qZA()(),h.TgZ(16,"tr")(17,"th")(18,"label",5),h._uU(19,"Email :"),h.qZA()(),h.TgZ(20,"td"),h._UZ(21,"input",6),h.qZA()(),h.TgZ(22,"tr")(23,"th")(24,"label",7),h._uU(25,"Phone Number:"),h.qZA()(),h.TgZ(26,"td"),h._UZ(27,"input",8),h.qZA()(),h.TgZ(28,"tr")(29,"th")(30,"label",9),h._uU(31,"Password"),h.qZA()(),h.TgZ(32,"td"),h._UZ(33,"input",10),h.qZA()(),h.TgZ(34,"tr")(35,"th",11)(36,"button",12),h.NdJ("click",function(){return r.submitForm()}),h._uU(37," Submit "),h.qZA()()()()()())},dependencies:[w0,rh,E0,p0,g0,Sg,ih],styles:["div[_ngcontent-%COMP%]{margin:auto;width:60%;border:3px solid #73AD21;padding:10px 80px 30px 90px}.submit[_ngcontent-%COMP%]{padding-left:60%}"]}),n})();const q$=["createUserForm"];function K$(n,e){if(1&n&&(h.TgZ(0,"tr")(1,"td"),h._uU(2),h.qZA(),h.TgZ(3,"td"),h._uU(4),h.qZA(),h.TgZ(5,"td"),h._uU(6),h.qZA(),h.TgZ(7,"td"),h._uU(8),h.qZA(),h.TgZ(9,"td"),h._uU(10),h.qZA(),h.TgZ(11,"td")(12,"a",3),h._uU(13,"Edit"),h.qZA()(),h.TgZ(14,"td")(15,"a",3),h._uU(16,"Delete"),h.qZA()()()),2&n){const t=e.$implicit;h.xp6(2),h.Oqu(t.name),h.xp6(2),h.Oqu(t.email),h.xp6(2),h.Oqu(t.username),h.xp6(2),h.Oqu(t.phonenumber),h.xp6(2),h.Oqu(t.password),h.xp6(2),h.MGl("routerLink","/edit/",t.id,""),h.xp6(3),h.MGl("routerLink","/delete/",t.id,"")}}let Z$=(()=>{class n{constructor(t){this.router=t,this.firestore=(0,h.f3M)(Kc),this.docRef=sC(this.firestore,"students"),this.allRecords=[]}myfunc(){var t=this;return(0,te.Z)(function*(){(yield function EB(n){n=Gt(n,jr);const e=Gt(n.firestore,En),t=dr(e),r=new qc(e);return function Mk(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new ge(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),function uk(n,e,t={}){const r=new Er;return n.asyncQueue.enqueueAndForget((0,te.Z)(function*(){return function(i,u,c,g,_){const I=new eC({next:S=>{u.enqueueAndForget(()=>jM(i,C)),S.fromCache&&"server"===g.source?_.reject(new ge(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(S)},error:S=>_.reject(S)}),C=new GM(c,I,{includeMetadataChanges:!0,Ku:!0});return BM(i,C)}(yield vg(n),n.asyncQueue,e,t,r)})),r.promise}(t,n._query).then(i=>new Cg(e,r,n,i))}(t.docRef)).forEach(i=>{console.log(i.id),t.allRecords.push({id:i.id,...i.data()})})})()}signoutForm(){var t=this;return(0,te.Z)(function*(){const r=(0,tu.o)();(0,tu.B)(r).then(()=>{console.log("signout successfully"),t.router.navigate(["/login"]),alert("signout Successfully")}).catch(i=>{console.log(i)})})()}ngOnInit(){this.myfunc()}submitform(){this.signoutForm()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Zn))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-index-user"]],viewQuery:function(t,r){if(1&t&&h.Gf(q$,5),2&t){let i;h.iGM(i=h.CRH())&&(r.kingform=i.first)}},decls:18,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"link"],[3,"click"],[3,"routerLink"]],template:function(t,r){1&t&&(h.TgZ(0,"div")(1,"table")(2,"tr")(3,"th"),h._uU(4,"name"),h.qZA(),h.TgZ(5,"th"),h._uU(6,"email"),h.qZA(),h.TgZ(7,"th"),h._uU(8,"username"),h.qZA(),h.TgZ(9,"th"),h._uU(10,"phonenumber"),h.qZA(),h.TgZ(11,"th"),h._uU(12,"Password"),h.qZA()(),h.YNc(13,K$,17,7,"tr",0),h.qZA()(),h.TgZ(14,"div")(15,"div",1)(16,"button",2),h.NdJ("click",function(){return r.submitform()}),h._uU(17,"signout"),h.qZA()()()),2&t&&(h.xp6(13),h.Q6J("ngForOf",r.allRecords))},dependencies:[Rs,ed],styles:["div[_ngcontent-%COMP%]{padding-left:10%;width:60%}table[_ngcontent-%COMP%]{border:3px solid #99c658}td[_ngcontent-%COMP%]{padding:4px}.link[_ngcontent-%COMP%]{padding-left:30%}"]}),n})();const Y$=["editUserForm"];let Q$=(()=>{class n{constructor(t,r){this.route=t,this.router=r,this.id="",this.firestore=(0,h.f3M)(Kc),this.username="",this.name="",this.email="",this.phonenumber="",this.password=""}readRecord(){var t=this;return(0,te.Z)(function*(){const r=u0(t.firestore,"students",t.id),i=yield Fk(r);i.exists()&&(t.username=i.data().username,t.name=i.data().name,t.email=i.data().email,t.phonenumber=i.data().phonenumber,t.password=i.data().password)})()}ngOnInit(){this.route.params.subscribe(t=>{this.id=t.id}),this.readRecord()}changeValues(){var t=this;return(0,te.Z)(function*(){const r=sC(t.firestore,"students");yield function IB(n,e,t){n=Gt(n,rr);const r=Gt(n.firestore,En),i=Ox(n.converter,e,t);return f0(r,[Ax(Eg(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,bn.none())])}(u0(r,t.id),{name:t.userform.value.name,email:t.userform.value.email,phonenumber:t.userform.value.phonenumber,username:t.userform.value.username,password:t.userform.value.password})})()}editForm(){this.changeValues(),alert("Values Edited"),this.router.navigate(["/index"])}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Ua),h.Y36(Zn))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-edit-user"]],viewQuery:function(t,r){if(1&t&&h.Gf(Y$,5),2&t){let i;h.iGM(i=h.CRH())&&(r.userform=i.first)}},decls:41,vars:7,consts:[["editUserForm","ngForm"],["for","username:"],["type","text","name","username",3,"ngModel","ngModelChange"],["for","name: "],["type","text","name","name",3,"ngModel","ngModelChange"],["for","email"],["type","text","name","email",3,"ngModel","ngModelChange"],["for","phonenumber"],["type","number","name","phonenumber",3,"ngModel","ngModelChange"],["for","password"],["type","text","name","password",3,"ngModel","ngModelChange"],[1,"submit"],["type","primary",3,"click"]],template:function(t,r){1&t&&(h.TgZ(0,"p"),h._uU(1,"edit-user works!"),h.qZA(),h._uU(2),h.TgZ(3,"form",null,0)(5,"div")(6,"table")(7,"tr")(8,"th")(9,"label",1),h._uU(10,"Username:"),h.qZA()(),h.TgZ(11,"th")(12,"input",2),h.NdJ("ngModelChange",function(u){return r.username=u}),h.qZA()()(),h.TgZ(13,"tr")(14,"th")(15,"label",3),h._uU(16," Name: "),h.qZA()(),h.TgZ(17,"th")(18,"input",4),h.NdJ("ngModelChange",function(u){return r.name=u}),h.qZA()()(),h.TgZ(19,"tr")(20,"th")(21,"label",5),h._uU(22,"Email :"),h.qZA()(),h.TgZ(23,"th")(24,"input",6),h.NdJ("ngModelChange",function(u){return r.email=u}),h.qZA()()(),h.TgZ(25,"tr")(26,"th")(27,"label",7),h._uU(28,"Phone Number:"),h.qZA()(),h.TgZ(29,"th")(30,"input",8),h.NdJ("ngModelChange",function(u){return r.phonenumber=u}),h.qZA()()(),h.TgZ(31,"tr")(32,"th")(33,"label",9),h._uU(34,"Password:"),h.qZA()(),h.TgZ(35,"td")(36,"input",10),h.NdJ("ngModelChange",function(u){return r.password=u}),h.qZA()()(),h.TgZ(37,"tr")(38,"th",11)(39,"button",12),h.NdJ("click",function(){return r.editForm()}),h._uU(40," Edit "),h.qZA()()()()()()),2&t&&(h.xp6(2),h.AsE("\n",r.id,"\n",r.username," "),h.xp6(10),h.Q6J("ngModel",r.username),h.xp6(6),h.Q6J("ngModel",r.name),h.xp6(6),h.Q6J("ngModel",r.email),h.xp6(6),h.Q6J("ngModel",r.phonenumber),h.xp6(6),h.Q6J("ngModel",r.password))},dependencies:[w0,rh,E0,p0,g0,Sg,ih]}),n})();const J$=["deleteUserForm"];let X$=(()=>{class n{constructor(t,r){this.route=t,this.router=r,this.id="",this.firestore=(0,h.f3M)(Kc),this.username="",this.name="",this.email="",this.phonenumber="",this.password=""}readRecord(){var t=this;return(0,te.Z)(function*(){const r=u0(t.firestore,"students",t.id),i=yield Fk(r);i.exists()&&(t.username=i.data().username,t.name=i.data().name,t.email=i.data().email,t.phonenumber=i.data().phonenumber,t.password=i.data().password)})()}ngOnInit(){this.route.params.subscribe(t=>{this.id=t.id}),this.readRecord()}deleteValues(){var t=this;return(0,te.Z)(function*(){const r=sC(t.firestore,"students");yield function DB(n){return f0(Gt(n.firestore,En),[new ig(n._key,bn.none())])}(u0(r,t.id))})()}deleteForm(){this.deleteValues(),alert("Values deleted"),this.router.navigate(["/index"])}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Ua),h.Y36(Zn))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-delete-user"]],viewQuery:function(t,r){if(1&t&&h.Gf(J$,5),2&t){let i;h.iGM(i=h.CRH())&&(r.userform=i.first)}},decls:39,vars:7,consts:[["editUserForm","ngForm"],["for","username:"],["type","text","name","username",3,"ngModel","ngModelChange"],["for","name: "],["type","text","name","name",3,"ngModel","ngModelChange"],["for","email"],["type","text","name","email",3,"ngModel","ngModelChange"],["for","phonenumber"],["type","number","name","phonenumber",3,"ngModel","ngModelChange"],["for","password"],["type","text","name","password",3,"ngModel","ngModelChange"],[1,"submit"],["type","primary",3,"click"]],template:function(t,r){1&t&&(h._uU(0),h.TgZ(1,"form",null,0)(3,"div")(4,"table")(5,"tr")(6,"th")(7,"label",1),h._uU(8,"Username:"),h.qZA()(),h.TgZ(9,"th")(10,"input",2),h.NdJ("ngModelChange",function(u){return r.username=u}),h.qZA()()(),h.TgZ(11,"tr")(12,"th")(13,"label",3),h._uU(14," Name: "),h.qZA()(),h.TgZ(15,"th")(16,"input",4),h.NdJ("ngModelChange",function(u){return r.name=u}),h.qZA()()(),h.TgZ(17,"tr")(18,"th")(19,"label",5),h._uU(20,"Email :"),h.qZA()(),h.TgZ(21,"th")(22,"input",6),h.NdJ("ngModelChange",function(u){return r.email=u}),h.qZA()()(),h.TgZ(23,"tr")(24,"th")(25,"label",7),h._uU(26,"Phone Number:"),h.qZA()(),h.TgZ(27,"th")(28,"input",8),h.NdJ("ngModelChange",function(u){return r.phonenumber=u}),h.qZA()()(),h.TgZ(29,"tr")(30,"th")(31,"label",9),h._uU(32,"Password:"),h.qZA()(),h.TgZ(33,"td")(34,"input",10),h.NdJ("ngModelChange",function(u){return r.password=u}),h.qZA()()(),h.TgZ(35,"tr")(36,"th",11)(37,"button",12),h.NdJ("click",function(){return r.deleteForm()}),h._uU(38," Delete "),h.qZA()()()()()()),2&t&&(h.AsE("",r.id,"\n",r.username," "),h.xp6(10),h.Q6J("ngModel",r.username),h.xp6(6),h.Q6J("ngModel",r.name),h.xp6(6),h.Q6J("ngModel",r.email),h.xp6(6),h.Q6J("ngModel",r.phonenumber),h.xp6(6),h.Q6J("ngModel",r.password))},dependencies:[w0,rh,E0,p0,g0,Sg,ih]}),n})();const ej=["loginPage"],tj=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:(()=>{class n{constructor(t){this.router=t,this.firestore=(0,h.f3M)(Kc)}loginForm(){var t=this;return(0,te.Z)(function*(){const r=(0,tu.o)();(0,tu.a9)(r,t.gateform.value.email,t.gateform.value.password).then(i=>{console.log("login Successful"),t.router.navigate(["/index"])}).catch(i=>{console.log(i)})})()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Zn))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-login-page"]],viewQuery:function(t,r){if(1&t&&h.Gf(ej,5),2&t){let i;h.iGM(i=h.CRH())&&(r.gateform=i.first)}},decls:22,vars:0,consts:[["loginPage","ngForm"],["for","email"],["type","text","name","email","ngModel",""],["for","password"],["type","password","name","password","ngModel",""],[3,"click"],["routerLink","/create","routerLinkActive","active"]],template:function(t,r){1&t&&(h.TgZ(0,"form",null,0)(2,"div")(3,"table")(4,"tr")(5,"th")(6,"label",1),h._uU(7,"EMAIL:"),h.qZA()(),h.TgZ(8,"td"),h._UZ(9,"input",2),h.qZA()(),h.TgZ(10,"tr")(11,"th")(12,"label",3),h._uU(13,"PASSWORD:"),h.qZA()(),h.TgZ(14,"td"),h._UZ(15,"input",4),h.qZA()()()(),h.TgZ(16,"div")(17,"button",5),h.NdJ("click",function(){return r.loginForm()}),h._uU(18,"SUBMIT"),h.qZA(),h.TgZ(19,"button")(20,"a",6),h._uU(21,"Create New User"),h.qZA()()()())},dependencies:[ed,yb,w0,rh,p0,g0,Sg,ih],styles:["div[_ngcontent-%COMP%]{margin:auto;width:50%;border:1px solid rgb(9,9,9);padding:10px}"]}),n})()},{path:"create",component:W$},{path:"index",component:Z$},{path:"edit/:id",component:Q$},{path:"delete/:id",component:X$}];let nj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[Sb.forRoot(tj),Sb]}),n})(),rj=(()=>{class n{constructor(){this.title="crudapp"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:0,consts:[[2,"margin-left","560px"]],template:function(t,r){1&t&&(h.TgZ(0,"h1",0),h._uU(1,"CRUD APP"),h.qZA(),h._UZ(2,"router-outlet"))},dependencies:[mm]}),n})();const ij_firebase={projectId:"schoolmate-b4fc8",appId:"1:797092773441:web:4de61528d7a05e580310c0",storageBucket:"schoolmate-b4fc8.appspot.com",apiKey:"AIzaSyB3YbqwGGc2U6HAM_SuDJC_SmrtQ2mI0Yk",authDomain:"schoolmate-b4fc8.firebaseapp.com",messagingSenderId:"797092773441",measurementId:"G-STM1XD46HG"};var sj=N(6451);class oj extends li.x{constructor(e=1/0,t=1/0,r=p_){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:u,_windowTime:c}=this;t||(r.push(e),!i&&r.push(u.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,u=i.slice();for(let c=0;c<u.length&&!e.closed;c+=r?1:2)e.next(u[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,u=(i?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!i){const c=t.now();let g=0;for(let _=1;_<r.length&&r[_]<=c;_+=2)g=_;g&&r.splice(0,g+1)}}}var aj=N(3099);function $F(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,aj.B)({connector:()=>new oj(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function jF(n,e){return(0,Vu.m)(e)?mn(()=>n,e):mn(()=>n)}var Ag=N(2011),uj=N(9260);const lj=new h.OlP("angularfire2.auth.use-emulator"),dj=new h.OlP("angularfire2.auth.settings"),hj=new h.OlP("angularfire2.auth.tenant-id"),fj=new h.OlP("angularfire2.auth.langugage-code"),pj=new h.OlP("angularfire2.auth.use-device-language"),gj=new h.OlP("angularfire.auth.persistence");let HF=(()=>{class n{constructor(t,r,i,u,c,g,_,I,C,S,k,$){const se=new li.x,ve=Je(void 0).pipe((0,Ic.Q)(c.outsideAngular),mn(()=>u.runOutsideAngular(()=>N.e(568).then(N.bind(N,9568)))),(0,vt.U)(()=>(0,Ag.on)(t,u,r)),(0,vt.U)(me=>((n,e,t,r,i,u,c,g)=>(0,Ag.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=i,u&&_.useDeviceLanguage(),c)for(const[I,C]of Object.entries(c))_.settings[I]=C;return g&&_.setPersistence(g),_},[t,r,i,u,c,g]))(me,u,g,I,C,S,_,k)),$F({bufferSize:1,refCount:!1}));if(function ha(n){return"server"===n}(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Je(null);else{ve.pipe(zi()).subscribe();const Ke=ve.pipe(mn(Ct=>Ct.getRedirectResult().then(Bt=>Bt,()=>null)),I_,$F({bufferSize:1,refCount:!1})),et=ve.pipe(mn(Ct=>new Qr.y(Bt=>({unsubscribe:u.runOutsideAngular(()=>Ct.onAuthStateChanged(Qt=>Bt.next(Qt),Qt=>Bt.error(Qt),()=>Bt.complete()))})))),lt=ve.pipe(mn(Ct=>new Qr.y(Bt=>({unsubscribe:u.runOutsideAngular(()=>Ct.onIdTokenChanged(Qt=>Bt.next(Qt),Qt=>Bt.error(Qt),()=>Bt.complete()))}))));this.authState=Ke.pipe(jF(et),(0,Ec.R)(c.outsideAngular),(0,Ic.Q)(c.insideAngular)),this.user=Ke.pipe(jF(lt),(0,Ec.R)(c.outsideAngular),(0,Ic.Q)(c.insideAngular)),this.idToken=this.user.pipe(mn(Ct=>Ct?(0,tn.D)(Ct.getIdToken()):Je(null))),this.idTokenResult=this.user.pipe(mn(Ct=>Ct?(0,tn.D)(Ct.getIdTokenResult()):Je(null))),this.credential=(0,sj.T)(Ke,se,this.authState.pipe(Ti(Ct=>!Ct))).pipe((0,vt.U)(Ct=>Ct?.user?Ct:null),(0,Ec.R)(c.outsideAngular),(0,Ic.Q)(c.insideAngular))}return(0,Ag.pX)(this,ve,u,{spy:{apply:(me,Ke,et)=>{(me.startsWith("signIn")||me.startsWith("createUser"))&&et.then(lt=>se.next(lt))}}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ag.Dh),h.LFG(Ag.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(wp),h.LFG(lj,8),h.LFG(dj,8),h.LFG(hj,8),h.LFG(fj,8),h.LFG(pj,8),h.LFG(gj,8),h.LFG(Md,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),yj=(()=>{class n{constructor(){uj.Z.registerVersion("angularfire",Ed.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[HF]}),n})(),_j=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n,bootstrap:[rj]}),n.\u0275inj=h.cJS({imports:[Eo,nj,z$,yj,Id(()=>iS(ij_firebase)),ki(()=>PS()),jB(()=>HB())]}),n})();Kg().bootstrapModule(_j).catch(n=>console.error(n))},9751:(ht,be,N)=>{N.d(be,{y:()=>Te});var h=N(2961),O=N(727),X=N(8822),ce=N(9635),fe=N(2416),ue=N(576),xe=N(2806);let Te=(()=>{class j{constructor(Se){Se&&(this._subscribe=Se)}lift(Se){const He=new j;return He.source=this,He.operator=Se,He}subscribe(Se,He,Ze){const Z=function F(j){return j&&j instanceof h.Lv||function V(j){return j&&(0,ue.m)(j.next)&&(0,ue.m)(j.error)&&(0,ue.m)(j.complete)}(j)&&(0,O.Nn)(j)}(Se)?Se:new h.Hp(Se,He,Ze);return(0,xe.x)(()=>{const{operator:Ae,source:_e}=this;Z.add(Ae?Ae.call(Z,_e):_e?this._subscribe(Z):this._trySubscribe(Z))}),Z}_trySubscribe(Se){try{return this._subscribe(Se)}catch(He){Se.error(He)}}forEach(Se,He){return new(He=Re(He))((Ze,Z)=>{const Ae=new h.Hp({next:_e=>{try{Se(_e)}catch(Pe){Z(Pe),Ae.unsubscribe()}},error:Z,complete:Ze});this.subscribe(Ae)})}_subscribe(Se){var He;return null===(He=this.source)||void 0===He?void 0:He.subscribe(Se)}[X.L](){return this}pipe(...Se){return(0,ce.U)(Se)(this)}toPromise(Se){return new(Se=Re(Se))((He,Ze)=>{let Z;this.subscribe(Ae=>Z=Ae,Ae=>Ze(Ae),()=>He(Z))})}}return j.create=ke=>new j(ke),j})();function Re(j){var ke;return null!==(ke=j??fe.v.Promise)&&void 0!==ke?ke:Promise}},7579:(ht,be,N)=>{N.d(be,{x:()=>xe});var h=N(9751),O=N(727);const ce=(0,N(3888).d)(Re=>function(){Re(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var fe=N(8737),ue=N(2806);let xe=(()=>{class Re extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(F){const j=new Te(this,this);return j.operator=F,j}_throwIfClosed(){if(this.closed)throw new ce}next(F){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const j of this.currentObservers)j.next(F)}})}error(F){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=F;const{observers:j}=this;for(;j.length;)j.shift().error(F)}})}complete(){(0,ue.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:F}=this;for(;F.length;)F.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var F;return(null===(F=this.observers)||void 0===F?void 0:F.length)>0}_trySubscribe(F){return this._throwIfClosed(),super._trySubscribe(F)}_subscribe(F){return this._throwIfClosed(),this._checkFinalizedStatuses(F),this._innerSubscribe(F)}_innerSubscribe(F){const{hasError:j,isStopped:ke,observers:Se}=this;return j||ke?O.Lc:(this.currentObservers=null,Se.push(F),new O.w0(()=>{this.currentObservers=null,(0,fe.P)(Se,F)}))}_checkFinalizedStatuses(F){const{hasError:j,thrownError:ke,isStopped:Se}=this;j?F.error(ke):Se&&F.complete()}asObservable(){const F=new h.y;return F.source=this,F}}return Re.create=(V,F)=>new Te(V,F),Re})();class Te extends xe{constructor(V,F){super(),this.destination=V,this.source=F}next(V){var F,j;null===(j=null===(F=this.destination)||void 0===F?void 0:F.next)||void 0===j||j.call(F,V)}error(V){var F,j;null===(j=null===(F=this.destination)||void 0===F?void 0:F.error)||void 0===j||j.call(F,V)}complete(){var V,F;null===(F=null===(V=this.destination)||void 0===V?void 0:V.complete)||void 0===F||F.call(V)}_subscribe(V){var F,j;return null!==(j=null===(F=this.source)||void 0===F?void 0:F.subscribe(V))&&void 0!==j?j:O.Lc}}},2961:(ht,be,N)=>{N.d(be,{Hp:()=>Ze,Lv:()=>j});var h=N(576),O=N(727),X=N(2416),ce=N(7849);function fe(){}const ue=Re("C",void 0,void 0);function Re(pe,de,ye){return{kind:pe,value:de,error:ye}}var V=N(3410),F=N(2806);class j extends O.w0{constructor(de){super(),this.isStopped=!1,de?(this.destination=de,(0,O.Nn)(de)&&de.add(this)):this.destination=Pe}static create(de,ye,Oe){return new Ze(de,ye,Oe)}next(de){this.isStopped?_e(function Te(pe){return Re("N",pe,void 0)}(de),this):this._next(de)}error(de){this.isStopped?_e(function xe(pe){return Re("E",void 0,pe)}(de),this):(this.isStopped=!0,this._error(de))}complete(){this.isStopped?_e(ue,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(de){this.destination.next(de)}_error(de){try{this.destination.error(de)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ke=Function.prototype.bind;function Se(pe,de){return ke.call(pe,de)}class He{constructor(de){this.partialObserver=de}next(de){const{partialObserver:ye}=this;if(ye.next)try{ye.next(de)}catch(Oe){Z(Oe)}}error(de){const{partialObserver:ye}=this;if(ye.error)try{ye.error(de)}catch(Oe){Z(Oe)}else Z(de)}complete(){const{partialObserver:de}=this;if(de.complete)try{de.complete()}catch(ye){Z(ye)}}}class Ze extends j{constructor(de,ye,Oe){let Ne;if(super(),(0,h.m)(de)||!de)Ne={next:de??void 0,error:ye??void 0,complete:Oe??void 0};else{let K;this&&X.v.useDeprecatedNextContext?(K=Object.create(de),K.unsubscribe=()=>this.unsubscribe(),Ne={next:de.next&&Se(de.next,K),error:de.error&&Se(de.error,K),complete:de.complete&&Se(de.complete,K)}):Ne=de}this.destination=new He(Ne)}}function Z(pe){X.v.useDeprecatedSynchronousErrorHandling?(0,F.O)(pe):(0,ce.h)(pe)}function _e(pe,de){const{onStoppedNotification:ye}=X.v;ye&&V.z.setTimeout(()=>ye(pe,de))}const Pe={closed:!0,next:fe,error:function Ae(pe){throw pe},complete:fe}},727:(ht,be,N)=>{N.d(be,{Lc:()=>ue,w0:()=>fe,Nn:()=>xe});var h=N(576);const X=(0,N(3888).d)(Re=>function(F){Re(this),this.message=F?`${F.length} errors occurred during unsubscription:\n${F.map((j,ke)=>`${ke+1}) ${j.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=F});var ce=N(8737);class fe{constructor(V){this.initialTeardown=V,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let V;if(!this.closed){this.closed=!0;const{_parentage:F}=this;if(F)if(this._parentage=null,Array.isArray(F))for(const Se of F)Se.remove(this);else F.remove(this);const{initialTeardown:j}=this;if((0,h.m)(j))try{j()}catch(Se){V=Se instanceof X?Se.errors:[Se]}const{_finalizers:ke}=this;if(ke){this._finalizers=null;for(const Se of ke)try{Te(Se)}catch(He){V=V??[],He instanceof X?V=[...V,...He.errors]:V.push(He)}}if(V)throw new X(V)}}add(V){var F;if(V&&V!==this)if(this.closed)Te(V);else{if(V instanceof fe){if(V.closed||V._hasParent(this))return;V._addParent(this)}(this._finalizers=null!==(F=this._finalizers)&&void 0!==F?F:[]).push(V)}}_hasParent(V){const{_parentage:F}=this;return F===V||Array.isArray(F)&&F.includes(V)}_addParent(V){const{_parentage:F}=this;this._parentage=Array.isArray(F)?(F.push(V),F):F?[F,V]:V}_removeParent(V){const{_parentage:F}=this;F===V?this._parentage=null:Array.isArray(F)&&(0,ce.P)(F,V)}remove(V){const{_finalizers:F}=this;F&&(0,ce.P)(F,V),V instanceof fe&&V._removeParent(this)}}fe.EMPTY=(()=>{const Re=new fe;return Re.closed=!0,Re})();const ue=fe.EMPTY;function xe(Re){return Re instanceof fe||Re&&"closed"in Re&&(0,h.m)(Re.remove)&&(0,h.m)(Re.add)&&(0,h.m)(Re.unsubscribe)}function Te(Re){(0,h.m)(Re)?Re():Re.unsubscribe()}},2416:(ht,be,N)=>{N.d(be,{v:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ht,be,N)=>{N.d(be,{E:()=>O});const O=new(N(9751).y)(fe=>fe.complete())},8996:(ht,be,N)=>{N.d(be,{D:()=>de});var h=N(8421),O=N(5363),X=N(9468),ue=N(9751),Te=N(2202),Re=N(576),V=N(9672);function j(ye,Oe){if(!ye)throw new Error("Iterable cannot be null");return new ue.y(Ne=>{(0,V.f)(Ne,Oe,()=>{const K=ye[Symbol.asyncIterator]();(0,V.f)(Ne,Oe,()=>{K.next().then(ze=>{ze.done?Ne.complete():Ne.next(ze.value)})},0,!0)})})}var ke=N(3670),Se=N(8239),He=N(1144),Ze=N(6495),Z=N(2206),Ae=N(4532),_e=N(3260);function de(ye,Oe){return Oe?function pe(ye,Oe){if(null!=ye){if((0,ke.c)(ye))return function ce(ye,Oe){return(0,h.Xf)(ye).pipe((0,X.R)(Oe),(0,O.Q)(Oe))}(ye,Oe);if((0,He.z)(ye))return function xe(ye,Oe){return new ue.y(Ne=>{let K=0;return Oe.schedule(function(){K===ye.length?Ne.complete():(Ne.next(ye[K++]),Ne.closed||this.schedule())})})}(ye,Oe);if((0,Se.t)(ye))return function fe(ye,Oe){return(0,h.Xf)(ye).pipe((0,X.R)(Oe),(0,O.Q)(Oe))}(ye,Oe);if((0,Z.D)(ye))return j(ye,Oe);if((0,Ze.T)(ye))return function F(ye,Oe){return new ue.y(Ne=>{let K;return(0,V.f)(Ne,Oe,()=>{K=ye[Te.h](),(0,V.f)(Ne,Oe,()=>{let ze,pt;try{({value:ze,done:pt}=K.next())}catch(Ge){return void Ne.error(Ge)}pt?Ne.complete():Ne.next(ze)},0,!0)}),()=>(0,Re.m)(K?.return)&&K.return()})}(ye,Oe);if((0,_e.L)(ye))return function Pe(ye,Oe){return j((0,_e.Q)(ye),Oe)}(ye,Oe)}throw(0,Ae.z)(ye)}(ye,Oe):(0,h.Xf)(ye)}},8421:(ht,be,N)=>{N.d(be,{Xf:()=>ke});var h=N(7582),O=N(1144),X=N(8239),ce=N(9751),fe=N(3670),ue=N(2206),xe=N(4532),Te=N(6495),Re=N(3260),V=N(576),F=N(7849),j=N(8822);function ke(pe){if(pe instanceof ce.y)return pe;if(null!=pe){if((0,fe.c)(pe))return function Se(pe){return new ce.y(de=>{const ye=pe[j.L]();if((0,V.m)(ye.subscribe))return ye.subscribe(de);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(pe);if((0,O.z)(pe))return function He(pe){return new ce.y(de=>{for(let ye=0;ye<pe.length&&!de.closed;ye++)de.next(pe[ye]);de.complete()})}(pe);if((0,X.t)(pe))return function Ze(pe){return new ce.y(de=>{pe.then(ye=>{de.closed||(de.next(ye),de.complete())},ye=>de.error(ye)).then(null,F.h)})}(pe);if((0,ue.D)(pe))return Ae(pe);if((0,Te.T)(pe))return function Z(pe){return new ce.y(de=>{for(const ye of pe)if(de.next(ye),de.closed)return;de.complete()})}(pe);if((0,Re.L)(pe))return function _e(pe){return Ae((0,Re.Q)(pe))}(pe)}throw(0,xe.z)(pe)}function Ae(pe){return new ce.y(de=>{(function Pe(pe,de){var ye,Oe,Ne,K;return(0,h.mG)(this,void 0,void 0,function*(){try{for(ye=(0,h.KL)(pe);!(Oe=yield ye.next()).done;)if(de.next(Oe.value),de.closed)return}catch(ze){Ne={error:ze}}finally{try{Oe&&!Oe.done&&(K=ye.return)&&(yield K.call(ye))}finally{if(Ne)throw Ne.error}}de.complete()})})(pe,de).catch(ye=>de.error(ye))})}},6451:(ht,be,N)=>{N.d(be,{T:()=>ue});var h=N(8189),O=N(8421),X=N(515),ce=N(7669),fe=N(8996);function ue(...xe){const Te=(0,ce.yG)(xe),Re=(0,ce._6)(xe,1/0),V=xe;return V.length?1===V.length?(0,O.Xf)(V[0]):(0,h.J)(Re)((0,fe.D)(V,Te)):X.E}},5403:(ht,be,N)=>{N.d(be,{x:()=>O});var h=N(2961);function O(ce,fe,ue,xe,Te){return new X(ce,fe,ue,xe,Te)}class X extends h.Lv{constructor(fe,ue,xe,Te,Re,V){super(fe),this.onFinalize=Re,this.shouldUnsubscribe=V,this._next=ue?function(F){try{ue(F)}catch(j){fe.error(j)}}:super._next,this._error=Te?function(F){try{Te(F)}catch(j){fe.error(j)}finally{this.unsubscribe()}}:super._error,this._complete=xe?function(){try{xe()}catch(F){fe.error(F)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var fe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ue}=this;super.unsubscribe(),!ue&&(null===(fe=this.onFinalize)||void 0===fe||fe.call(this))}}}},4004:(ht,be,N)=>{N.d(be,{U:()=>X});var h=N(4482),O=N(5403);function X(ce,fe){return(0,h.e)((ue,xe)=>{let Te=0;ue.subscribe((0,O.x)(xe,Re=>{xe.next(ce.call(fe,Re,Te++))}))})}},8189:(ht,be,N)=>{N.d(be,{J:()=>X});var h=N(5577),O=N(4671);function X(ce=1/0){return(0,h.z)(O.y,ce)}},5577:(ht,be,N)=>{N.d(be,{z:()=>Te});var h=N(4004),O=N(8421),X=N(4482),ce=N(9672),fe=N(5403),xe=N(576);function Te(Re,V,F=1/0){return(0,xe.m)(V)?Te((j,ke)=>(0,h.U)((Se,He)=>V(j,Se,ke,He))((0,O.Xf)(Re(j,ke))),F):("number"==typeof V&&(F=V),(0,X.e)((j,ke)=>function ue(Re,V,F,j,ke,Se,He,Ze){const Z=[];let Ae=0,_e=0,Pe=!1;const pe=()=>{Pe&&!Z.length&&!Ae&&V.complete()},de=Oe=>Ae<j?ye(Oe):Z.push(Oe),ye=Oe=>{Se&&V.next(Oe),Ae++;let Ne=!1;(0,O.Xf)(F(Oe,_e++)).subscribe((0,fe.x)(V,K=>{ke?.(K),Se?de(K):V.next(K)},()=>{Ne=!0},void 0,()=>{if(Ne)try{for(Ae--;Z.length&&Ae<j;){const K=Z.shift();He?(0,ce.f)(V,He,()=>ye(K)):ye(K)}pe()}catch(K){V.error(K)}}))};return Re.subscribe((0,fe.x)(V,de,()=>{Pe=!0,pe()})),()=>{Ze?.()}}(j,ke,Re,F)))}},5363:(ht,be,N)=>{N.d(be,{Q:()=>ce});var h=N(9672),O=N(4482),X=N(5403);function ce(fe,ue=0){return(0,O.e)((xe,Te)=>{xe.subscribe((0,X.x)(Te,Re=>(0,h.f)(Te,fe,()=>Te.next(Re),ue),()=>(0,h.f)(Te,fe,()=>Te.complete(),ue),Re=>(0,h.f)(Te,fe,()=>Te.error(Re),ue)))})}},3099:(ht,be,N)=>{N.d(be,{B:()=>fe});var h=N(8421),O=N(7579),X=N(2961),ce=N(4482);function fe(xe={}){const{connector:Te=(()=>new O.x),resetOnError:Re=!0,resetOnComplete:V=!0,resetOnRefCountZero:F=!0}=xe;return j=>{let ke,Se,He,Ze=0,Z=!1,Ae=!1;const _e=()=>{Se?.unsubscribe(),Se=void 0},Pe=()=>{_e(),ke=He=void 0,Z=Ae=!1},pe=()=>{const de=ke;Pe(),de?.unsubscribe()};return(0,ce.e)((de,ye)=>{Ze++,!Ae&&!Z&&_e();const Oe=He=He??Te();ye.add(()=>{Ze--,0===Ze&&!Ae&&!Z&&(Se=ue(pe,F))}),Oe.subscribe(ye),!ke&&Ze>0&&(ke=new X.Hp({next:Ne=>Oe.next(Ne),error:Ne=>{Ae=!0,_e(),Se=ue(Pe,Re,Ne),Oe.error(Ne)},complete:()=>{Z=!0,_e(),Se=ue(Pe,V),Oe.complete()}}),(0,h.Xf)(de).subscribe(ke))})(j)}}function ue(xe,Te,...Re){if(!0===Te)return void xe();if(!1===Te)return;const V=new X.Hp({next:()=>{V.unsubscribe(),xe()}});return(0,h.Xf)(Te(...Re)).subscribe(V)}},9468:(ht,be,N)=>{N.d(be,{R:()=>O});var h=N(4482);function O(X,ce=0){return(0,h.e)((fe,ue)=>{ue.add(X.schedule(()=>fe.subscribe(ue),ce))})}},3410:(ht,be,N)=>{N.d(be,{z:()=>h});const h={setTimeout(O,X,...ce){const{delegate:fe}=h;return fe?.setTimeout?fe.setTimeout(O,X,...ce):setTimeout(O,X,...ce)},clearTimeout(O){const{delegate:X}=h;return(X?.clearTimeout||clearTimeout)(O)},delegate:void 0}},2202:(ht,be,N)=>{N.d(be,{h:()=>O});const O=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ht,be,N)=>{N.d(be,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(ht,be,N)=>{N.d(be,{_6:()=>ue,jO:()=>ce,yG:()=>fe});var h=N(576);function X(xe){return xe[xe.length-1]}function ce(xe){return(0,h.m)(X(xe))?xe.pop():void 0}function fe(xe){return function O(xe){return xe&&(0,h.m)(xe.schedule)}(X(xe))?xe.pop():void 0}function ue(xe,Te){return"number"==typeof X(xe)?xe.pop():Te}},8737:(ht,be,N)=>{function h(O,X){if(O){const ce=O.indexOf(X);0<=ce&&O.splice(ce,1)}}N.d(be,{P:()=>h})},3888:(ht,be,N)=>{function h(O){const ce=O(fe=>{Error.call(fe),fe.stack=(new Error).stack});return ce.prototype=Object.create(Error.prototype),ce.prototype.constructor=ce,ce}N.d(be,{d:()=>h})},2806:(ht,be,N)=>{N.d(be,{O:()=>ce,x:()=>X});var h=N(2416);let O=null;function X(fe){if(h.v.useDeprecatedSynchronousErrorHandling){const ue=!O;if(ue&&(O={errorThrown:!1,error:null}),fe(),ue){const{errorThrown:xe,error:Te}=O;if(O=null,xe)throw Te}}else fe()}function ce(fe){h.v.useDeprecatedSynchronousErrorHandling&&O&&(O.errorThrown=!0,O.error=fe)}},9672:(ht,be,N)=>{function h(O,X,ce,fe=0,ue=!1){const xe=X.schedule(function(){ce(),ue?O.add(this.schedule(null,fe)):this.unsubscribe()},fe);if(O.add(xe),!ue)return xe}N.d(be,{f:()=>h})},4671:(ht,be,N)=>{function h(O){return O}N.d(be,{y:()=>h})},1144:(ht,be,N)=>{N.d(be,{z:()=>h});const h=O=>O&&"number"==typeof O.length&&"function"!=typeof O},2206:(ht,be,N)=>{N.d(be,{D:()=>O});var h=N(576);function O(X){return Symbol.asyncIterator&&(0,h.m)(X?.[Symbol.asyncIterator])}},576:(ht,be,N)=>{function h(O){return"function"==typeof O}N.d(be,{m:()=>h})},3670:(ht,be,N)=>{N.d(be,{c:()=>X});var h=N(8822),O=N(576);function X(ce){return(0,O.m)(ce[h.L])}},6495:(ht,be,N)=>{N.d(be,{T:()=>X});var h=N(2202),O=N(576);function X(ce){return(0,O.m)(ce?.[h.h])}},8239:(ht,be,N)=>{N.d(be,{t:()=>O});var h=N(576);function O(X){return(0,h.m)(X?.then)}},3260:(ht,be,N)=>{N.d(be,{L:()=>ce,Q:()=>X});var h=N(7582),O=N(576);function X(fe){return(0,h.FC)(this,arguments,function*(){const xe=fe.getReader();try{for(;;){const{value:Te,done:Re}=yield(0,h.qq)(xe.read());if(Re)return yield(0,h.qq)(void 0);yield yield(0,h.qq)(Te)}}finally{xe.releaseLock()}})}function ce(fe){return(0,O.m)(fe?.getReader)}},4482:(ht,be,N)=>{N.d(be,{A:()=>O,e:()=>X});var h=N(576);function O(ce){return(0,h.m)(ce?.lift)}function X(ce){return fe=>{if(O(fe))return fe.lift(function(ue){try{return ce(ue,this)}catch(xe){this.error(xe)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(ht,be,N)=>{N.d(be,{U:()=>X,z:()=>O});var h=N(4671);function O(...ce){return X(ce)}function X(ce){return 0===ce.length?h.y:1===ce.length?ce[0]:function(ue){return ce.reduce((xe,Te)=>Te(xe),ue)}}},7849:(ht,be,N)=>{N.d(be,{h:()=>X});var h=N(2416),O=N(3410);function X(ce){O.z.setTimeout(()=>{const{onUnhandledError:fe}=h.v;if(!fe)throw ce;fe(ce)})}},4532:(ht,be,N)=>{function h(O){return new TypeError(`You provided ${null!==O&&"object"==typeof O?"an invalid object":`'${O}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}N.d(be,{z:()=>h})},4650:(ht,be,N)=>{N.d(be,{$8M:()=>Ma,$WT:()=>sr,$Z:()=>xw,AFp:()=>Vp,AaK:()=>Te,AsE:()=>Yf,CRH:()=>N_,CZH:()=>Ad,CqO:()=>$f,D6c:()=>av,EJc:()=>CS,F4k:()=>tE,FYo:()=>Rm,FiY:()=>Hs,Gf:()=>yI,GfV:()=>lw,Gpc:()=>F,JOm:()=>ut,LFG:()=>jt,Lbi:()=>IS,Lck:()=>yp,MGl:()=>Hf,MMx:()=>Qa,NdJ:()=>Cy,OlP:()=>Ut,Oqu:()=>fd,P3R:()=>tw,PXZ:()=>s1,Q6J:()=>Vf,QGY:()=>eE,Qsj:()=>eb,R0b:()=>ki,RDi:()=>NC,Rgc:()=>Dp,SBq:()=>rc,Sil:()=>YR,Suo:()=>_I,TTD:()=>gh,TgZ:()=>Uf,X6Q:()=>l1,XFs:()=>nt,Xpm:()=>qr,Xts:()=>Em,Y36:()=>uc,YKP:()=>rI,YNc:()=>Qw,Yjl:()=>St,Yz7:()=>Ye,Z0I:()=>In,ZZ4:()=>Qo,_Bn:()=>d_,_UZ:()=>Ey,_Vd:()=>nc,_c5:()=>sv,_uU:()=>Ko,aQg:()=>Bp,c2e:()=>DS,cJS:()=>dt,cg1:()=>Ky,dDg:()=>n1,dqk:()=>Zt,eFA:()=>VS,eJc:()=>bd,ekj:()=>Ny,eoX:()=>OS,f3M:()=>jn,g9A:()=>ES,h0i:()=>wc,hGG:()=>ov,iGM:()=>Mp,ifc:()=>oe,ip1:()=>FI,jDz:()=>sI,kL8:()=>kE,lG2:()=>gt,lqb:()=>$a,lri:()=>RS,n5z:()=>yl,oAB:()=>W,q4F:()=>dw,qLn:()=>Ql,qOj:()=>ud,qZA:()=>yr,rWj:()=>NS,sBO:()=>d1,s_b:()=>ln,soG:()=>G_,tb:()=>FS,tp0:()=>vt,uIk:()=>yy,vHH:()=>Z,vpe:()=>Xs,wAp:()=>ct,xp6:()=>Iw,z2F:()=>Z_,zSh:()=>$o,zs3:()=>sc});var h=N(7579),O=N(727),X=N(9751),ce=N(6451),fe=N(3099);function ue(s){for(let o in s)if(s[o]===ue)return o;throw Error("Could not find renamed property on target object.")}function xe(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function Te(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(Te).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function Re(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const V=ue({__forward_ref__:ue});function F(s){return s.__forward_ref__=F,s.toString=function(){return Te(this())},s}function j(s){return ke(s)?s():s}function ke(s){return"function"==typeof s&&s.hasOwnProperty(V)&&s.__forward_ref__===F}function Se(s){return s&&!!s.\u0275providers}const Ze="https://g.co/ng/security#xss";class Z extends Error{constructor(o,a){super(Ae(o,a)),this.code=o}}function Ae(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}function _e(s){return"string"==typeof s?s:null==s?"":String(s)}function Oe(s,o){throw new Z(-201,!1)}function re(s,o){null==s&&function H(s,o,a,l){throw new Error(`ASSERTION ERROR: ${s}`+(null==l?"":` [Expected=> ${a} ${l} ${o} <=Actual]`))}(o,s,null,"!=")}function Ye(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function dt(s){return{providers:s.providers||[],imports:s.imports||[]}}function Vt(s){return Kt(s,Bn)||Kt(s,ii)}function In(s){return null!==Vt(s)}function Kt(s,o){return s.hasOwnProperty(o)?s[o]:null}function Un(s){return s&&(s.hasOwnProperty(ir)||s.hasOwnProperty($n))?s[ir]:null}const Bn=ue({\u0275prov:ue}),ir=ue({\u0275inj:ue}),ii=ue({ngInjectableDef:ue}),$n=ue({ngInjectorDef:ue});var nt=(()=>((nt=nt||{})[nt.Default=0]="Default",nt[nt.Host=1]="Host",nt[nt.Self=2]="Self",nt[nt.SkipSelf=4]="SkipSelf",nt[nt.Optional=8]="Optional",nt))();let Ms;function On(s){const o=Ms;return Ms=s,o}function Hr(s,o,a){const l=Vt(s);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&nt.Optional?null:void 0!==o?o:void Oe(Te(s))}const Zt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),zr={},Dr="__NG_DI_FLAG__",Tn="ngTempTokenPath",Gr="ngTokenPath",Cr=/\n/gm,br="\u0275",sn="__source";let is;function kt(s){const o=is;return is=s,o}function so(s,o=nt.Default){if(void 0===is)throw new Z(-203,!1);return null===is?Hr(s,void 0,o):is.get(s,o&nt.Optional?null:void 0,o)}function jt(s,o=nt.Default){return(function hu(){return Ms}()||so)(j(s),o)}function jn(s,o=nt.Default){return jt(s,Wr(o))}function Wr(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function Hn(s){const o=[];for(let a=0;a<s.length;a++){const l=j(s[a]);if(Array.isArray(l)){if(0===l.length)throw new Z(900,!1);let d,p=nt.Default;for(let y=0;y<l.length;y++){const E=l[y],D=Ei(E);"number"==typeof D?-1===D?d=E.token:p|=D:d=E}o.push(jt(d,p))}else o.push(jt(l))}return o}function Ui(s,o){return s[Dr]=o,s.prototype[Dr]=o,s}function Ei(s){return s[Dr]}function R(s){return{toString:s}.toString()}var U=(()=>((U=U||{})[U.OnPush=0]="OnPush",U[U.Default=1]="Default",U))(),oe=(()=>{return(s=oe||(oe={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",oe;var s})();const G={},Ce=[],ft=ue({\u0275cmp:ue}),Yt=ue({\u0275dir:ue}),Sn=ue({\u0275pipe:ue}),en=ue({\u0275mod:ue}),on=ue({\u0275fac:ue}),Nt=ue({__NG_ELEMENT_ID__:ue});let Pr=0;function qr(s){return R(()=>{const o=ah(s),a={...o,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===U.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&s.dependencies||null,getStandaloneInjector:null,data:s.data||{},encapsulation:s.encapsulation||oe.Emulated,id:"c"+Pr++,styles:s.styles||Ce,_:null,schemas:s.schemas||null,tView:null};Mg(a);const l=s.dependencies;return a.directiveDefs=oa(l,!1),a.pipeDefs=oa(l,!0),a})}function fu(s){return rt(s)||Ht(s)}function ee(s){return null!==s}function W(s){return R(()=>({type:s.type,bootstrap:s.bootstrap||Ce,declarations:s.declarations||Ce,imports:s.imports||Ce,exports:s.exports||Ce,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function Qe(s,o){if(null==s)return G;const a={};for(const l in s)if(s.hasOwnProperty(l)){let d=s[l],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),a[d]=l,o&&(o[d]=p)}return a}function gt(s){return R(()=>{const o=ah(s);return Mg(o),o})}function St(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function rt(s){return s[ft]||null}function Ht(s){return s[Yt]||null}function Pt(s){return s[Sn]||null}function sr(s){const o=rt(s)||Ht(s)||Pt(s);return null!==o&&o.standalone}function Pn(s,o){const a=s[en]||null;if(!a&&!0===o)throw new Error(`Type ${Te(s)} does not have '\u0275mod' property.`);return a}function ah(s){const o={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:o,exportAs:s.exportAs||null,standalone:!0===s.standalone,selectors:s.selectors||Ce,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Qe(s.inputs,o),outputs:Qe(s.outputs)}}function Mg(s){s.features?.forEach(o=>o(s))}function oa(s,o){if(!s)return null;const a=o?Pt:fu;return()=>("function"==typeof s?s():s).map(l=>a(l)).filter(ee)}const kn=0,$e=1,bt=2,dn=3,zt=4,Bi=5,or=6,Rs=7,cn=8,aa=9,pu=10,Tt=11,gu=12,Kr=13,ua=14,ss=15,zn=16,oo=17,Ns=18,ai=19,ao=20,Jc=21,Xt=22,Xc=1,mu=2,uo=7,co=8,os=9,Gn=10;function fr(s){return Array.isArray(s)&&"object"==typeof s[Xc]}function ui(s){return Array.isArray(s)&&!0===s[Xc]}function ca(s){return 0!=(4&s.flags)}function la(s){return s.componentOffset>-1}function lo(s){return 1==(1&s.flags)}function pr(s){return!!s.template}function $i(s){return 0!=(256&s[bt])}function Di(s,o){return s.hasOwnProperty(on)?s[on]:null}class T0{constructor(o,a,l){this.previousValue=o,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function gh(){return mh}function mh(s){return s.type.prototype.ngOnChanges&&(s.setInput=Ps),kg}function kg(){const s=yu(this),o=s?.current;if(o){const a=s.previous;if(a===G)s.previous=o;else for(let l in o)a[l]=o[l];s.current=null,this.ngOnChanges(o)}}function Ps(s,o,a,l){const d=this.declaredInputs[a],p=yu(s)||function Fg(s,o){return s[yh]=o}(s,{previous:G,current:null}),y=p.current||(p.current={}),E=p.previous,D=E[d];y[d]=new T0(D&&D.currentValue,o,E===G),s[l]=o}gh.ngInherit=!0;const yh="__ngSimpleChanges__";function yu(s){return s[yh]||null}const hn=function(s,o,a){};function An(s){for(;Array.isArray(s);)s=s[kn];return s}function ga(s,o){return An(o[s])}function Wn(s,o){return An(o[s.index])}function _u(s,o){return s.data[o]}function ar(s,o){const a=o[s];return fr(a)?a:a[kn]}function fo(s){return 64==(64&s[bt])}function ji(s,o){return null==o?null:s[o]}function tl(s){s[Ns]=0}function ma(s,o){s[Bi]+=o;let a=s,l=s[dn];for(;null!==l&&(1===o&&1===a[Bi]||-1===o&&0===a[Bi]);)l[Bi]+=o,a=l,l=l[dn]}const mt={lFrame:sl(null),bindingsEnabled:!0};function Eh(){return mt.bindingsEnabled}function ie(){return mt.lFrame.lView}function Ot(){return mt.lFrame.tView}function gn(){let s=Ug();for(;null!==s&&64===s.type;)s=s.parent;return s}function Ug(){return mt.lFrame.currentTNode}function Ci(s,o){const a=mt.lFrame;a.currentTNode=s,a.isParent=o}function Eu(){return mt.lFrame.isParent}function Ls(){return mt.lFrame.bindingIndex++}function as(s){const o=mt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}function A0(s,o){const a=mt.lFrame;a.bindingIndex=a.bindingRootIndex=s,_a(o)}function _a(s){mt.lFrame.currentDirectiveIndex=s}function il(){return mt.lFrame.currentQueryIndex}function Mh(s){mt.lFrame.currentQueryIndex=s}function xh(s){const o=s[$e];return 2===o.type?o.declTNode:1===o.type?s[or]:null}function Bg(s,o,a){if(a&nt.SkipSelf){let d=o,p=s;for(;!(d=d.parent,null!==d||a&nt.Host||(d=xh(p),null===d||(p=p[ss],10&d.type))););if(null===d)return!1;o=d,s=p}const l=mt.lFrame=$g();return l.currentTNode=o,l.lView=s,!0}function Cu(s){const o=$g(),a=s[$e];mt.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function $g(){const s=mt.lFrame,o=null===s?null:s.child;return null===o?sl(s):o}function sl(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function jg(){const s=mt.lFrame;return mt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const ol=jg;function Rh(){const s=jg();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function mr(){return mt.lFrame.selectedIndex}function us(s){mt.lFrame.selectedIndex=s}function an(){const s=mt.lFrame;return _u(s.tView,s.selectedIndex)}function ul(s,o){for(let a=o.directiveStart,l=o.directiveEnd;a<l;a++){const p=s.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:E,ngAfterViewInit:D,ngAfterViewChecked:b,ngOnDestroy:A}=p;y&&(s.contentHooks??(s.contentHooks=[])).push(-a,y),E&&((s.contentHooks??(s.contentHooks=[])).push(a,E),(s.contentCheckHooks??(s.contentCheckHooks=[])).push(a,E)),D&&(s.viewHooks??(s.viewHooks=[])).push(-a,D),b&&((s.viewHooks??(s.viewHooks=[])).push(a,b),(s.viewCheckHooks??(s.viewCheckHooks=[])).push(a,b)),null!=A&&(s.destroyHooks??(s.destroyHooks=[])).push(a,A)}}function cl(s,o,a){bu(s,o,3,a)}function Nh(s,o,a,l){(3&s[bt])===a&&bu(s,o,a,l)}function Oh(s,o){let a=s[bt];(3&a)===o&&(a&=2047,a+=1,s[bt]=a)}function bu(s,o,a,l){const p=l??-1,y=o.length-1;let E=0;for(let D=void 0!==l?65535&s[Ns]:0;D<y;D++)if("number"==typeof o[D+1]){if(E=o[D],null!=l&&E>=l)break}else o[D]<0&&(s[Ns]+=65536),(E<p||-1==p)&&(wa(s,a,o,D),s[Ns]=(4294901760&s[Ns])+D+2),D++}function wa(s,o,a,l){const d=a[l]<0,p=a[l+1],E=s[d?-a[l]:a[l]];if(d){if(s[bt]>>11<s[Ns]>>16&&(3&s[bt])===o){s[bt]+=2048,hn(4,E,p);try{p.call(E)}finally{hn(5,E,p)}}}else{hn(4,E,p);try{p.call(E)}finally{hn(5,E,p)}}}const Ea=-1;class Vs{constructor(o,a,l){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function Tu(s,o,a){let l=0;for(;l<a.length;){const d=a[l];if("number"==typeof d){if(0!==d)break;l++;const p=a[l++],y=a[l++],E=a[l++];s.setAttribute(o,y,E,p)}else{const p=d,y=a[++l];mo(p)?s.setProperty(o,p,y):s.setAttribute(o,p,y),l++}}return l}function Fh(s){return 3===s||4===s||6===s}function mo(s){return 64===s.charCodeAt(0)}function Bs(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let l=0;l<o.length;l++){const d=o[l];"number"==typeof d?a=d:0===a||yo(s,a,d,null,-1===a||2===a?o[++l]:null)}}return s}function yo(s,o,a,l,d){let p=0,y=s.length;if(-1===o)y=-1;else for(;p<s.length;){const E=s[p++];if("number"==typeof E){if(E===o){y=-1;break}if(E>o){y=p-1;break}}}for(;p<s.length;){const E=s[p];if("number"==typeof E)break;if(E===a){if(null===l)return void(null!==d&&(s[p+1]=d));if(l===s[p+1])return void(s[p+2]=d)}p++,null!==l&&p++,null!==d&&p++}-1!==y&&(s.splice(y,0,o),p=y+1),s.splice(p++,0,a),null!==l&&s.splice(p++,0,l),null!==d&&s.splice(p++,0,d)}function Ia(s){return s!==Ea}function Da(s){return 32767&s}function Ca(s,o){let a=function Su(s){return s>>16}(s),l=o;for(;a>0;)l=l[ss],a--;return l}let fl=!0;function ba(s){const o=fl;return fl=s,o}const Gg=255,Au=5;let Wg=0;const Tr={};function Mu(s,o){const a=gl(s,o);if(-1!==a)return a;const l=o[$e];l.firstCreatePass&&(s.injectorIndex=o.length,cs(l.data,s),cs(o,null),cs(l.blueprint,null));const d=fn(s,o),p=s.injectorIndex;if(Ia(d)){const y=Da(d),E=Ca(d,o),D=E[$e].data;for(let b=0;b<8;b++)o[p+b]=E[y+b]|D[y+b]}return o[p+8]=d,p}function cs(s,o){s.push(0,0,0,0,0,0,0,0,o)}function gl(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function fn(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,l=null,d=o;for(;null!==d;){if(l=Aa(d),null===l)return Ea;if(a++,d=d[ss],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return Ea}function Ta(s,o,a){!function pl(s,o,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(Nt)&&(l=a[Nt]),null==l&&(l=a[Nt]=Wg++);const d=l&Gg;o.data[s+(d>>Au)]|=1<<d}(s,o,a)}function Lh(s,o,a){if(a&nt.Optional||void 0!==s)return s;Oe()}function Sa(s,o,a,l){if(a&nt.Optional&&void 0===l&&(l=null),!(a&(nt.Self|nt.Host))){const d=s[aa],p=On(void 0);try{return d?d.get(o,l,a&nt.Optional):Hr(o,l,a&nt.Optional)}finally{On(p)}}return Lh(l,0,a)}function Vh(s,o,a,l=nt.Default,d){if(null!==s){if(1024&o[bt]){const y=function Kg(s,o,a,l,d){let p=s,y=o;for(;null!==p&&null!==y&&1024&y[bt]&&!(256&y[bt]);){const E=Uh(p,y,a,l|nt.Self,Tr);if(E!==Tr)return E;let D=p.parent;if(!D){const b=y[Jc];if(b){const A=b.get(a,Tr,l);if(A!==Tr)return A}D=Aa(y),y=y[ss]}p=D}return d}(s,o,a,l,Tr);if(y!==Tr)return y}const p=Uh(s,o,a,l,Tr);if(p!==Tr)return p}return Sa(o,a,l,d)}function Uh(s,o,a,l,d){const p=function qg(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Nt)?s[Nt]:void 0;return"number"==typeof o?o>=0?o&Gg:ml:o}(a);if("function"==typeof p){if(!Bg(o,s,l))return l&nt.Host?Lh(d,0,l):Sa(o,a,l,d);try{const y=p(l);if(null!=y||l&nt.Optional)return y;Oe()}finally{ol()}}else if("number"==typeof p){let y=null,E=gl(s,o),D=Ea,b=l&nt.Host?o[zn][or]:null;for((-1===E||l&nt.SkipSelf)&&(D=-1===E?fn(s,o):o[E+8],D!==Ea&&Ru(l,!1)?(y=o[$e],E=Da(D),o=Ca(D,o)):E=-1);-1!==E;){const A=o[$e];if($s(p,E,A.data)){const x=Bh(E,o,a,y,l,b);if(x!==Tr)return x}D=o[E+8],D!==Ea&&Ru(l,o[$e].data[E+8]===b)&&$s(p,E,o)?(y=A,E=Da(D),o=Ca(D,o)):E=-1}}return d}function Bh(s,o,a,l,d,p){const y=o[$e],E=y.data[s+8],A=_o(E,y,a,null==l?la(E)&&fl:l!=y&&0!=(3&E.type),d&nt.Host&&p===E);return null!==A?Hi(o,y,A,E):Tr}function _o(s,o,a,l,d){const p=s.providerIndexes,y=o.data,E=1048575&p,D=s.directiveStart,A=p>>20,L=d?E+A:s.directiveEnd;for(let z=l?E:E+A;z<L;z++){const ae=y[z];if(z<D&&a===ae||z>=D&&ae.type===a)return z}if(d){const z=y[D];if(z&&pr(z)&&z.type===a)return D}return null}function Hi(s,o,a,l){let d=s[a];const p=o.data;if(function k0(s){return s instanceof Vs}(d)){const y=d;y.resolving&&function pe(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Z(-200,`Circular dependency in DI detected for ${s}${a}`)}(function Pe(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():_e(s)}(p[a]));const E=ba(y.canSeeViewProviders);y.resolving=!0;const D=y.injectImpl?On(y.injectImpl):null;Bg(s,l,nt.Default);try{d=s[a]=y.factory(void 0,p,s,l),o.firstCreatePass&&a>=l.directiveStart&&function P0(s,o,a){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:p}=o.type.prototype;if(l){const y=mh(o);(a.preOrderHooks??(a.preOrderHooks=[])).push(s,y),(a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(s,y)}d&&(a.preOrderHooks??(a.preOrderHooks=[])).push(0-s,d),p&&((a.preOrderHooks??(a.preOrderHooks=[])).push(s,p),(a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(s,p))}(a,p[a],o)}finally{null!==D&&On(D),ba(E),y.resolving=!1,ol()}}return d}function $s(s,o,a){return!!(a[o+(s>>Au)]&1<<s)}function Ru(s,o){return!(s&nt.Self||s&nt.Host&&o)}class vo{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,l){return Vh(this._tNode,this._lView,o,Wr(l),a)}}function ml(){return new vo(gn(),ie())}function yl(s){return R(()=>{const o=s.prototype.constructor,a=o[on]||wo(o),l=Object.prototype;let d=Object.getPrototypeOf(s.prototype).constructor;for(;d&&d!==l;){const p=d[on]||wo(d);if(p&&p!==a)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function wo(s){return ke(s)?()=>{const o=wo(j(s));return o&&o()}:Di(s)}function Aa(s){const o=s[$e],a=o.type;return 2===a?o.declTNode:1===a?s[or]:null}function Ma(s){return function xu(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const l=a.length;let d=0;for(;d<l;){const p=a[d];if(Fh(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<l&&"string"==typeof a[d];)d++;else{if(p===o)return a[d+1];d+=2}}}return null}(gn(),s)}const Eo="__parameters__";function Io(s,o,a){return R(()=>{const l=function $h(s){return function(...a){if(s){const l=s(...a);for(const d in l)this[d]=l[d]}}}(o);function d(...p){if(this instanceof d)return l.apply(this,p),this;const y=new d(...p);return E.annotation=y,E;function E(D,b,A){const x=D.hasOwnProperty(Eo)?D[Eo]:Object.defineProperty(D,Eo,{value:[]})[Eo];for(;x.length<=A;)x.push(null);return(x[A]=x[A]||[]).push(y),D}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=s,d.annotationCls=d,d})}class Ut{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Ye({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Do(s,o){s.forEach(a=>Array.isArray(a)?Do(a,o):o(a))}function wl(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function El(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Yr(s,o,a){let l=ci(s,o);return l>=0?s[1|l]=a:(l=~l,function Il(s,o,a,l){let d=s.length;if(d==o)s.push(a,l);else if(1===d)s.push(l,s[0]),s[0]=a;else{for(d--,s.push(s[d-1],s[d]);d>o;)s[d]=s[d-2],d--;s[o]=a,s[o+1]=l}}(s,l,o,a)),l}function tn(s,o){const a=ci(s,o);if(a>=0)return s[1|a]}function ci(s,o){return function li(s,o,a){let l=0,d=s.length>>a;for(;d!==l;){const p=l+(d-l>>1),y=s[p<<a];if(o===y)return p<<a;y>o?d=p:l=p+1}return~(d<<a)}(s,o,1)}const Hs=Ui(Io("Optional"),8),vt=Ui(Io("SkipSelf"),4);var ut=(()=>((ut=ut||{})[ut.Important=1]="Important",ut[ut.DashCase=2]="DashCase",ut))();const Ml=new Map;let Si=0;const ju="__ngContext__";function Fn(s,o){fr(o)?(s[ju]=o[ao],function ef(s){Ml.set(s[ao],s)}(o)):s[ju]=o}let Ol;function Wi(s,o){return Ol(s,o)}function Hu(s){const o=s[dn];return ui(o)?o[dn]:o}function Gs(s){return kl(s[Kr])}function Ws(s){return kl(s[zt])}function kl(s){for(;null!==s&&!ui(s);)s=s[zt];return s}function ps(s,o,a,l,d){if(null!=l){let p,y=!1;ui(l)?p=l:fr(l)&&(y=!0,l=l[kn]);const E=An(l);0===s&&null!==a?null==d?cr(o,a,E):wt(o,a,E,d||null,!0):1===s&&null!==a?wt(o,a,E,d||null,!0):2===s?function um(s,o,a){const l=fi(s,o);l&&function gs(s,o,a,l){s.removeChild(o,a,l)}(s,l,o,a)}(o,E,y):3===s&&o.destroyNode(E),null!=p&&function $l(s,o,a,l,d){const p=a[uo];p!==An(a)&&ps(o,s,l,p,d);for(let E=Gn;E<a.length;E++){const D=a[E];Bl(D[$e],D,s,o,l,p)}}(o,s,p,a,d)}}function Ll(s,o,a){return s.createElement(o,a)}function w(s,o){const a=s[os],l=a.indexOf(o),d=o[dn];512&o[bt]&&(o[bt]&=-513,ma(d,-1)),a.splice(l,1)}function T(s,o){if(s.length<=Gn)return;const a=Gn+o,l=s[a];if(l){const d=l[oo];null!==d&&d!==s&&w(d,l),o>0&&(s[a-1][zt]=l[zt]);const p=El(s,Gn+o);!function uf(s,o){Bl(s,o,o[Tt],2,null,null),o[kn]=null,o[or]=null}(l[$e],l);const y=p[ai];null!==y&&y.detachView(p[$e]),l[dn]=null,l[zt]=null,l[bt]&=-65}return l}function M(s,o){if(!(128&o[bt])){const a=o[Tt];a.destroyNode&&Bl(s,o,a,3,null,null),function v(s){let o=s[Kr];if(!o)return B(s[$e],s);for(;o;){let a=null;if(fr(o))a=o[Kr];else{const l=o[Gn];l&&(a=l)}if(!a){for(;o&&!o[zt]&&o!==s;)fr(o)&&B(o[$e],o),o=o[dn];null===o&&(o=s),fr(o)&&B(o[$e],o),a=o&&o[zt]}o=a}}(o)}}function B(s,o){if(!(128&o[bt])){o[bt]&=-65,o[bt]|=128,function Ie(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let l=0;l<a.length;l+=2){const d=o[a[l]];if(!(d instanceof Vs)){const p=a[l+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const E=d[p[y]],D=p[y+1];hn(4,E,D);try{D.call(E)}finally{hn(5,E,D)}}else{hn(4,d,p);try{p.call(d)}finally{hn(5,d,p)}}}}}(s,o),function Y(s,o){const a=s.cleanup,l=o[Rs];let d=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const y=a[p+3];y>=0?l[d=y]():l[d=-y].unsubscribe(),p+=2}else{const y=l[d=a[p+1]];a[p].call(y)}if(null!==l){for(let p=d+1;p<l.length;p++)(0,l[p])();o[Rs]=null}}(s,o),1===o[$e].type&&o[Tt].destroy();const a=o[oo];if(null!==a&&ui(o[dn])){a!==o[dn]&&w(a,o);const l=o[ai];null!==l&&l.detachView(s)}!function tf(s){Ml.delete(s[ao])}(o)}}function Fe(s,o,a){return function Xe(s,o,a){let l=o;for(;null!==l&&40&l.type;)l=(o=l).parent;if(null===l)return a[kn];{const{componentOffset:d}=l;if(d>-1){const{encapsulation:p}=s.data[l.directiveStart+d];if(p===oe.None||p===oe.Emulated)return null}return Wn(l,a)}}(s,o.parent,a)}function wt(s,o,a,l,d){s.insertBefore(o,a,l,d)}function cr(s,o,a){s.appendChild(o,a)}function qi(s,o,a,l,d){null!==l?wt(s,o,a,l,d):cr(s,o,a)}function fi(s,o){return s.parentNode(o)}let Wu,dm,cf,ms=function La(s,o,a){return 40&s.type?Wn(s,a):null};function Vo(s,o,a,l){const d=Fe(s,l,o),p=o[Tt],E=function Gu(s,o,a){return ms(s,o,a)}(l.parent||o[or],l,o);if(null!=d)if(Array.isArray(a))for(let D=0;D<a.length;D++)qi(p,d,a[D],E,!1);else qi(p,d,a,E,!1);void 0!==Wu&&Wu(p,l,o,a,d)}function Ku(s,o){if(null!==o){const a=o.type;if(3&a)return Wn(o,s);if(4&a)return ys(-1,s[o.index]);if(8&a){const l=o.child;if(null!==l)return Ku(s,l);{const d=s[o.index];return ui(d)?ys(-1,d):An(d)}}if(32&a)return Wi(o,s)()||An(s[o.index]);{const l=Uo(s,o);return null!==l?Array.isArray(l)?l[0]:Ku(Hu(s[zn]),l):Ku(s,o.next)}}return null}function Uo(s,o){return null!==o?s[zn][or].projection[o.projection]:null}function ys(s,o){const a=Gn+s+1;if(a<o.length){const l=o[a],d=l[$e].firstChild;if(null!==d)return Ku(l,d)}return o[uo]}function Ul(s,o,a,l,d,p,y){for(;null!=a;){const E=l[a.index],D=a.type;if(y&&0===o&&(E&&Fn(An(E),l),a.flags|=2),32!=(32&a.flags))if(8&D)Ul(s,o,a.child,l,d,p,!1),ps(o,s,d,E,p);else if(32&D){const b=Wi(a,l);let A;for(;A=b();)ps(o,s,d,A,p);ps(o,s,d,E,p)}else 16&D?cm(s,o,l,a,d,p):ps(o,s,d,E,p);a=y?a.projectionNext:a.next}}function Bl(s,o,a,l,d,p){Ul(a,l,s.firstChild,o,d,p,!1)}function cm(s,o,a,l,d,p){const y=a[zn],D=y[or].projection[l.projection];if(Array.isArray(D))for(let b=0;b<D.length;b++)ps(o,s,d,D[b],p);else Ul(s,o,D,y[dn],d,p,!0)}function Bo(s,o,a){""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a)}function jl(s,o,a){const{mergedAttrs:l,classes:d,styles:p}=a;null!==l&&Tu(s,o,l),null!==d&&Bo(s,o,d),null!==p&&function lm(s,o,a){s.setAttribute(o,"style",a)}(s,o,p)}function NC(s){dm=s}function H0(s){return function hm(){if(void 0===cf&&(cf=null,Zt.trustedTypes))try{cf=Zt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return cf}()?.createScriptURL(s)||s}class z0{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ze})`}}function vs(s){return s instanceof z0?s.changingThisBreaksApplicationSecurity:s}function pi(s,o){const a=function Yu(s){return s instanceof z0&&s.getTypeName()||null}(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see ${Ze})`)}return a===o}const K0=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Dn=(()=>((Dn=Dn||{})[Dn.NONE=0]="NONE",Dn[Dn.HTML=1]="HTML",Dn[Dn.STYLE=2]="STYLE",Dn[Dn.SCRIPT=3]="SCRIPT",Dn[Dn.URL=4]="URL",Dn[Dn.RESOURCE_URL=5]="RESOURCE_URL",Dn))();function X0(s){const o=Kl();return o?o.sanitize(Dn.URL,s)||"":pi(s,"URL")?vs(s):function zl(s){return(s=String(s)).match(K0)?s:"unsafe:"+s}(_e(s))}function pf(s){const o=Kl();if(o)return H0(o.sanitize(Dn.RESOURCE_URL,s)||"");if(pi(s,"ResourceURL"))return H0(vs(s));throw new Z(904,!1)}function tw(s,o,a){return function GC(s,o){return"src"===o&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===o&&("base"===s||"link"===s)?pf:X0}(o,a)(s)}function Kl(){const s=ie();return s&&s[gu]}const Em=new Ut("ENVIRONMENT_INITIALIZER"),Ba=new Ut("INJECTOR",-1),Ju=new Ut("INJECTOR_DEF_TYPES");class nw{get(o,a=zr){if(a===zr){const l=new Error(`NullInjectorError: No provider for ${Te(o)}!`);throw l.name="NullInjectorError",l}return a}}function Zl(...s){return{\u0275providers:Xu(0,s),\u0275fromNgModule:!0}}function Xu(s,...o){const a=[],l=new Set;let d;return Do(o,p=>{const y=p;Im(y,a,[],l)&&(d||(d=[]),d.push(y))}),void 0!==d&&rw(d,a),a}function rw(s,o){for(let a=0;a<s.length;a++){const{providers:d}=s[a];Dm(d,p=>{o.push(p)})}}function Im(s,o,a,l){if(!(s=j(s)))return!1;let d=null,p=Un(s);const y=!p&&rt(s);if(p||y){if(y&&!y.standalone)return!1;d=s}else{const D=s.ngModule;if(p=Un(D),!p)return!1;d=D}const E=l.has(d);if(y){if(E)return!1;if(l.add(d),y.dependencies){const D="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const b of D)Im(b,o,a,l)}}else{if(!p)return!1;{if(null!=p.imports&&!E){let b;l.add(d);try{Do(p.imports,A=>{Im(A,o,a,l)&&(b||(b=[]),b.push(A))})}finally{}void 0!==b&&rw(b,o)}if(!E){const b=Di(d)||(()=>new d);o.push({provide:d,useFactory:b,deps:Ce},{provide:Ju,useValue:d,multi:!0},{provide:Em,useValue:()=>jt(d),multi:!0})}const D=p.providers;null==D||E||Dm(D,A=>{o.push(A)})}}return d!==s&&void 0!==s.providers}function Dm(s,o){for(let a of s)Se(a)&&(a=a.\u0275providers),Array.isArray(a)?Dm(a,o):o(a)}const qC=ue({provide:String,useValue:ue});function Cm(s){return null!==s&&"object"==typeof s&&qC in s}function qs(s){return"function"==typeof s}const $o=new Ut("Set Injector scope."),mf={},ZC={};let bm;function yf(){return void 0===bm&&(bm=new nw),bm}class $a{}class sw extends $a{get destroyed(){return this._destroyed}constructor(o,a,l,d){super(),this.parent=a,this.source=l,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,tc(o,y=>this.processProvider(y)),this.records.set(Ba,ec(void 0,this)),d.has("environment")&&this.records.set($a,ec(void 0,this));const p=this.records.get($o);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(Ju.multi,Ce,nt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const a=kt(this),l=On(void 0);try{return o()}finally{kt(a),On(l)}}get(o,a=zr,l=nt.Default){this.assertNotDestroyed(),l=Wr(l);const d=kt(this),p=On(void 0);try{if(!(l&nt.SkipSelf)){let E=this.records.get(o);if(void 0===E){const D=function Mm(s){return"function"==typeof s||"object"==typeof s&&s instanceof Ut}(o)&&Vt(o);E=D&&this.injectableDefInScope(D)?ec(Tm(o),mf):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(l&nt.Self?yf():this.parent).get(o,a=l&nt.Optional&&a===zr?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[Tn]=y[Tn]||[]).unshift(Te(o)),d)throw y;return function oi(s,o,a,l){const d=s[Tn];throw o[sn]&&d.unshift(o[sn]),s.message=function P(s,o,a,l=null){s=s&&"\n"===s.charAt(0)&&s.charAt(1)==br?s.slice(2):s;let d=Te(o);if(Array.isArray(o))d=o.map(Te).join(" -> ");else if("object"==typeof o){let p=[];for(let y in o)if(o.hasOwnProperty(y)){let E=o[y];p.push(y+":"+("string"==typeof E?JSON.stringify(E):Te(E)))}d=`{${p.join(", ")}}`}return`${a}${l?"("+l+")":""}[${d}]: ${s.replace(Cr,"\n  ")}`}("\n"+s.message,d,a,l),s[Gr]=d,s[Tn]=null,s}(y,o,"R3InjectorError",this.source)}throw y}finally{On(p),kt(d)}}resolveInjectorInitializers(){const o=kt(this),a=On(void 0);try{const l=this.get(Em.multi,Ce,nt.Self);for(const d of l)d()}finally{kt(o),On(a)}}toString(){const o=[],a=this.records;for(const l of a.keys())o.push(Te(l));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Z(205,!1)}processProvider(o){let a=qs(o=j(o))?o:j(o&&o.provide);const l=function QC(s){return Cm(s)?ec(void 0,s.useValue):ec(Sm(s),mf)}(o);if(qs(o)||!0!==o.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=ec(void 0,mf,!0),d.factory=()=>Hn(d.multi),this.records.set(a,d)),a=o,d.multi.push(o)}this.records.set(a,l)}hydrate(o,a){return a.value===mf&&(a.value=ZC,a.value=a.factory()),"object"==typeof a.value&&a.value&&function ow(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=j(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function Tm(s){const o=Vt(s),a=null!==o?o.factory:Di(s);if(null!==a)return a;if(s instanceof Ut)throw new Z(204,!1);if(s instanceof Function)return function YC(s){const o=s.length;if(o>0)throw function Co(s,o){const a=[];for(let l=0;l<s;l++)a.push(o);return a}(o,"?"),new Z(204,!1);const a=function hr(s){return s&&(s[Bn]||s[ii])||null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new Z(204,!1)}function Sm(s,o,a){let l;if(qs(s)){const d=j(s);return Di(d)||Tm(d)}if(Cm(s))l=()=>j(s.useValue);else if(function iw(s){return!(!s||!s.useFactory)}(s))l=()=>s.useFactory(...Hn(s.deps||[]));else if(function KC(s){return!(!s||!s.useExisting)}(s))l=()=>jt(j(s.useExisting));else{const d=j(s&&(s.useClass||s.provide));if(!function Am(s){return!!s.deps}(s))return Di(d)||Tm(d);l=()=>new d(...Hn(s.deps))}return l}function ec(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function tc(s,o){for(const a of s)Array.isArray(a)?tc(a,o):a&&Se(a)?tc(a.\u0275providers,o):o(a)}class JC{}class aw{}class cw{resolveComponentFactory(o){throw function XC(s){const o=Error(`No component factory found for ${Te(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let nc=(()=>{class s{}return s.NULL=new cw,s})();function _f(){return Ks(gn(),ie())}function Ks(s,o){return new rc(Wn(s,o))}let rc=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=_f,s})();function Yl(s){return s instanceof rc?s.nativeElement:s}class Rm{}let eb=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function tb(){const s=ie(),a=ar(gn().index,s);return(fr(a)?a:s)[Tt]}(),s})(),nb=(()=>{class s{}return s.\u0275prov=Ye({token:s,providedIn:"root",factory:()=>null}),s})();class lw{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const dw=new lw("15.2.9"),vf={},Nm="ngOriginalError";function Om(s){return s[Nm]}class Ql{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&Om(o);for(;a&&Om(a);)a=Om(a);return a||null}}function ws(s){return s instanceof Function?s():s}function yw(s,o,a){let l=s.length;for(;;){const d=s.indexOf(o,a);if(-1===d)return d;if(0===d||s.charCodeAt(d-1)<=32){const p=o.length;if(d+p===l||s.charCodeAt(d+p)<=32)return d}a=d+1}}const Pm="ng-template";function km(s,o,a){let l=0,d=!0;for(;l<s.length;){let p=s[l++];if("string"==typeof p&&d){const y=s[l++];if(a&&"class"===p&&-1!==yw(y.toLowerCase(),o,0))return!0}else{if(1===p){for(;l<s.length&&"string"==typeof(p=s[l++]);)if(p.toLowerCase()===o)return!0;return!1}"number"==typeof p&&(d=!1)}}return!1}function Fm(s){return 4===s.type&&s.value!==Pm}function ic(s,o,a){return o===(4!==s.type||a?s.value:Pm)}function Lm(s,o,a){let l=4;const d=s.attrs||[],p=function vw(s){for(let o=0;o<s.length;o++)if(Fh(s[o]))return o;return s.length}(d);let y=!1;for(let E=0;E<o.length;E++){const D=o[E];if("number"!=typeof D){if(!y)if(4&l){if(l=2|1&l,""!==D&&!ic(s,D,a)||""===D&&1===o.length){if(Zi(l))return!1;y=!0}}else{const b=8&l?D:o[++E];if(8&l&&null!==s.attrs){if(!km(s.attrs,b,a)){if(Zi(l))return!1;y=!0}continue}const x=_w(8&l?"class":D,d,Fm(s),a);if(-1===x){if(Zi(l))return!1;y=!0;continue}if(""!==b){let L;L=x>p?"":d[x+1].toLowerCase();const z=8&l?L:null;if(z&&-1!==yw(z,b,0)||2&l&&b!==L){if(Zi(l))return!1;y=!0}}}}else{if(!y&&!Zi(l)&&!Zi(D))return!1;if(y&&Zi(D))continue;y=!1,l=D|1&l}}return Zi(l)||y}function Zi(s){return 0==(1&s)}function _w(s,o,a,l){if(null===o)return-1;let d=0;if(l||!a){let p=!1;for(;d<o.length;){const y=o[d];if(y===s)return d;if(3===y||6===y)p=!0;else{if(1===y||2===y){let E=o[++d];for(;"string"==typeof E;)E=o[++d];continue}if(4===y)break;if(0===y){d+=4;continue}}d+=p?1:2}return-1}return function ww(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const l=s[a];if("number"==typeof l)return-1;if(l===o)return a;a++}return-1}(o,s)}function Xl(s,o,a=!1){for(let l=0;l<o.length;l++)if(Lm(s,o[l],a))return!0;return!1}function Ew(s,o){return s?":not("+o.trim()+")":o}function lb(s){let o=s[0],a=1,l=2,d="",p=!1;for(;a<s.length;){let y=s[a];if("string"==typeof y)if(2&l){const E=s[++a];d+="["+y+(E.length>0?'="'+E+'"':"")+"]"}else 8&l?d+="."+y:4&l&&(d+=" "+y);else""!==d&&!Zi(y)&&(o+=Ew(p,d),d=""),l=y,p=p||!Zi(l);a++}return""!==d&&(o+=Ew(p,d)),o}const _t={};function Iw(s){Dw(Ot(),ie(),mr()+s,!1)}function Dw(s,o,a,l){if(!l)if(3==(3&o[bt])){const p=s.preOrderCheckHooks;null!==p&&cl(o,p,a)}else{const p=s.preOrderHooks;null!==p&&Nh(o,p,0,a)}us(a)}function bw(s,o=null,a=null,l){const d=Vm(s,o,a,l);return d.resolveInjectorInitializers(),d}function Vm(s,o=null,a=null,l,d=new Set){const p=[a||Ce,Zl(s)];return l=l||("object"==typeof s?void 0:Te(s)),new sw(p,o||yf(),l||null,d)}let sc=(()=>{class s{static create(a,l){if(Array.isArray(a))return bw({name:""},l,a,"");{const d=a.name??"";return bw({name:d},a.parent,a.providers,d)}}}return s.THROW_IF_NOT_FOUND=zr,s.NULL=new nw,s.\u0275prov=Ye({token:s,providedIn:"any",factory:()=>jt(Ba)}),s.__NG_ELEMENT_ID__=-1,s})();function uc(s,o=nt.Default){const a=ie();return null===a?jt(s,o):Vh(gn(),a,j(s),o)}function xw(){throw new Error("invalid")}function Rw(s,o){const a=s.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const p=a[l+1];if(-1!==p){const y=s.data[p];Mh(a[l]),y.contentQueries(2,o[p],p)}}}function Df(s,o,a,l,d,p,y,E,D,b,A){const x=o.blueprint.slice();return x[kn]=d,x[bt]=76|l,(null!==A||s&&1024&s[bt])&&(x[bt]|=1024),tl(x),x[dn]=x[ss]=s,x[cn]=a,x[pu]=y||s&&s[pu],x[Tt]=E||s&&s[Tt],x[gu]=D||s&&s[gu]||null,x[aa]=b||s&&s[aa]||null,x[or]=p,x[ao]=function Xh(){return Si++}(),x[Jc]=A,x[zn]=2==o.type?s[zn]:x,x}function id(s,o,a,l,d){let p=s.data[o];if(null===p)p=function te(s,o,a,l,d){const p=Ug(),y=Eu(),D=s.data[o]=function qm(s,o,a,l,d,p){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,a,o,l,d);return null===s.firstChild&&(s.firstChild=D),null!==p&&(y?null==p.child&&null!==D.parent&&(p.child=D):null===p.next&&(p.next=D,D.prev=p)),D}(s,o,a,l,d),function Ah(){return mt.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=a,p.value=l,p.attrs=d;const y=function po(){const s=mt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return Ci(p,!0),p}function Mt(s,o,a,l){if(0===a)return-1;const d=o.length;for(let p=0;p<a;p++)o.push(l),s.blueprint.push(l),s.data.push(null);return d}function Hm(s,o,a){Cu(o);try{const l=s.viewQuery;null!==l&&sy(1,l,a);const d=s.template;null!==d&&xt(s,o,d,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Rw(s,o),s.staticViewQueries&&sy(2,s.viewQuery,a);const p=s.components;null!==p&&function Nw(s,o){for(let a=0;a<o.length;a++)ry(s,o[a])}(o,p)}catch(l){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),l}finally{o[bt]&=-5,Rh()}}function Cf(s,o,a,l){const d=o[bt];if(128!=(128&d)){Cu(o);try{tl(o),function go(s){return mt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&xt(s,o,a,2,l);const y=3==(3&d);if(y){const b=s.preOrderCheckHooks;null!==b&&cl(o,b,null)}else{const b=s.preOrderHooks;null!==b&&Nh(o,b,0,null),Oh(o,0)}if(function Uw(s){for(let o=Gs(s);null!==o;o=Ws(o)){if(!o[mu])continue;const a=o[os];for(let l=0;l<a.length;l++){const d=a[l];512&d[bt]||ma(d[dn],1),d[bt]|=512}}}(o),function Ys(s){for(let o=Gs(s);null!==o;o=Ws(o))for(let a=Gn;a<o.length;a++){const l=o[a],d=l[$e];fo(l)&&Cf(d,l,d.template,l[cn])}}(o),null!==s.contentQueries&&Rw(s,o),y){const b=s.contentCheckHooks;null!==b&&cl(o,b)}else{const b=s.contentHooks;null!==b&&Nh(o,b,1),Oh(o,1)}!function Ab(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const d=a[l];if(d<0)us(~d);else{const p=d,y=a[++l],E=a[++l];A0(y,p),E(2,o[p])}}}finally{us(-1)}}(s,o);const E=s.components;null!==E&&function Mb(s,o){for(let a=0;a<o.length;a++)ny(s,o[a])}(o,E);const D=s.viewQuery;if(null!==D&&sy(2,D,l),y){const b=s.viewCheckHooks;null!==b&&cl(o,b)}else{const b=s.viewHooks;null!==b&&Nh(o,b,2),Oh(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[bt]&=-41,512&o[bt]&&(o[bt]&=-513,ma(o[dn],-1))}finally{Rh()}}}function xt(s,o,a,l,d){const p=mr(),y=2&l;try{us(-1),y&&o.length>Xt&&Dw(s,o,Xt,!1),hn(y?2:0,d),a(l,d)}finally{us(p),hn(y?3:1,d)}}function xi(s,o,a){if(ca(o)){const d=o.directiveEnd;for(let p=o.directiveStart;p<d;p++){const y=s.data[p];y.contentQueries&&y.contentQueries(1,a[p],p)}}}function Ri(s,o,a){Eh()&&(function yR(s,o,a,l){const d=a.directiveStart,p=a.directiveEnd;la(a)&&function Lw(s,o,a){const l=Wn(o,s),d=Gm(a),p=s[pu],y=sd(s,Df(s,d,null,a.onPush?32:16,l,o,p,p.createRenderer(l,a),null,null,null));s[o.index]=y}(o,a,s.data[d+a.componentOffset]),s.firstCreatePass||Mu(a,o),Fn(l,o);const y=a.initialInputs;for(let E=d;E<p;E++){const D=s.data[E],b=Hi(o,s,E,a);Fn(b,o),null!==y&&Fb(0,E-d,b,D,0,y),pr(D)&&(ar(a.index,o)[cn]=Hi(o,s,E,a))}}(s,o,a,Wn(a,o)),64==(64&a.flags)&&Ow(s,o,a))}function zm(s,o,a=Wn){const l=o.localNames;if(null!==l){let d=o.index+1;for(let p=0;p<l.length;p+=2){const y=l[p+1],E=-1===y?a(o,s):s[y];s[d++]=E}}}function Gm(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=bf(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function bf(s,o,a,l,d,p,y,E,D,b){const A=Xt+l,x=A+d,L=function xb(s,o){const a=[];for(let l=0;l<o;l++)a.push(l<s?null:_t);return a}(A,x),z="function"==typeof b?b():b;return L[$e]={type:s,blueprint:L,template:a,queries:null,viewQuery:E,declTNode:o,data:L.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:x,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:D,consts:z,incompleteFirstPass:!1}}function Wm(s,o,a,l){const d=$w(o);null===a?d.push(l):(d.push(a),s.firstCreatePass&&Mf(s).push(l,d.length-1))}function Km(s,o,a,l){for(let d in s)if(s.hasOwnProperty(d)){a=null===a?{}:a;const p=s[d];null===l?Tf(a,o,d,p):l.hasOwnProperty(d)&&Tf(a,o,l[d],p)}return a}function Tf(s,o,a,l){s.hasOwnProperty(a)?s[a].push(o,l):s[a]=[o,l]}function gi(s,o,a,l,d,p,y,E){const D=Wn(o,a);let A,b=o.inputs;!E&&null!=b&&(A=b[l])?(ay(s,a,A,l,d),la(o)&&function Ym(s,o){const a=ar(o,s);16&a[bt]||(a[bt]|=32)}(a,o.index)):3&o.type&&(l=function Nb(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(l),d=null!=y?y(d,o.value||"",l):d,p.setProperty(D,l,d))}function Qm(s,o,a,l){if(Eh()){const d=null===l?null:{"":-1},p=function Xm(s,o){const a=s.directiveRegistry;let l=null,d=null;if(a)for(let p=0;p<a.length;p++){const y=a[p];if(Xl(o,y.selectors,!1))if(l||(l=[]),pr(y))if(null!==y.findHostDirectiveDefs){const E=[];d=d||new Map,y.findHostDirectiveDefs(y,E,d),l.unshift(...E,y),Sf(s,o,E.length)}else l.unshift(y),Sf(s,o,0);else d=d||new Map,y.findHostDirectiveDefs?.(y,l,d),l.push(y)}return null===l?null:[l,d]}(s,a);let y,E;null===p?y=E=null:[y,E]=p,null!==y&&Zs(s,o,a,y,d,E),d&&function Pw(s,o,a){if(o){const l=s.localNames=[];for(let d=0;d<o.length;d+=2){const p=a[o[d+1]];if(null==p)throw new Z(-301,!1);l.push(o[d],p)}}}(a,l,d)}a.mergedAttrs=Bs(a.mergedAttrs,a.attrs)}function Zs(s,o,a,l,d,p){for(let b=0;b<l.length;b++)Ta(Mu(a,o),s,l[b].type);!function kw(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}(a,s.data.length,l.length);for(let b=0;b<l.length;b++){const A=l[b];A.providersResolver&&A.providersResolver(A)}let y=!1,E=!1,D=Mt(s,o,l.length,null);for(let b=0;b<l.length;b++){const A=l[b];a.mergedAttrs=Bs(a.mergedAttrs,A.hostAttrs),Fw(s,a,o,D,A),ey(D,A,d),null!==A.contentQueries&&(a.flags|=4),(null!==A.hostBindings||null!==A.hostAttrs||0!==A.hostVars)&&(a.flags|=64);const x=A.type.prototype;!y&&(x.ngOnChanges||x.ngOnInit||x.ngDoCheck)&&((s.preOrderHooks??(s.preOrderHooks=[])).push(a.index),y=!0),!E&&(x.ngOnChanges||x.ngDoCheck)&&((s.preOrderCheckHooks??(s.preOrderCheckHooks=[])).push(a.index),E=!0),D++}!function Zm(s,o,a){const d=o.directiveEnd,p=s.data,y=o.attrs,E=[];let D=null,b=null;for(let A=o.directiveStart;A<d;A++){const x=p[A],L=a?a.get(x):null,ae=L?L.outputs:null;D=Km(x.inputs,A,D,L?L.inputs:null),b=Km(x.outputs,A,b,ae);const Me=null===D||null===y||Fm(o)?null:Lb(D,A,y);E.push(Me)}null!==D&&(D.hasOwnProperty("class")&&(o.flags|=8),D.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=E,o.inputs=D,o.outputs=b}(s,a,p)}function Ow(s,o,a){const l=a.directiveStart,d=a.directiveEnd,p=a.index,y=function M0(){return mt.lFrame.currentDirectiveIndex}();try{us(p);for(let E=l;E<d;E++){const D=s.data[E],b=o[E];_a(E),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&kb(D,b)}}finally{us(-1),_a(y)}}function kb(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Sf(s,o,a){o.componentOffset=a,(s.components??(s.components=[])).push(o.index)}function ey(s,o,a){if(a){if(o.exportAs)for(let l=0;l<o.exportAs.length;l++)a[o.exportAs[l]]=s;pr(o)&&(a[""]=s)}}function Fw(s,o,a,l,d){s.data[l]=d;const p=d.factory||(d.factory=Di(d.type)),y=new Vs(p,pr(d),uc);s.blueprint[l]=y,a[l]=y,function Jm(s,o,a,l,d){const p=d.hostBindings;if(p){let y=s.hostBindingOpCodes;null===y&&(y=s.hostBindingOpCodes=[]);const E=~o.index;(function Pb(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(y)!=E&&y.push(E),y.push(a,l,p)}}(s,o,l,Mt(s,a,d.hostVars,_t),d)}function Es(s,o,a,l,d,p){const y=Wn(s,o);!function ty(s,o,a,l,d,p,y){if(null==p)s.removeAttribute(o,d,a);else{const E=null==y?_e(p):y(p,l||"",d);s.setAttribute(o,d,E,a)}}(o[Tt],y,p,s.value,a,l,d)}function Fb(s,o,a,l,d,p){const y=p[o];if(null!==y){const E=l.setInput;for(let D=0;D<y.length;){const b=y[D++],A=y[D++],x=y[D++];null!==E?l.setInput(a,x,b,A):a[A]=x}}}function Lb(s,o,a){let l=null,d=0;for(;d<a.length;){const p=a[d];if(0!==p)if(5!==p){if("number"==typeof p)break;if(s.hasOwnProperty(p)){null===l&&(l=[]);const y=s[p];for(let E=0;E<y.length;E+=2)if(y[E]===o){l.push(p,y[E+1],a[d+1]);break}}d+=2}else d+=2;else d+=4}return l}function Vw(s,o,a,l){return[s,!0,!1,o,null,0,l,a,null,null]}function ny(s,o){const a=ar(o,s);if(fo(a)){const l=a[$e];48&a[bt]?Cf(l,a,l.template,a[cn]):a[Bi]>0&&Af(a)}}function Af(s){for(let l=Gs(s);null!==l;l=Ws(l))for(let d=Gn;d<l.length;d++){const p=l[d];if(fo(p))if(512&p[bt]){const y=p[$e];Cf(y,p,y.template,p[cn])}else p[Bi]>0&&Af(p)}const a=s[$e].components;if(null!==a)for(let l=0;l<a.length;l++){const d=ar(a[l],s);fo(d)&&d[Bi]>0&&Af(d)}}function ry(s,o){const a=ar(o,s),l=a[$e];(function iy(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(l,a),Hm(l,a,a[cn])}function sd(s,o){return s[Kr]?s[ua][zt]=o:s[Kr]=o,s[ua]=o,o}function od(s){for(;s;){s[bt]|=32;const o=Hu(s);if($i(s)&&!o)return s;s=o}return null}function cc(s,o,a,l=!0){const d=o[pu];d.begin&&d.begin();try{Cf(s,o,s.template,a)}catch(y){throw l&&jw(o,y),y}finally{d.end&&d.end()}}function sy(s,o,a){Mh(0),o(s,a)}function $w(s){return s[Rs]||(s[Rs]=[])}function Mf(s){return s.cleanup||(s.cleanup=[])}function jw(s,o){const a=s[aa],l=a?a.get(Ql,null):null;l&&l.handleError(o)}function ay(s,o,a,l,d){for(let p=0;p<a.length;){const y=a[p++],E=a[p++],D=o[y],b=s.data[y];null!==b.setInput?b.setInput(D,d,l,E):D[E]=d}}function Yi(s,o,a){const l=ga(o,s);!function Fl(s,o,a){s.setValue(o,a)}(s[Tt],l,a)}function xf(s,o,a){let l=a?s.styles:null,d=a?s.classes:null,p=0;if(null!==o)for(let y=0;y<o.length;y++){const E=o[y];"number"==typeof E?p=E:1==p?d=Re(d,E):2==p&&(l=Re(l,E+": "+o[++y]+";"))}a?s.styles=l:s.stylesWithoutHost=l,a?s.classes=d:s.classesWithoutHost=d}function Rf(s,o,a,l,d=!1){for(;null!==a;){const p=o[a.index];if(null!==p&&l.push(An(p)),ui(p))for(let E=Gn;E<p.length;E++){const D=p[E],b=D[$e].firstChild;null!==b&&Rf(D[$e],D,b,l)}const y=a.type;if(8&y)Rf(s,o,a.child,l);else if(32&y){const E=Wi(a,o);let D;for(;D=E();)l.push(D)}else if(16&y){const E=Uo(o,a);if(Array.isArray(E))l.push(...E);else{const D=Hu(o[zn]);Rf(D[$e],D,E,l,!0)}}a=d?a.projectionNext:a.next}return l}class Is{get rootNodes(){const o=this._lView,a=o[$e];return Rf(a,o,a.firstChild,[])}constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[cn]}set context(o){this._lView[cn]=o}get destroyed(){return 128==(128&this._lView[bt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[dn];if(ui(o)){const a=o[co],l=a?a.indexOf(this):-1;l>-1&&(T(o,l),El(a,l))}this._attachedToViewContainer=!1}M(this._lView[$e],this._lView)}onDestroy(o){Wm(this._lView[$e],this._lView,null,o)}markForCheck(){od(this._cdRefInjectingView||this._lView)}detach(){this._lView[bt]&=-65}reattach(){this._lView[bt]|=64}detectChanges(){cc(this._lView[$e],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function zu(s,o){Bl(s,o,o[Tt],2,null,null)}(this._lView[$e],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Z(902,!1);this._appRef=o}}class lc extends Is{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;cc(o[$e],o,o[cn],!1)}checkNoChanges(){}get context(){return null}}class uy extends nc{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=rt(o);return new ad(a,this.ngModule)}}function Hw(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class zw{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,l){l=Wr(l);const d=this.injector.get(o,vf,l);return d!==vf||a===vf?d:this.parentInjector.get(o,a,l)}}class ad extends aw{get inputs(){return Hw(this.componentDef.inputs)}get outputs(){return Hw(this.componentDef.outputs)}constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function db(s){return s.map(lb).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}create(o,a,l,d){let p=(d=d||this.ngModule)instanceof $a?d:d?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const y=p?new zw(o,p):o,E=y.get(Rm,null);if(null===E)throw new Z(407,!1);const D=y.get(nb,null),b=E.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",x=l?function Rb(s,o,a){return s.selectRootElement(o,a===oe.ShadowDom)}(b,l,this.componentDef.encapsulation):Ll(b,A,function Vb(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(A)),L=this.componentDef.onPush?288:272,z=bf(0,null,null,1,0,null,null,null,null,null),ae=Df(null,z,null,L,null,null,E,b,D,y,null);let Me,Le;Cu(ae);try{const We=this.componentDef;let je,le=null;We.findHostDirectiveDefs?(je=[],le=new Map,We.findHostDirectiveDefs(We,je,le),je.push(We)):je=[We];const yt=function Gw(s,o){const a=s[$e],l=Xt;return s[l]=o,id(a,l,2,"#host",null)}(ae,x),un=function Bb(s,o,a,l,d,p,y,E){const D=d[$e];!function $b(s,o,a,l){for(const d of s)o.mergedAttrs=Bs(o.mergedAttrs,d.hostAttrs);null!==o.mergedAttrs&&(xf(o,o.mergedAttrs,!0),null!==a&&jl(l,a,o))}(l,s,o,y);const b=p.createRenderer(o,a),A=Df(d,Gm(a),null,a.onPush?32:16,d[s.index],s,p,b,E||null,null,null);return D.firstCreatePass&&Sf(D,s,l.length-1),sd(d,A),d[s.index]=A}(yt,x,We,je,ae,E,b);Le=_u(z,Xt),x&&function cy(s,o,a,l){if(l)Tu(s,a,["ng-version",dw.full]);else{const{attrs:d,classes:p}=function hb(s){const o=[],a=[];let l=1,d=2;for(;l<s.length;){let p=s[l];if("string"==typeof p)2===d?""!==p&&o.push(p,s[++l]):8===d&&a.push(p);else{if(!Zi(d))break;d=p}l++}return{attrs:o,classes:a}}(o.selectors[0]);d&&Tu(s,a,d),p&&p.length>0&&Bo(s,a,p.join(" "))}}(b,We,x,l),void 0!==a&&function ly(s,o,a){const l=s.projection=[];for(let d=0;d<o.length;d++){const p=a[d];l.push(null!=p?Array.from(p):null)}}(Le,this.ngContentSelectors,a),Me=function za(s,o,a,l,d,p){const y=gn(),E=d[$e],D=Wn(y,d);Zs(E,d,y,a,null,l);for(let A=0;A<a.length;A++)Fn(Hi(d,E,y.directiveStart+A,y),d);Ow(E,d,y),D&&Fn(D,d);const b=Hi(d,E,y.directiveStart+y.componentOffset,y);if(s[cn]=d[cn]=b,null!==p)for(const A of p)A(b,o);return xi(E,y,s),b}(un,We,je,le,ae,[Nf]),Hm(z,ae,null)}finally{Rh()}return new Ha(this.componentType,Me,Ks(Le,ae),ae,Le)}}class Ha extends JC{constructor(o,a,l,d,p){super(),this.location=l,this._rootLView=d,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new lc(d),this.componentType=o}setInput(o,a){const l=this._tNode.inputs;let d;if(null!==l&&(d=l[o])){const p=this._rootLView;ay(p[$e],p,d,o,a),od(ar(this._tNode.index,p))}}get injector(){return new vo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function Nf(){const s=gn();ul(ie()[$e],s)}function ud(s){let o=function Of(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const l=[s];for(;o;){let d;if(pr(s))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Z(903,!1);d=o.\u0275dir}if(d){if(a){l.push(d);const y=s;y.inputs=Ga(s.inputs),y.declaredInputs=Ga(s.declaredInputs),y.outputs=Ga(s.outputs);const E=d.hostBindings;E&&py(s,E);const D=d.viewQuery,b=d.contentQueries;if(D&&hy(s,D),b&&fy(s,b),xe(s.inputs,d.inputs),xe(s.declaredInputs,d.declaredInputs),xe(s.outputs,d.outputs),pr(d)&&d.data.animation){const A=s.data;A.animation=(A.animation||[]).concat(d.data.animation)}}const p=d.features;if(p)for(let y=0;y<p.length;y++){const E=p[y];E&&E.ngInherit&&E(s),E===ud&&(a=!1)}}o=Object.getPrototypeOf(o)}!function dy(s){let o=0,a=null;for(let l=s.length-1;l>=0;l--){const d=s[l];d.hostVars=o+=d.hostVars,d.hostAttrs=Bs(d.hostAttrs,a=Bs(a,d.hostAttrs))}}(l)}function Ga(s){return s===G?{}:s===Ce?[]:s}function hy(s,o){const a=s.viewQuery;s.viewQuery=a?(l,d)=>{o(l,d),a(l,d)}:o}function fy(s,o){const a=s.contentQueries;s.contentQueries=a?(l,d,p)=>{o(l,d,p),a(l,d,p)}:o}function py(s,o){const a=s.hostBindings;s.hostBindings=a?(l,d)=>{o(l,d),a(l,d)}:o}function dc(s){return!!cd(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function cd(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Ar(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function yy(s,o,a,l){const d=ie();return Ar(d,Ls(),o)&&(Ot(),Es(an(),d,s,o,a,l)),yy}function pc(s,o,a,l){return Ar(s,Ls(),a)?o+_e(a)+l:_t}function gc(s,o,a,l,d,p){const E=function Qs(s,o,a,l){const d=Ar(s,o,a);return Ar(s,o+1,l)||d}(s,function kr(){return mt.lFrame.bindingIndex}(),a,d);return as(2),E?o+_e(a)+l+_e(d)+p:_t}function Qw(s,o,a,l,d,p,y,E){const D=ie(),b=Ot(),A=s+Xt,x=b.firstCreatePass?function Jb(s,o,a,l,d,p,y,E,D){const b=o.consts,A=id(o,s,4,y||null,ji(b,E));Qm(o,a,A,ji(b,D)),ul(o,A);const x=A.tView=bf(2,A,l,d,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,b);return null!==o.queries&&(o.queries.template(o,A),x.queries=o.queries.embeddedTView(A)),A}(A,b,D,o,a,l,d,p,y):b.data[A];Ci(x,!1);const L=D[Tt].createComment("");Vo(b,D,L,x),Fn(L,D),sd(D,D[A]=Vw(L,D,L,x)),lo(x)&&Ri(b,D,x),null!=y&&zm(D,x,E)}function Vf(s,o,a){const l=ie();return Ar(l,Ls(),o)&&gi(Ot(),an(),l,s,o,l[Tt],a,!1),Vf}function wy(s,o,a,l,d){const y=d?"class":"style";ay(s,a,o.inputs[y],y,l)}function Uf(s,o,a,l){const d=ie(),p=Ot(),y=Xt+s,E=d[Tt],D=p.firstCreatePass?function Jw(s,o,a,l,d,p){const y=o.consts,D=id(o,s,2,l,ji(y,d));return Qm(o,a,D,ji(y,p)),null!==D.attrs&&xf(D,D.attrs,!1),null!==D.mergedAttrs&&xf(D,D.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,D),D}(y,p,d,o,a,l):p.data[y],b=d[y]=Ll(E,o,function O0(){return mt.lFrame.currentNamespace}()),A=lo(D);return Ci(D,!0),jl(E,b,D),32!=(32&D.flags)&&Vo(p,d,b,D),0===function nl(){return mt.lFrame.elementDepthCount}()&&Fn(b,d),function wh(){mt.lFrame.elementDepthCount++}(),A&&(Ri(p,d,D),xi(p,D,d)),null!==l&&zm(d,D),Uf}function yr(){let s=gn();Eu()?function bh(){mt.lFrame.isParent=!1}():(s=s.parent,Ci(s,!1));const o=s;!function rl(){mt.lFrame.elementDepthCount--}();const a=Ot();return a.firstCreatePass&&(ul(a,s),ca(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Us(s){return 0!=(8&s.flags)}(o)&&wy(a,o,ie(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function ll(s){return 0!=(16&s.flags)}(o)&&wy(a,o,ie(),o.stylesWithoutHost,!1),yr}function Ey(s,o,a,l){return Uf(s,o,a,l),yr(),Ey}function eE(s){return!!s&&"function"==typeof s.then}function tE(s){return!!s&&"function"==typeof s.subscribe}const $f=tE;function Cy(s,o,a,l){const d=ie(),p=Ot(),y=gn();return function tT(s,o,a,l,d,p,y){const E=lo(l),b=s.firstCreatePass&&Mf(s),A=o[cn],x=$w(o);let L=!0;if(3&l.type||y){const Me=Wn(l,o),Le=y?y(Me):Me,We=x.length,je=y?yt=>y(An(yt[l.index])):l.index;let le=null;if(!y&&E&&(le=function by(s,o,a,l){const d=s.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const y=d[p];if(y===a&&d[p+1]===l){const E=o[Rs],D=d[p+2];return E.length>D?E[D]:null}"string"==typeof y&&(p+=2)}return null}(s,o,d,l.index)),null!==le)(le.__ngLastListenerFn__||le).__ngNextListenerFn__=p,le.__ngLastListenerFn__=p,L=!1;else{p=rT(l,o,A,p,!1);const yt=a.listen(Le,d,p);x.push(p,yt),b&&b.push(d,je,We,We+1)}}else p=rT(l,o,A,p,!1);const z=l.outputs;let ae;if(L&&null!==z&&(ae=z[d])){const Me=ae.length;if(Me)for(let Le=0;Le<Me;Le+=2){const un=o[ae[Le]][ae[Le+1]].subscribe(p),Rn=x.length;x.push(p,un),b&&b.push(d,l.index,Rn,-(Rn+1))}}}(p,d,d[Tt],y,s,o,l),Cy}function nT(s,o,a,l){try{return hn(6,o,a),!1!==a(l)}catch(d){return jw(s,d),!1}finally{hn(7,o,a)}}function rT(s,o,a,l,d){return function p(y){if(y===Function)return l;od(s.componentOffset>-1?ar(s.index,o):o);let D=nT(o,a,l,y),b=p.__ngNextListenerFn__;for(;b;)D=nT(o,a,b,y)&&D,b=b.__ngNextListenerFn__;return d&&!1===D&&(y.preventDefault(),y.returnValue=!1),D}}function Hf(s,o,a,l,d){const p=ie(),y=pc(p,o,a,l);return y!==_t&&gi(Ot(),an(),p,s,y,p[Tt],d,!1),Hf}function Ds(s,o){return s<<17|o<<2}function Go(s){return s>>17&32767}function Ty(s){return 2|s}function Wa(s){return(131068&s)>>2}function Sy(s,o){return-131069&s|o<<2}function hd(s){return 1|s}function Ay(s,o,a,l,d){const p=s[a+1],y=null===o;let E=l?Go(p):Wa(p),D=!1;for(;0!==E&&(!1===D||y);){const A=s[E+1];uT(s[E],o)&&(D=!0,s[E+1]=l?hd(A):Ty(A)),E=l?Go(A):Wa(A)}D&&(s[a+1]=l?Ty(p):hd(p))}function uT(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&ci(s,o)>=0}function Ny(s,o){return function Qi(s,o,a,l){const d=ie(),p=Ot(),y=as(2);p.firstUpdatePass&&function Py(s,o,a,l){const d=s.data;if(null===d[a+1]){const p=d[mr()],y=function _E(s,o){return o>=s.expandoStartIndex}(s,a);(function EE(s,o){return 0!=(s.flags&(o?8:16))})(p,l)&&null===o&&!y&&(o=!1),o=function hT(s,o,a,l){const d=function Du(s){const o=mt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let p=l?o.residualClasses:o.residualStyles;if(null===d)0===(l?o.classBindings:o.styleBindings)&&(a=mi(a=qo(null,s,o,a,l),o.attrs,l),p=null);else{const y=o.directiveStylingLast;if(-1===y||s[y]!==d)if(a=qo(d,s,o,a,l),null===p){let D=function fT(s,o,a){const l=a?o.classBindings:o.styleBindings;if(0!==Wa(l))return s[Go(l)]}(s,o,l);void 0!==D&&Array.isArray(D)&&(D=qo(null,s,o,D[1],l),D=mi(D,o.attrs,l),function pT(s,o,a,l){s[Go(a?o.classBindings:o.styleBindings)]=l}(s,o,l,D))}else p=function CR(s,o,a){let l;const d=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<d;p++)l=mi(l,s[p].hostAttrs,a);return mi(l,o.attrs,a)}(s,o,l)}return void 0!==p&&(l?o.residualClasses=p:o.residualStyles=p),a}(d,p,o,l),function aT(s,o,a,l,d,p){let y=p?o.classBindings:o.styleBindings,E=Go(y),D=Wa(y);s[l]=a;let A,b=!1;if(Array.isArray(a)?(A=a[1],(null===A||ci(a,A)>0)&&(b=!0)):A=a,d)if(0!==D){const L=Go(s[E+1]);s[l+1]=Ds(L,E),0!==L&&(s[L+1]=Sy(s[L+1],l)),s[E+1]=function oT(s,o){return 131071&s|o<<17}(s[E+1],l)}else s[l+1]=Ds(E,0),0!==E&&(s[E+1]=Sy(s[E+1],l)),E=l;else s[l+1]=Ds(D,0),0===E?E=l:s[D+1]=Sy(s[D+1],l),D=l;b&&(s[l+1]=Ty(s[l+1])),Ay(s,A,l,!0),Ay(s,A,l,!1),function hE(s,o,a,l,d){const p=d?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&ci(p,o)>=0&&(a[l+1]=hd(a[l+1]))}(o,A,s,l,p),y=Ds(E,D),p?o.classBindings=y:o.styleBindings=y}(d,p,o,a,y,l)}}(p,s,y,l),o!==_t&&Ar(d,y,o)&&function wE(s,o,a,l,d,p,y,E){if(!(3&o.type))return;const D=s.data,b=D[E+1],A=function IR(s){return 1==(1&s)}(b)?Kf(D,o,a,d,Wa(b),y):void 0;Zf(A)||(Zf(p)||function sT(s){return 2==(2&s)}(b)&&(p=Kf(D,null,a,d,E,y)),function _s(s,o,a,l,d){if(o)d?s.addClass(a,l):s.removeClass(a,l);else{let p=-1===l.indexOf("-")?void 0:ut.DashCase;null==d?s.removeStyle(a,l,p):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),p|=ut.Important),s.setStyle(a,l,d,p))}}(l,y,ga(mr(),a),d,p))}(p,p.data[mr()],d,d[Tt],s,d[y+1]=function yT(s,o){return null==s||""===s||("string"==typeof o?s+=o:"object"==typeof s&&(s=Te(vs(s)))),s}(o,a),l,y)}(s,o,null,!0),Ny}function qo(s,o,a,l,d){let p=null;const y=a.directiveEnd;let E=a.directiveStylingLast;for(-1===E?E=a.directiveStart:E++;E<y&&(p=o[E],l=mi(l,p.hostAttrs,d),p!==s);)E++;return null!==s&&(a.directiveStylingLast=E),l}function mi(s,o,a){const l=a?1:2;let d=-1;if(null!==o)for(let p=0;p<o.length;p++){const y=o[p];"number"==typeof y?d=y:d===l&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Yr(s,y,!!a||o[++p]))}return void 0===s?null:s}function Kf(s,o,a,l,d,p){const y=null===o;let E;for(;d>0;){const D=s[d],b=Array.isArray(D),A=b?D[1]:D,x=null===A;let L=a[d+1];L===_t&&(L=x?Ce:void 0);let z=x?tn(L,l):A===l?L:void 0;if(b&&!Zf(z)&&(z=tn(D,l)),Zf(z)&&(E=z,y))return E;const ae=s[d+1];d=y?Go(ae):Wa(ae)}if(null!==o){let D=p?o.residualClasses:o.residualStyles;null!=D&&(E=tn(D,l))}return E}function Zf(s){return void 0!==s}function Ko(s,o=""){const a=ie(),l=Ot(),d=s+Xt,p=l.firstCreatePass?id(l,d,1,o,null):l.data[d],y=a[d]=function Lo(s,o){return s.createText(o)}(a[Tt],o);Vo(l,a,y,p),Ci(p,!1)}function fd(s){return pd("",s,""),fd}function pd(s,o,a){const l=ie(),d=pc(l,s,o,a);return d!==_t&&Yi(l,mr(),d),pd}function Yf(s,o,a,l,d){const p=ie(),y=gc(p,s,o,a,l,d);return y!==_t&&Yi(p,mr(),y),Yf}const qa=void 0;var DT=["en",[["a","p"],["AM","PM"],qa],[["AM","PM"],qa,qa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],qa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],qa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",qa,"{1} 'at' {0}",qa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function qy(s){const a=Math.floor(Math.abs(s)),l=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let Ka={};function Ky(s){const o=function bT(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=ip(o);if(a)return a;const l=o.split("-")[0];if(a=ip(l),a)return a;if("en"===l)return DT;throw new Z(701,!1)}function kE(s){return Ky(s)[ct.PluralCase]}function ip(s){return s in Ka||(Ka[s]=Zt.ng&&Zt.ng.common&&Zt.ng.common.locales&&Zt.ng.common.locales[s]),Ka[s]}var ct=(()=>((ct=ct||{})[ct.LocaleId=0]="LocaleId",ct[ct.DayPeriodsFormat=1]="DayPeriodsFormat",ct[ct.DayPeriodsStandalone=2]="DayPeriodsStandalone",ct[ct.DaysFormat=3]="DaysFormat",ct[ct.DaysStandalone=4]="DaysStandalone",ct[ct.MonthsFormat=5]="MonthsFormat",ct[ct.MonthsStandalone=6]="MonthsStandalone",ct[ct.Eras=7]="Eras",ct[ct.FirstDayOfWeek=8]="FirstDayOfWeek",ct[ct.WeekendRange=9]="WeekendRange",ct[ct.DateFormat=10]="DateFormat",ct[ct.TimeFormat=11]="TimeFormat",ct[ct.DateTimeFormat=12]="DateTimeFormat",ct[ct.NumberSymbols=13]="NumberSymbols",ct[ct.NumberFormats=14]="NumberFormats",ct[ct.CurrencyCode=15]="CurrencyCode",ct[ct.CurrencySymbol=16]="CurrencySymbol",ct[ct.CurrencyName=17]="CurrencyName",ct[ct.Currencies=18]="Currencies",ct[ct.Directionality=19]="Directionality",ct[ct.PluralCase=20]="PluralCase",ct[ct.ExtraData=21]="ExtraData",ct))();const vc="en-US";let FE=vc;function wd(s,o,a,l,d){if(s=j(s),Array.isArray(s))for(let p=0;p<s.length;p++)wd(s[p],o,a,l,d);else{const p=Ot(),y=ie();let E=qs(s)?s:j(s.provide),D=Sm(s);const b=gn(),A=1048575&b.providerIndexes,x=b.directiveStart,L=b.providerIndexes>>20;if(qs(s)||!s.multi){const z=new Vs(D,d,uc),ae=eI(E,o,d?A:A+L,x);-1===ae?(Ta(Mu(b,y),p,E),XE(p,s,o.length),o.push(E),b.directiveStart++,b.directiveEnd++,d&&(b.providerIndexes+=1048576),a.push(z),y.push(z)):(a[ae]=z,y[ae]=z)}else{const z=eI(E,o,A+L,x),ae=eI(E,o,A,A+L),Le=ae>=0&&a[ae];if(d&&!Le||!d&&!(z>=0&&a[z])){Ta(Mu(b,y),p,E);const We=function nI(s,o,a,l,d){const p=new Vs(s,a,uc);return p.multi=[],p.index=o,p.componentProviders=0,KT(p,d,l&&!a),p}(d?ZT:LR,a.length,d,l,D);!d&&Le&&(a[ae].providerFactory=We),XE(p,s,o.length,0),o.push(E),b.directiveStart++,b.directiveEnd++,d&&(b.providerIndexes+=1048576),a.push(We),y.push(We)}else XE(p,s,z>-1?z:ae,KT(a[d?ae:z],D,!d&&l));!d&&l&&Le&&a[ae].componentProviders++}}}function XE(s,o,a,l){const d=qs(o),p=function gf(s){return!!s.useClass}(o);if(d||p){const D=(p?j(o.useClass):o).prototype.ngOnDestroy;if(D){const b=s.destroyHooks||(s.destroyHooks=[]);if(!d&&o.multi){const A=b.indexOf(a);-1===A?b.push(a,[l,D]):b[A+1].push(l,D)}else b.push(a,D)}}}function KT(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function eI(s,o,a,l){for(let d=a;d<l;d++)if(o[d]===s)return d;return-1}function LR(s,o,a,l){return tI(this.multi,[])}function ZT(s,o,a,l){const d=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,E=Hi(a,a[$e],this.providerFactory.index,l);p=E.slice(0,y),tI(d,p);for(let D=y;D<E.length;D++)p.push(E[D])}else p=[],tI(d,p);return p}function tI(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function d_(s,o=[]){return a=>{a.providersResolver=(l,d)=>function FR(s,o,a){const l=Ot();if(l.firstCreatePass){const d=pr(s);wd(a,l.data,l.blueprint,d,!0),wd(o,l.data,l.blueprint,d,!1)}}(l,d?d(s):s,o)}}class wc{}class rI{}function yp(s,o){return new h_(s,o??null)}class h_ extends wc{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new uy(this);const l=Pn(o);this._bootstrapComponents=ws(l.bootstrap),this._r3Injector=Vm(o,a,[{provide:wc,useValue:this},{provide:nc,useValue:this.componentFactoryResolver}],Te(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class f_ extends rI{constructor(o){super(),this.moduleType=o}create(o){return new h_(this.moduleType,o)}}class p_ extends wc{constructor(o,a,l){super(),this.componentFactoryResolver=new uy(this),this.instance=null;const d=new sw([...o,{provide:wc,useValue:this},{provide:nc,useValue:this.componentFactoryResolver}],a||yf(),l,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Qa(s,o,a=null){return new p_(s,o,a).injector}let iI=(()=>{class s{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const l=Xu(0,a.type),d=l.length>0?Qa([l],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,d)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=Ye({token:s,providedIn:"environment",factory:()=>new s(jt($a))}),s})();function sI(s){s.getStandaloneInjector=o=>o.get(iI).getOrCreateStandaloneInjector(s)}function dI(s){return o=>{setTimeout(s,void 0,o)}}const Xs=class zR extends h.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,l){let d=o,p=a||(()=>null),y=l;if(o&&"object"==typeof o){const D=o;d=D.next?.bind(D),p=D.error?.bind(D),y=D.complete?.bind(D)}this.__isAsync&&(p=dI(p),d&&(d=dI(d)),y&&(y=dI(y)));const E=super.subscribe({next:d,error:p,complete:y});return o instanceof O.w0&&o.add(E),E}};function iS(){return this._results[Symbol.iterator]()}class hI{get changes(){return this._changes||(this._changes=new Xs)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=hI.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=iS)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const l=this;l.dirty=!1;const d=function Fr(s){return s.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function Jg(s,o,a){if(s.length!==o.length)return!1;for(let l=0;l<s.length;l++){let d=s[l],p=o[l];if(a&&(d=a(d),p=a(p)),p!==d)return!1}return!0}(l._results,d,a))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Dp=(()=>{class s{}return s.__NG_ELEMENT_ID__=fI,s})();const GR=Dp,b_=class extends GR{constructor(o,a,l){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(o,a){const l=this._declarationTContainer.tView,d=Df(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null,a||null);d[oo]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[ai];return null!==y&&(d[ai]=y.createEmbeddedView(l)),Hm(l,d,o),new Is(d)}};function fI(){return Cp(gn(),ie())}function Cp(s,o){return 4&s.type?new b_(o,s,Ks(s,o)):null}let ln=(()=>{class s{}return s.__NG_ELEMENT_ID__=sS,s})();function sS(){return gI(gn(),ie())}const bp=ln,Tp=class extends bp{constructor(o,a,l){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=l}get element(){return Ks(this._hostTNode,this._hostLView)}get injector(){return new vo(this._hostTNode,this._hostLView)}get parentInjector(){const o=fn(this._hostTNode,this._hostLView);if(Ia(o)){const a=Ca(o,this._hostLView),l=Da(o);return new vo(a[$e].data[l+8],a)}return new vo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=pI(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-Gn}createEmbeddedView(o,a,l){let d,p;"number"==typeof l?d=l:null!=l&&(d=l.index,p=l.injector);const y=o.createEmbeddedView(a||{},p);return this.insert(y,d),y}createComponent(o,a,l,d,p){const y=o&&!function Ou(s){return"function"==typeof s}(o);let E;if(y)E=a;else{const x=a||{};E=x.index,l=x.injector,d=x.projectableNodes,p=x.environmentInjector||x.ngModuleRef}const D=y?o:new ad(rt(o)),b=l||this.parentInjector;if(!p&&null==D.ngModule){const L=(y?b:this.parentInjector).get($a,null);L&&(p=L)}const A=D.create(b,d,void 0,p);return this.insert(A.hostView,E),A}insert(o,a){const l=o._lView,d=l[$e];if(function vh(s){return ui(s[dn])}(l)){const A=this.indexOf(o);if(-1!==A)this.detach(A);else{const x=l[dn],L=new Tp(x,x[or],x[dn]);L.detach(L.indexOf(o))}}const p=this._adjustIndex(a),y=this._lContainer;!function f(s,o,a,l){const d=Gn+l,p=a.length;l>0&&(a[d-1][zt]=o),l<p-Gn?(o[zt]=a[d],wl(a,Gn+l,o)):(a.push(o),o[zt]=null),o[dn]=a;const y=o[oo];null!==y&&a!==y&&function m(s,o){const a=s[os];o[zn]!==o[dn][dn][zn]&&(s[mu]=!0),null===a?s[os]=[o]:a.push(o)}(y,o);const E=o[ai];null!==E&&E.insertView(s),o[bt]|=64}(d,l,y,p);const E=ys(p,y),D=l[Tt],b=fi(D,y[uo]);return null!==b&&function am(s,o,a,l,d,p){l[kn]=d,l[or]=o,Bl(s,l,a,1,d,p)}(d,y[or],D,l,b,E),o.attachToViewContainerRef(),wl(T_(y),p,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=pI(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),l=T(this._lContainer,a);l&&(El(T_(this._lContainer),a),M(l[$e],l))}detach(o){const a=this._adjustIndex(o,-1),l=T(this._lContainer,a);return l&&null!=El(T_(this._lContainer),a)?new Is(l):null}_adjustIndex(o,a=0){return o??this.length+a}};function pI(s){return s[co]}function T_(s){return s[co]||(s[co]=[])}function gI(s,o){let a;const l=o[s.index];if(ui(l))a=l;else{let d;if(8&s.type)d=An(l);else{const p=o[Tt];d=p.createComment("");const y=Wn(s,o);wt(p,fi(p,y),d,function Vl(s,o){return s.nextSibling(o)}(p,y),!1)}o[s.index]=a=Vw(l,o,d,s),sd(o,a)}return new Tp(a,s,o)}class Sp{constructor(o){this.queryList=o,this.matches=null}clone(){return new Sp(this.queryList)}setDirty(){this.queryList.setDirty()}}class S_{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const l=null!==o.contentQueries?o.contentQueries[0]:a.length,d=[];for(let p=0;p<l;p++){const y=a.getByIndex(p);d.push(this.queries[y.indexInDeclarationView].clone())}return new S_(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==Cd(o,a).matches&&this.queries[a].setDirty()}}class mI{constructor(o,a,l=null){this.predicate=o,this.flags=a,this.read=l}}class A_{constructor(o=[]){this.queries=o}elementStart(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let l=0;l<this.length;l++){const d=null!==a?a.length:0,p=this.getByIndex(l).embeddedTView(o,d);p&&(p.indexInDeclarationView=l,null!==a?a.push(p):a=[p])}return null!==a?new A_(a):null}template(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class M_{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new M_(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=o.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const p=l[d];this.matchTNodeWithReadOption(o,a,vr(a,p)),this.matchTNodeWithReadOption(o,a,_o(a,o,p,!1,!1))}else l===Dp?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,_o(a,o,l,!1,!1))}matchTNodeWithReadOption(o,a,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===rc||d===ln||d===Dp&&4&a.type)this.addMatch(a.index,-2);else{const p=_o(a,o,d,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,l)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function vr(s,o){const a=s.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===o)return a[l+1];return null}function x_(s,o,a,l){return-1===a?function Ap(s,o){return 11&s.type?Ks(s,o):4&s.type?Cp(s,o):null}(o,s):-2===a?function R_(s,o,a){return a===rc?Ks(o,s):a===Dp?Cp(o,s):a===ln?gI(o,s):void 0}(s,o,l):Hi(s,s[$e],a,o)}function Dd(s,o,a,l){const d=o[ai].queries[l];if(null===d.matches){const p=s.data,y=a.matches,E=[];for(let D=0;D<y.length;D+=2){const b=y[D];E.push(b<0?null:x_(o,p[b],y[D+1],a.metadata.read))}d.matches=E}return d.matches}function Cc(s,o,a,l){const d=s.queries.getByIndex(a),p=d.matches;if(null!==p){const y=Dd(s,o,d,a);for(let E=0;E<p.length;E+=2){const D=p[E];if(D>0)l.push(y[E/2]);else{const b=p[E+1],A=o[-D];for(let x=Gn;x<A.length;x++){const L=A[x];L[oo]===L[dn]&&Cc(L[$e],L,b,l)}if(null!==A[os]){const x=A[os];for(let L=0;L<x.length;L++){const z=x[L];Cc(z[$e],z,b,l)}}}}}return l}function Mp(s){const o=ie(),a=Ot(),l=il();Mh(l+1);const d=Cd(a,l);if(s.dirty&&function vu(s){return 4==(4&s[bt])}(o)===(2==(2&d.metadata.flags))){if(null===d.matches)s.reset([]);else{const p=d.crossesNgTemplate?Cc(a,o,l,[]):Dd(a,o,d,l);s.reset(p,Yl),s.notifyOnChanges()}return!0}return!1}function yI(s,o,a){const l=Ot();l.firstCreatePass&&(bc(l,new mI(s,o,a),-1),2==(2&o)&&(l.staticViewQueries=!0)),vI(l,ie(),o)}function _I(s,o,a,l){const d=Ot();if(d.firstCreatePass){const p=gn();bc(d,new mI(o,a,l),p.index),function wI(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(d,s),2==(2&a)&&(d.staticContentQueries=!0)}vI(d,ie(),a)}function N_(){return function oS(s,o){return s[ai].queries[o].queryList}(ie(),il())}function vI(s,o,a){const l=new hI(4==(4&a));Wm(s,o,l,l.destroy),null===o[ai]&&(o[ai]=new S_),o[ai].queries.push(new Sp(l))}function bc(s,o,a){null===s.queries&&(s.queries=new A_),s.queries.track(new M_(o,a))}function Cd(s,o){return s.queries.getByIndex(o)}function bd(s){return!!Pn(s)}function Lp(...s){}const FI=new Ut("Application Initializer");let Ad=(()=>{class s{constructor(a){this.appInits=a,this.resolve=Lp,this.reject=Lp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const p=this.appInits[d]();if(eE(p))a.push(p);else if($f(p)){const y=new Promise((E,D)=>{p.subscribe({complete:E,error:D})});a.push(y)}}Promise.all(a).then(()=>{l()}).catch(d=>{this.reject(d)}),0===a.length&&l(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(jt(FI,8))},s.\u0275prov=Ye({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Vp=new Ut("AppId",{providedIn:"root",factory:function Md(){return`${xd()}${xd()}${xd()}`}});function xd(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ES=new Ut("Platform Initializer"),IS=new Ut("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let DS=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=Ye({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const G_=new Ut("LocaleId",{providedIn:"root",factory:()=>jn(G_,nt.Optional|nt.SkipSelf)||function KR(){return typeof $localize<"u"&&$localize.locale||vc}()}),CS=new Ut("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class ZR{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let YR=(()=>{class s{compileModuleSync(a){return new f_(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),p=ws(Pn(a).declarations).reduce((y,E)=>{const D=rt(E);return D&&y.push(new ad(D)),y},[]);return new ZR(l,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=Ye({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const SS=(()=>Promise.resolve(0))();function K_(s){typeof Zone>"u"?SS.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class ki{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Xs(!1),this.onMicrotaskEmpty=new Xs(!1),this.onStable=new Xs(!1),this.onError=new Xs(!1),typeof Zone>"u")throw new Z(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&a,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function AS(){let s=Zt.requestAnimationFrame,o=Zt.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function e1(s){const o=()=>{!function XR(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Zt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,UI(s),s.isCheckStableRunning=!0,VI(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),UI(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,d,p,y,E)=>{try{return MS(s),a.invokeTask(d,p,y,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),xS(s)}},onInvoke:(a,l,d,p,y,E,D)=>{try{return MS(s),a.invoke(d,p,y,E,D)}finally{s.shouldCoalesceRunChangeDetection&&o(),xS(s)}},onHasTask:(a,l,d,p)=>{a.hasTask(d,p),l===d&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,UI(s),VI(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,l,d,p)=>(a.handleError(d,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ki.isInAngularZone())throw new Z(909,!1)}static assertNotInAngularZone(){if(ki.isInAngularZone())throw new Z(909,!1)}run(o,a,l){return this._inner.run(o,a,l)}runTask(o,a,l,d){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+d,o,JR,Lp,Lp);try{return p.runTask(y,a,l)}finally{p.cancelTask(y)}}runGuarded(o,a,l){return this._inner.runGuarded(o,a,l)}runOutsideAngular(o){return this._outer.run(o)}}const JR={};function VI(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function UI(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function MS(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function xS(s){s._nesting--,VI(s)}class t1{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Xs,this.onMicrotaskEmpty=new Xs,this.onStable=new Xs,this.onError=new Xs}run(o,a,l){return o.apply(a,l)}runGuarded(o,a,l){return o.apply(a,l)}runOutsideAngular(o){return o()}runTask(o,a,l,d){return o.apply(a,l)}}const RS=new Ut(""),NS=new Ut("");let BI,n1=(()=>{class s{constructor(a,l,d){this._ngZone=a,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,BI||(function PS(s){BI=s}(d),d.addToWindow(l)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ki.assertNotInAngularZone(),K_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())K_(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,d){let p=-1;l&&l>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:d})}whenStable(a,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,l,d){return[]}}return s.\u0275fac=function(a){return new(a||s)(jt(ki),jt(OS),jt(NS))},s.\u0275prov=Ye({token:s,factory:s.\u0275fac}),s})(),OS=(()=>{class s{constructor(){this._applications=new Map}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return BI?.findTestabilityInTree(this,a,l)??null}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=Ye({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Yo=!1;let nu=null;const kS=new Ut("AllowMultipleToken"),$I=new Ut("PlatformDestroyListeners"),FS=new Ut("appBootstrapListener");class s1{constructor(o,a){this.name=o,this.token=a}}function VS(s,o,a=[]){const l=`Platform: ${o}`,d=new Ut(l);return(p=[])=>{let y=jI();if(!y||y.injector.get(kS,!1)){const E=[...a,...p,{provide:d,useValue:!0}];s?s(E):function o1(s){if(nu&&!nu.get(kS,!1))throw new Z(400,!1);nu=s;const o=s.get(BS);(function LS(s){const o=s.get(ES,null);o&&o.forEach(a=>a())})(s)}(function US(s=[],o){return sc.create({name:o,providers:[{provide:$o,useValue:"platform"},{provide:$I,useValue:new Set([()=>nu=null])},...s]})}(E,l))}return function u1(s){const o=jI();if(!o)throw new Z(401,!1);return o}()}}function jI(){return nu?.get(BS)??null}let BS=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const d=function jS(s,o){let a;return a="noop"===s?new t1:("zone.js"===s?void 0:s)||new ki(o),a}(l?.ngZone,function $S(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(l)),p=[{provide:ki,useValue:d}];return d.run(()=>{const y=sc.create({providers:p,parent:this.injector,name:a.moduleType.name}),E=a.create(y),D=E.injector.get(Ql,null);if(!D)throw new Z(402,!1);return d.runOutsideAngular(()=>{const b=d.onError.subscribe({next:A=>{D.handleError(A)}});E.onDestroy(()=>{Y_(this._modules,E),b.unsubscribe()})}),function HS(s,o,a){try{const l=a();return eE(l)?l.catch(d=>{throw o.runOutsideAngular(()=>s.handleError(d)),d}):l}catch(l){throw o.runOutsideAngular(()=>s.handleError(l)),l}}(D,d,()=>{const b=E.injector.get(Ad);return b.runInitializers(),b.donePromise.then(()=>(function Qy(s){re(s,"Expected localeId to be defined"),"string"==typeof s&&(FE=s.toLowerCase().replace(/_/g,"-"))}(E.injector.get(G_,vc)||vc),this._moduleDoBootstrap(E),E))})})}bootstrapModule(a,l=[]){const d=zS({},l);return function r1(s,o,a){const l=new f_(a);return Promise.resolve(l)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,d))}_moduleDoBootstrap(a){const l=a.injector.get(Z_);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new Z(-403,!1);a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Z(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const a=this._injector.get($I,null);a&&(a.forEach(l=>l()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(jt(sc))},s.\u0275prov=Ye({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function zS(s,o){return Array.isArray(o)?o.reduce(zS,s):{...s,...o}}let Z_=(()=>{class s{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(a,l,d){this._zone=a,this._injector=l,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new X.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),y=new X.y(E=>{let D;this._zone.runOutsideAngular(()=>{D=this._zone.onStable.subscribe(()=>{ki.assertNotInAngularZone(),K_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const b=this._zone.onUnstable.subscribe(()=>{ki.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{D.unsubscribe(),b.unsubscribe()}});this.isStable=(0,ce.T)(p,y.pipe((0,fe.B)()))}bootstrap(a,l){const d=a instanceof aw;if(!this._injector.get(Ad).done){!d&&sr(a);throw new Z(405,Yo)}let y;y=d?a:this._injector.get(nc).resolveComponentFactory(a),this.componentTypes.push(y.componentType);const E=function i1(s){return s.isBoundToModule}(y)?void 0:this._injector.get(wc),b=y.create(sc.NULL,[],l||y.selector,E),A=b.location.nativeElement,x=b.injector.get(RS,null);return x?.registerApplication(A),b.onDestroy(()=>{this.detachView(b.hostView),Y_(this.components,b),x?.unregisterApplication(A)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new Z(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;Y_(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const l=this._injector.get(FS,[]);l.push(...this._bootstrapListeners),l.forEach(d=>d(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Y_(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new Z(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(a){return new(a||s)(jt(ki),jt($a),jt(Ql))},s.\u0275prov=Ye({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Y_(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}function l1(){return!1}let d1=(()=>{class s{}return s.__NG_ELEMENT_ID__=h1,s})();function h1(s){return function f1(s,o,a){if(la(s)&&!a){const l=ar(s.index,o);return new Is(l,l)}return 47&s.type?new Is(o[zn],o):null}(gn(),ie(),16==(16&s))}class nv{constructor(){}supports(o){return dc(o)}create(o){return new HI(o)}}const rv=(s,o)=>o;class HI{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||rv}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,l=this._removalsHead,d=0,p=null;for(;a||l;){const y=!l||a&&a.currentIndex<Nd(l,d,p)?a:l,E=Nd(y,d,p),D=y.currentIndex;if(y===l)d--,l=l._nextRemoved;else if(a=a._next,null==y.previousIndex)d++;else{p||(p=[]);const b=E-d,A=D-d;if(b!=A){for(let L=0;L<b;L++){const z=L<p.length?p[L]:p[L]=0,ae=z+L;A<=ae&&ae<b&&(p[L]=z+1)}p[y.previousIndex]=A-b}}E!==D&&o(y,E,D)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!dc(o))throw new Z(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,p,y,a=this._itHead,l=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)p=o[E],y=this._trackByFn(E,p),null!==a&&Object.is(a.trackById,y)?(l&&(a=this._verifyReinsertion(a,p,y,E)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,y,E),l=!0),a=a._next}else d=0,function my(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[Symbol.iterator]();let l;for(;!(l=a.next()).done;)o(l.value)}}(o,E=>{y=this._trackByFn(d,E),null!==a&&Object.is(a.trackById,y)?(l&&(a=this._verifyReinsertion(a,E,y,d)),Object.is(a.item,E)||this._addIdentityChange(a,E)):(a=this._mismatch(a,E,y,d),l=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,l,d){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,p,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,p,d)):o=this._addAfter(new Mr(a,l),p,d),o}_verifyReinsertion(o,a,l,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==p?o=this._reinsertAfter(p,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,p=o._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(o,a,l),this._addToMoves(o,l),o}_moveAfter(o,a,l){return this._unlink(o),this._insertAfter(o,a,l),this._addToMoves(o,l),o}_addAfter(o,a,l){return this._insertAfter(o,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,l){const d=null===a?this._itHead:a._next;return o._next=d,o._prev=a,null===d?this._itTail=o:d._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new xc),this._linkedRecords.put(o),o.currentIndex=l,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,l=o._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new xc),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class Mr{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ZS{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,o))return l;return null}remove(o){const a=o._prevDup,l=o._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class xc{constructor(){this.map=new Map}put(o){const a=o.trackById;let l=this.map.get(a);l||(l=new ZS,this.map.set(a,l)),l.add(o)}get(o,a){const d=this.map.get(o);return d?d.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Nd(s,o,a){const l=s.previousIndex;if(null===l)return l;let d=0;return a&&l<a.length&&(d=a[l]),l+o+d}class es{constructor(){}supports(o){return o instanceof Map||cd(o)}create(){return new iv}}class iv{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||cd(o)))throw new Z(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(l,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(d,l);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const l=o._prev;return a._next=o,a._prev=l,o._prev=a,l&&(l._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,a);const p=d._prev,y=d._next;return p&&(p._next=y),y&&(y._prev=p),d._next=null,d._prev=null,d}const l=new YS(o);return this._records.set(o,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(l=>a(o[l],l))}}class YS{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function zI(){return new Qo([new nv])}let Qo=(()=>{class s{constructor(a){this.factories=a}static create(a,l){if(null!=l){const d=l.factories.slice();a=a.concat(d)}return new s(a)}static extend(a){return{provide:s,useFactory:l=>s.create(a,l||zI()),deps:[[s,new vt,new Hs]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(null!=l)return l;throw new Z(901,!1)}}return s.\u0275prov=Ye({token:s,providedIn:"root",factory:zI}),s})();function Up(){return new Bp([new es])}let Bp=(()=>{class s{constructor(a){this.factories=a}static create(a,l){if(l){const d=l.factories.slice();a=a.concat(d)}return new s(a)}static extend(a){return{provide:s,useFactory:l=>s.create(a,l||Up()),deps:[[s,new vt,new Hs]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(l)return l;throw new Z(901,!1)}}return s.\u0275prov=Ye({token:s,providedIn:"root",factory:Up}),s})();const sv=VS(null,"core",[]);let ov=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(jt(Z_))},s.\u0275mod=W({type:s}),s.\u0275inj=dt({}),s})();function av(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(ht,be,N)=>{N.d(be,{Z:()=>He});var h=N(2090),O=N(4859),X=N(6881),ce=N(1877);class fe{constructor(Z,Ae){this._delegate=Z,this.firebase=Ae,(0,X._addComponent)(Z,new O.wA("app-compat",()=>this,"PUBLIC")),this.container=Z.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Z){this._delegate.automaticDataCollectionEnabled=Z}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Z=>{this._delegate.checkDestroyed(),Z()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,X.deleteApp)(this._delegate)))}_getService(Z,Ae=X._DEFAULT_ENTRY_NAME){var _e;this._delegate.checkDestroyed();const Pe=this._delegate.container.getProvider(Z);return!Pe.isInitialized()&&"EXPLICIT"===(null===(_e=Pe.getComponent())||void 0===_e?void 0:_e.instantiationMode)&&Pe.initialize(),Pe.getImmediate({identifier:Ae})}_removeServiceInstance(Z,Ae=X._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Z).clearInstance(Ae)}_addComponent(Z){(0,X._addComponent)(this._delegate,Z)}_addOrOverwriteComponent(Z){(0,X._addOrOverwriteComponent)(this._delegate,Z)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const xe=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),V=function Re(){const Ze=function Te(Ze){const Z={},Ae={__esModule:!0,initializeApp:function pe(Ne,K={}){const ze=X.initializeApp(Ne,K);if((0,h.r3)(Z,ze.name))return Z[ze.name];const pt=new Ze(ze,Ae);return Z[ze.name]=pt,pt},app:Pe,registerVersion:X.registerVersion,setLogLevel:X.setLogLevel,onLog:X.onLog,apps:null,SDK_VERSION:X.SDK_VERSION,INTERNAL:{registerComponent:function ye(Ne){const K=Ne.name,ze=K.replace("-compat","");if(X._registerComponent(Ne)&&"PUBLIC"===Ne.type){const pt=(Ge=Pe())=>{if("function"!=typeof Ge[ze])throw xe.create("invalid-app-argument",{appName:K});return Ge[ze]()};void 0!==Ne.serviceProps&&(0,h.ZB)(pt,Ne.serviceProps),Ae[ze]=pt,Ze.prototype[ze]=function(...Ge){return this._getService.bind(this,K).apply(this,Ne.multipleInstances?Ge:[])}}return"PUBLIC"===Ne.type?Ae[ze]:null},removeApp:function _e(Ne){delete Z[Ne]},useAsService:function Oe(Ne,K){return"serverAuth"===K?null:K},modularAPIs:X}};function Pe(Ne){if(!(0,h.r3)(Z,Ne=Ne||X._DEFAULT_ENTRY_NAME))throw xe.create("no-app",{appName:Ne});return Z[Ne]}return Ae.default=Ae,Object.defineProperty(Ae,"apps",{get:function de(){return Object.keys(Z).map(Ne=>Z[Ne])}}),Pe.App=Ze,Ae}(fe);return Ze.INTERNAL=Object.assign(Object.assign({},Ze.INTERNAL),{createFirebaseNamespace:Re,extendNamespace:function Z(Ae){(0,h.ZB)(Ze,Ae)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),Ze}(),F=new ce.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){F.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ze=self.firebase.SDK_VERSION;Ze&&Ze.indexOf("LITE")>=0&&F.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const He=V;!function Se(Ze){(0,X.registerVersion)("@firebase/app-compat","0.2.13",Ze)}()},6881:(ht,be,N)=>{N.r(be),N.d(be,{FirebaseError:()=>ce.ZR,SDK_VERSION:()=>is,_DEFAULT_ENTRY_NAME:()=>Hr,_addComponent:()=>st,_addOrOverwriteComponent:()=>It,_apps:()=>Zt,_clearComponents:()=>Gr,_components:()=>Lt,_getProvider:()=>Dr,_registerComponent:()=>zr,_removeServiceInstance:()=>Tn,deleteApp:()=>Or,getApp:()=>so,getApps:()=>jt,initializeApp:()=>kt,onLog:()=>Hn,registerVersion:()=>Wr,setLogLevel:()=>Ui});var h=N(5861),O=N(4859),X=N(1877),ce=N(2090);const fe=(ee,W)=>W.some(we=>ee instanceof we);let ue,xe;const V=new WeakMap,F=new WeakMap,j=new WeakMap,ke=new WeakMap,Se=new WeakMap;let Z={get(ee,W,we){if(ee instanceof IDBTransaction){if("done"===W)return F.get(ee);if("objectStoreNames"===W)return ee.objectStoreNames||j.get(ee);if("store"===W)return we.objectStoreNames[1]?void 0:we.objectStore(we.objectStoreNames[0])}return pe(ee[W])},set:(ee,W,we)=>(ee[W]=we,!0),has:(ee,W)=>ee instanceof IDBTransaction&&("done"===W||"store"===W)||W in ee};function Pe(ee){return"function"==typeof ee?function _e(ee){return ee!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Re(){return xe||(xe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ee)?function(...W){return ee.apply(de(this),W),pe(V.get(this))}:function(...W){return pe(ee.apply(de(this),W))}:function(W,...we){const Qe=ee.call(de(this),W,...we);return j.set(Qe,W.sort?W.sort():[W]),pe(Qe)}}(ee):(ee instanceof IDBTransaction&&function Ze(ee){if(F.has(ee))return;const W=new Promise((we,Qe)=>{const gt=()=>{ee.removeEventListener("complete",St),ee.removeEventListener("error",rt),ee.removeEventListener("abort",rt)},St=()=>{we(),gt()},rt=()=>{Qe(ee.error||new DOMException("AbortError","AbortError")),gt()};ee.addEventListener("complete",St),ee.addEventListener("error",rt),ee.addEventListener("abort",rt)});F.set(ee,W)}(ee),fe(ee,function Te(){return ue||(ue=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ee,Z):ee)}function pe(ee){if(ee instanceof IDBRequest)return function He(ee){const W=new Promise((we,Qe)=>{const gt=()=>{ee.removeEventListener("success",St),ee.removeEventListener("error",rt)},St=()=>{we(pe(ee.result)),gt()},rt=()=>{Qe(ee.error),gt()};ee.addEventListener("success",St),ee.addEventListener("error",rt)});return W.then(we=>{we instanceof IDBCursor&&V.set(we,ee)}).catch(()=>{}),Se.set(W,ee),W}(ee);if(ke.has(ee))return ke.get(ee);const W=Pe(ee);return W!==ee&&(ke.set(ee,W),Se.set(W,ee)),W}const de=ee=>Se.get(ee),Ne=["get","getKey","getAll","getAllKeys","count"],K=["put","add","delete","clear"],ze=new Map;function pt(ee,W){if(!(ee instanceof IDBDatabase)||W in ee||"string"!=typeof W)return;if(ze.get(W))return ze.get(W);const we=W.replace(/FromIndex$/,""),Qe=W!==we,gt=K.includes(we);if(!(we in(Qe?IDBIndex:IDBObjectStore).prototype)||!gt&&!Ne.includes(we))return;const St=function(){var rt=(0,h.Z)(function*(Ht,...Pt){const sr=this.transaction(Ht,gt?"readwrite":"readonly");let Pn=sr.store;return Qe&&(Pn=Pn.index(Pt.shift())),(yield Promise.all([Pn[we](...Pt),gt&&sr.done]))[0]});return function(Pt){return rt.apply(this,arguments)}}();return ze.set(W,St),St}!function Ae(ee){Z=ee(Z)}(ee=>({...ee,get:(W,we,Qe)=>pt(W,we)||ee.get(W,we,Qe),has:(W,we)=>!!pt(W,we)||ee.has(W,we)}));class Ge{constructor(W){this.container=W}getPlatformInfoString(){return this.container.getProviders().map(we=>{if(function Ft(ee){return"VERSION"===ee.getComponent()?.type}(we)){const Qe=we.getImmediate();return`${Qe.library}/${Qe.version}`}return null}).filter(we=>we).join(" ")}}const tt="@firebase/app",ri=new X.Yd("@firebase/app"),Hr="[DEFAULT]",si={[tt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Zt=new Map,Lt=new Map;function st(ee,W){try{ee.container.addComponent(W)}catch(we){ri.debug(`Component ${W.name} failed to register with FirebaseApp ${ee.name}`,we)}}function It(ee,W){ee.container.addOrOverwriteComponent(W)}function zr(ee){const W=ee.name;if(Lt.has(W))return ri.debug(`There were multiple attempts to register component ${W}.`),!1;Lt.set(W,ee);for(const we of Zt.values())st(we,ee);return!0}function Dr(ee,W){const we=ee.container.getProvider("heartbeat").getImmediate({optional:!0});return we&&we.triggerHeartbeat(),ee.container.getProvider(W)}function Tn(ee,W,we=Hr){Dr(ee,W).clearInstance(we)}function Gr(){Lt.clear()}const br=new ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class sn{constructor(W,we,Qe){this._isDeleted=!1,this._options=Object.assign({},W),this._config=Object.assign({},we),this._name=we.name,this._automaticDataCollectionEnabled=we.automaticDataCollectionEnabled,this._container=Qe,this.container.addComponent(new O.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(W){this.checkDestroyed(),this._automaticDataCollectionEnabled=W}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(W){this._isDeleted=W}checkDestroyed(){if(this.isDeleted)throw br.create("app-deleted",{appName:this._name})}}const is="9.23.0";function kt(ee,W={}){let we=ee;"object"!=typeof W&&(W={name:W});const Qe=Object.assign({name:Hr,automaticDataCollectionEnabled:!1},W),gt=Qe.name;if("string"!=typeof gt||!gt)throw br.create("bad-app-name",{appName:String(gt)});if(we||(we=(0,ce.aH)()),!we)throw br.create("no-options");const St=Zt.get(gt);if(St){if((0,ce.vZ)(we,St.options)&&(0,ce.vZ)(Qe,St.config))return St;throw br.create("duplicate-app",{appName:gt})}const rt=new O.H0(gt);for(const Pt of Lt.values())rt.addComponent(Pt);const Ht=new sn(we,Qe,rt);return Zt.set(gt,Ht),Ht}function so(ee=Hr){const W=Zt.get(ee);if(!W&&ee===Hr&&(0,ce.aH)())return kt();if(!W)throw br.create("no-app",{appName:ee});return W}function jt(){return Array.from(Zt.values())}function Or(ee){return jn.apply(this,arguments)}function jn(){return(jn=(0,h.Z)(function*(ee){const W=ee.name;Zt.has(W)&&(Zt.delete(W),yield Promise.all(ee.container.getProviders().map(we=>we.delete())),ee.isDeleted=!0)})).apply(this,arguments)}function Wr(ee,W,we){var Qe;let gt=null!==(Qe=si[ee])&&void 0!==Qe?Qe:ee;we&&(gt+=`-${we}`);const St=gt.match(/\s|\//),rt=W.match(/\s|\//);if(St||rt){const Ht=[`Unable to register library "${gt}" with version "${W}":`];return St&&Ht.push(`library name "${gt}" contains illegal characters (whitespace or "/")`),St&&rt&&Ht.push("and"),rt&&Ht.push(`version name "${W}" contains illegal characters (whitespace or "/")`),void ri.warn(Ht.join(" "))}zr(new O.wA(`${gt}-version`,()=>({library:gt,version:W}),"VERSION"))}function Hn(ee,W){if(null!==ee&&"function"!=typeof ee)throw br.create("invalid-log-argument");(0,X.Am)(ee,W)}function Ui(ee){(0,X.Ub)(ee)}const Ei="firebase-heartbeat-database",oi=1,P="firebase-heartbeat-store";let R=null;function U(){return R||(R=function ye(ee,W,{blocked:we,upgrade:Qe,blocking:gt,terminated:St}={}){const rt=indexedDB.open(ee,W),Ht=pe(rt);return Qe&&rt.addEventListener("upgradeneeded",Pt=>{Qe(pe(rt.result),Pt.oldVersion,Pt.newVersion,pe(rt.transaction),Pt)}),we&&rt.addEventListener("blocked",Pt=>we(Pt.oldVersion,Pt.newVersion,Pt)),Ht.then(Pt=>{St&&Pt.addEventListener("close",()=>St()),gt&&Pt.addEventListener("versionchange",sr=>gt(sr.oldVersion,sr.newVersion,sr))}).catch(()=>{}),Ht}(Ei,oi,{upgrade:(ee,W)=>{0===W&&ee.createObjectStore(P)}}).catch(ee=>{throw br.create("idb-open",{originalErrorMessage:ee.message})})),R}function G(){return(G=(0,h.Z)(function*(ee){try{return yield(yield U()).transaction(P).objectStore(P).get(Yt(ee))}catch(W){if(W instanceof ce.ZR)ri.warn(W.message);else{const we=br.create("idb-get",{originalErrorMessage:W?.message});ri.warn(we.message)}}})).apply(this,arguments)}function Ce(ee,W){return ft.apply(this,arguments)}function ft(){return(ft=(0,h.Z)(function*(ee,W){try{const Qe=(yield U()).transaction(P,"readwrite");yield Qe.objectStore(P).put(W,Yt(ee)),yield Qe.done}catch(we){if(we instanceof ce.ZR)ri.warn(we.message);else{const Qe=br.create("idb-set",{originalErrorMessage:we?.message});ri.warn(Qe.message)}}})).apply(this,arguments)}function Yt(ee){return`${ee.name}!${ee.options.appId}`}class on{constructor(W){this.container=W,this._heartbeatsCache=null;const we=this.container.getProvider("app").getImmediate();this._storage=new qr(we),this._heartbeatsCachePromise=this._storage.read().then(Qe=>(this._heartbeatsCache=Qe,Qe))}triggerHeartbeat(){var W=this;return(0,h.Z)(function*(){const Qe=W.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),gt=Nt();if(null===W._heartbeatsCache&&(W._heartbeatsCache=yield W._heartbeatsCachePromise),W._heartbeatsCache.lastSentHeartbeatDate!==gt&&!W._heartbeatsCache.heartbeats.some(St=>St.date===gt))return W._heartbeatsCache.heartbeats.push({date:gt,agent:Qe}),W._heartbeatsCache.heartbeats=W._heartbeatsCache.heartbeats.filter(St=>{const rt=new Date(St.date).valueOf();return Date.now()-rt<=2592e6}),W._storage.overwrite(W._heartbeatsCache)})()}getHeartbeatsHeader(){var W=this;return(0,h.Z)(function*(){if(null===W._heartbeatsCache&&(yield W._heartbeatsCachePromise),null===W._heartbeatsCache||0===W._heartbeatsCache.heartbeats.length)return"";const we=Nt(),{heartbeatsToSend:Qe,unsentEntries:gt}=function Pr(ee,W=1024){const we=[];let Qe=ee.slice();for(const gt of ee){const St=we.find(rt=>rt.agent===gt.agent);if(St){if(St.dates.push(gt.date),xs(we)>W){St.dates.pop();break}}else if(we.push({agent:gt.agent,dates:[gt.date]}),xs(we)>W){we.pop();break}Qe=Qe.slice(1)}return{heartbeatsToSend:we,unsentEntries:Qe}}(W._heartbeatsCache.heartbeats),St=(0,ce.L)(JSON.stringify({version:2,heartbeats:Qe}));return W._heartbeatsCache.lastSentHeartbeatDate=we,gt.length>0?(W._heartbeatsCache.heartbeats=gt,yield W._storage.overwrite(W._heartbeatsCache)):(W._heartbeatsCache.heartbeats=[],W._storage.overwrite(W._heartbeatsCache)),St})()}}function Nt(){return(new Date).toISOString().substring(0,10)}class qr{constructor(W){this.app=W,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,ce.hl)()&&(0,ce.eu)().then(()=>!0).catch(()=>!1)})()}read(){var W=this;return(0,h.Z)(function*(){return(yield W._canUseIndexedDBPromise)&&(yield function oe(ee){return G.apply(this,arguments)}(W.app))||{heartbeats:[]}})()}overwrite(W){var we=this;return(0,h.Z)(function*(){var Qe;if(yield we._canUseIndexedDBPromise){const St=yield we.read();return Ce(we.app,{lastSentHeartbeatDate:null!==(Qe=W.lastSentHeartbeatDate)&&void 0!==Qe?Qe:St.lastSentHeartbeatDate,heartbeats:W.heartbeats})}})()}add(W){var we=this;return(0,h.Z)(function*(){var Qe;if(yield we._canUseIndexedDBPromise){const St=yield we.read();return Ce(we.app,{lastSentHeartbeatDate:null!==(Qe=W.lastSentHeartbeatDate)&&void 0!==Qe?Qe:St.lastSentHeartbeatDate,heartbeats:[...St.heartbeats,...W.heartbeats]})}})()}}function xs(ee){return(0,ce.L)(JSON.stringify({version:2,heartbeats:ee})).length}!function fu(ee){zr(new O.wA("platform-logger",W=>new Ge(W),"PRIVATE")),zr(new O.wA("heartbeat",W=>new on(W),"PRIVATE")),Wr(tt,"0.9.13",ee),Wr(tt,"0.9.13","esm2017"),Wr("fire-js","")}("")},4859:(ht,be,N)=>{N.d(be,{H0:()=>Te,wA:()=>X});var h=N(5861),O=N(2090);class X{constructor(V,F,j){this.name=V,this.instanceFactory=F,this.type=j,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(V){return this.instantiationMode=V,this}setMultipleInstances(V){return this.multipleInstances=V,this}setServiceProps(V){return this.serviceProps=V,this}setInstanceCreatedCallback(V){return this.onInstanceCreated=V,this}}const ce="[DEFAULT]";class fe{constructor(V,F){this.name=V,this.container=F,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(V){const F=this.normalizeInstanceIdentifier(V);if(!this.instancesDeferred.has(F)){const j=new O.BH;if(this.instancesDeferred.set(F,j),this.isInitialized(F)||this.shouldAutoInitialize())try{const ke=this.getOrInitializeService({instanceIdentifier:F});ke&&j.resolve(ke)}catch{}}return this.instancesDeferred.get(F).promise}getImmediate(V){var F;const j=this.normalizeInstanceIdentifier(V?.identifier),ke=null!==(F=V?.optional)&&void 0!==F&&F;if(!this.isInitialized(j)&&!this.shouldAutoInitialize()){if(ke)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:j})}catch(Se){if(ke)return null;throw Se}}getComponent(){return this.component}setComponent(V){if(V.name!==this.name)throw Error(`Mismatching Component ${V.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=V,this.shouldAutoInitialize()){if(function xe(Re){return"EAGER"===Re.instantiationMode}(V))try{this.getOrInitializeService({instanceIdentifier:ce})}catch{}for(const[F,j]of this.instancesDeferred.entries()){const ke=this.normalizeInstanceIdentifier(F);try{const Se=this.getOrInitializeService({instanceIdentifier:ke});j.resolve(Se)}catch{}}}}clearInstance(V=ce){this.instancesDeferred.delete(V),this.instancesOptions.delete(V),this.instances.delete(V)}delete(){var V=this;return(0,h.Z)(function*(){const F=Array.from(V.instances.values());yield Promise.all([...F.filter(j=>"INTERNAL"in j).map(j=>j.INTERNAL.delete()),...F.filter(j=>"_delete"in j).map(j=>j._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(V=ce){return this.instances.has(V)}getOptions(V=ce){return this.instancesOptions.get(V)||{}}initialize(V={}){const{options:F={}}=V,j=this.normalizeInstanceIdentifier(V.instanceIdentifier);if(this.isInitialized(j))throw Error(`${this.name}(${j}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ke=this.getOrInitializeService({instanceIdentifier:j,options:F});for(const[Se,He]of this.instancesDeferred.entries())j===this.normalizeInstanceIdentifier(Se)&&He.resolve(ke);return ke}onInit(V,F){var j;const ke=this.normalizeInstanceIdentifier(F),Se=null!==(j=this.onInitCallbacks.get(ke))&&void 0!==j?j:new Set;Se.add(V),this.onInitCallbacks.set(ke,Se);const He=this.instances.get(ke);return He&&V(He,ke),()=>{Se.delete(V)}}invokeOnInitCallbacks(V,F){const j=this.onInitCallbacks.get(F);if(j)for(const ke of j)try{ke(V,F)}catch{}}getOrInitializeService({instanceIdentifier:V,options:F={}}){let j=this.instances.get(V);if(!j&&this.component&&(j=this.component.instanceFactory(this.container,{instanceIdentifier:(Re=V,Re===ce?void 0:Re),options:F}),this.instances.set(V,j),this.instancesOptions.set(V,F),this.invokeOnInitCallbacks(j,V),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,V,j)}catch{}var Re;return j||null}normalizeInstanceIdentifier(V=ce){return this.component?this.component.multipleInstances?V:ce:V}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Te{constructor(V){this.name=V,this.providers=new Map}addComponent(V){const F=this.getProvider(V.name);if(F.isComponentSet())throw new Error(`Component ${V.name} has already been registered with ${this.name}`);F.setComponent(V)}addOrOverwriteComponent(V){this.getProvider(V.name).isComponentSet()&&this.providers.delete(V.name),this.addComponent(V)}getProvider(V){if(this.providers.has(V))return this.providers.get(V);const F=new fe(V,this);return this.providers.set(V,F),F}getProviders(){return Array.from(this.providers.values())}}},1877:(ht,be,N)=>{N.d(be,{Am:()=>Re,Ub:()=>Te,Yd:()=>xe,in:()=>O});const h=[];var O=(()=>{return(V=O||(O={}))[V.DEBUG=0]="DEBUG",V[V.VERBOSE=1]="VERBOSE",V[V.INFO=2]="INFO",V[V.WARN=3]="WARN",V[V.ERROR=4]="ERROR",V[V.SILENT=5]="SILENT",O;var V})();const X={debug:O.DEBUG,verbose:O.VERBOSE,info:O.INFO,warn:O.WARN,error:O.ERROR,silent:O.SILENT},ce=O.INFO,fe={[O.DEBUG]:"log",[O.VERBOSE]:"log",[O.INFO]:"info",[O.WARN]:"warn",[O.ERROR]:"error"},ue=(V,F,...j)=>{if(F<V.logLevel)return;const ke=(new Date).toISOString(),Se=fe[F];if(!Se)throw new Error(`Attempted to log a message with an invalid logType (value: ${F})`);console[Se](`[${ke}]  ${V.name}:`,...j)};class xe{constructor(F){this.name=F,this._logLevel=ce,this._logHandler=ue,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(F){if(!(F in O))throw new TypeError(`Invalid value "${F}" assigned to \`logLevel\``);this._logLevel=F}setLogLevel(F){this._logLevel="string"==typeof F?X[F]:F}get logHandler(){return this._logHandler}set logHandler(F){if("function"!=typeof F)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=F}get userLogHandler(){return this._userLogHandler}set userLogHandler(F){this._userLogHandler=F}debug(...F){this._userLogHandler&&this._userLogHandler(this,O.DEBUG,...F),this._logHandler(this,O.DEBUG,...F)}log(...F){this._userLogHandler&&this._userLogHandler(this,O.VERBOSE,...F),this._logHandler(this,O.VERBOSE,...F)}info(...F){this._userLogHandler&&this._userLogHandler(this,O.INFO,...F),this._logHandler(this,O.INFO,...F)}warn(...F){this._userLogHandler&&this._userLogHandler(this,O.WARN,...F),this._logHandler(this,O.WARN,...F)}error(...F){this._userLogHandler&&this._userLogHandler(this,O.ERROR,...F),this._logHandler(this,O.ERROR,...F)}}function Te(V){h.forEach(F=>{F.setLogLevel(V)})}function Re(V,F){for(const j of h){let ke=null;F&&F.level&&(ke=X[F.level]),j.userLogHandler=null===V?null:(Se,He,...Ze)=>{const Z=Ze.map(Ae=>{if(null==Ae)return null;if("string"==typeof Ae)return Ae;if("number"==typeof Ae||"boolean"==typeof Ae)return Ae.toString();if(Ae instanceof Error)return Ae.message;try{return JSON.stringify(Ae)}catch{return null}}).filter(Ae=>Ae).join(" ");He>=(ke??Se.logLevel)&&V({level:O[He].toLowerCase(),message:Z,args:Ze,type:Se.name})}}}},9260:(ht,be,N)=>{N.d(be,{Z:()=>h.Z});var h=N(3942);h.Z.registerVersion("firebase","9.23.0","app-compat")},5861:(ht,be,N)=>{function h(X,ce,fe,ue,xe,Te,Re){try{var V=X[Te](Re),F=V.value}catch(j){return void fe(j)}V.done?ce(F):Promise.resolve(F).then(ue,xe)}function O(X){return function(){var ce=this,fe=arguments;return new Promise(function(ue,xe){var Te=X.apply(ce,fe);function Re(F){h(Te,ue,xe,Re,V,"next",F)}function V(F){h(Te,ue,xe,Re,V,"throw",F)}Re(void 0)})}}N.d(be,{Z:()=>O})},7582:(ht,be,N)=>{function ce(Q,ne){var re={};for(var H in Q)Object.prototype.hasOwnProperty.call(Q,H)&&ne.indexOf(H)<0&&(re[H]=Q[H]);if(null!=Q&&"function"==typeof Object.getOwnPropertySymbols){var he=0;for(H=Object.getOwnPropertySymbols(Q);he<H.length;he++)ne.indexOf(H[he])<0&&Object.prototype.propertyIsEnumerable.call(Q,H[he])&&(re[H[he]]=Q[H[he]])}return re}function j(Q,ne,re,H){return new(re||(re=Promise))(function(De,at){function Ye(Vt){try{dt(H.next(Vt))}catch(In){at(In)}}function Jt(Vt){try{dt(H.throw(Vt))}catch(In){at(In)}}function dt(Vt){Vt.done?De(Vt.value):function he(De){return De instanceof re?De:new re(function(at){at(De)})}(Vt.value).then(Ye,Jt)}dt((H=H.apply(Q,ne||[])).next())})}function pe(Q){return this instanceof pe?(this.v=Q,this):new pe(Q)}function de(Q,ne,re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var he,H=re.apply(Q,ne||[]),De=[];return he={},at("next"),at("throw"),at("return"),he[Symbol.asyncIterator]=function(){return this},he;function at(Kt){H[Kt]&&(he[Kt]=function(hr){return new Promise(function(Un,Bn){De.push([Kt,hr,Un,Bn])>1||Ye(Kt,hr)})})}function Ye(Kt,hr){try{!function Jt(Kt){Kt.value instanceof pe?Promise.resolve(Kt.value.v).then(dt,Vt):In(De[0][2],Kt)}(H[Kt](hr))}catch(Un){In(De[0][3],Un)}}function dt(Kt){Ye("next",Kt)}function Vt(Kt){Ye("throw",Kt)}function In(Kt,hr){Kt(hr),De.shift(),De.length&&Ye(De[0][0],De[0][1])}}function Oe(Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var re,ne=Q[Symbol.asyncIterator];return ne?ne.call(Q):(Q=function Ze(Q){var ne="function"==typeof Symbol&&Symbol.iterator,re=ne&&Q[ne],H=0;if(re)return re.call(Q);if(Q&&"number"==typeof Q.length)return{next:function(){return Q&&H>=Q.length&&(Q=void 0),{value:Q&&Q[H++],done:!Q}}};throw new TypeError(ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(Q),re={},H("next"),H("throw"),H("return"),re[Symbol.asyncIterator]=function(){return this},re);function H(De){re[De]=Q[De]&&function(at){return new Promise(function(Ye,Jt){!function he(De,at,Ye,Jt){Promise.resolve(Jt).then(function(dt){De({value:dt,done:Ye})},at)}(Ye,Jt,(at=Q[De](at)).done,at.value)})}}}N.d(be,{FC:()=>de,KL:()=>Oe,_T:()=>ce,mG:()=>j,qq:()=>pe}),"function"==typeof SuppressedError&&SuppressedError}},ht=>{ht(ht.s=6679)}]);